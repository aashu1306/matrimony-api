"use strict";function Util(){}function space(a,b,c,d,e){this.spaceType=a,this.width=b,this.height=c,this.x=d,this.y=e}function Word(a){this.word=a.word,this.weight=a.weight,this.fontFactor=a.fontFactor,this.fontOffset=a.fontOffset,this.minWeight=a.minWeight,this.padding_left=a.padding_left,this.font_family=a.font_family,this.font=null,this.color=a.color,this.span=null,this.width=null,this.height=null,this.word_class=a.word_class,this._init()}function WordCloud(){this.defaultOptions={title:"JQ WOrd Cloud",words:[],minFont:10,maxFont:50,fontOffset:0,showSpaceDIV:!1,verticalEnabled:!0,cloud_color:null,cloud_font_family:null,spaceDIVColor:"white",padding_left:null,word_common_classes:null,word_click:function(){},word_mouseOver:function(){},word_mouseEnter:function(){},word_mouseOut:function(){},beforeCloudRender:function(){},afterCloudRender:function(){}},this.minWeight=null,this.maxWeight=null,this.spaceDataObject=null,this.spaceIdArray=null,this.words=null,this.fontFactor=1,this.methods={destroy:this._destroy}}var Chile=Chile||{};Chile={hexcolor:function(a){var b=["#E85949","#FEAB4F","#63A67D","#83CB9D","#015075","#1b4861","#53305b","#414567","#585D56","#53305b","#9937EC","#1B4258","#1B3258","#0E2F44","#3F1D0B","#CE3D8C","#ff7f50","#ffdab9","#0e2f44","#9937ec","#1b4258","#1b3258","#1b4861","#0d2057","#0d087e","#0b435d","#0b1d67","#ffaaa5","#414567","#2c404d","#1e3047","#955351","#b95f5f","#4A4A4A","#151d41","#916281","#916281","#404040","#191919","#666666","#333333","#d7d7d7","#048b9a","#955351","#b95f5f","#2c404d","#1e3047","#151d41","#28313d","#414567","#36413f","#464e38","#484b3c","#3f4a43","#424d4a","#4e5a5c","#612141","#4A4A4A","#F38A00","#008080"];return a in b?b[a]:b[0]},roundup:function(a,b){return!isNaN(parseFloat(a))&&isFinite(a)?"undefined"!=typeof b?a.toFixed(0):Math.round(a):"-"==a?a:0},pieroundup:function(a){var b=parseFloat(a);return!isNaN(b)&&isFinite(a)?b.toFixed(0):0},offCalc:function(a,b){var c=b-_.reduce(a,function(a,b){return a+Math.round(b.value)},0);return _.chain(a).sortBy(function(a){return Math.round(a.value)}).map(function(a,b){var d={key:a.key,value:Math.round(a.value)};return b||(d.value=Math.round(a.value)+c),"undefined"!=a.description&&(d.description=a.description),d}).value()},randRange:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},lighter:function(a,b){var c=0;c="undefined"!=typeof b?b:.3,a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var d,e,f="#";for(e=0;3>e;e++)d=parseInt(a.substr(2*e,2),16),d=Math.round(Math.min(Math.max(0,d+d*c),255)).toString(16),f+=("00"+d).substr(d.length);return f},pad:function(a){for(var b=String(a),c=2;b.length<c;)b="0"+b;return b},objLength:function(a){var b=Object.keys(a);return b.length},objectToArray:function(a){return $.map(a,function(a){return a})},objectToArrayWithKey:function(a){for(var b=Object.keys(a),c=0;c<b.length;c++)a[b[c]].key||(a[b[c]].key=b[c]);return $.map(a,function(a){return a})},arrayToObject:function(a){for(var b={},c=0;c<a.length;++c)b[c]=a[c];return b},uniq:function(a){var b=a.filter(function(a,b,c){return b==c.indexOf(a)});return b}};var app=angular.module("chile",["ui.router","ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","chart.js","nya.bootstrap.select","angular-svg-round-progressbar","angular-md5","rt.select2","datatables"]);app.constant("_",window._),app.config(["$httpProvider","$locationProvider",function(a,b){b.hashPrefix(""),a.defaults.cache=!0,a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("dashboard",{templateUrl:"views/layouts/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard",data:{toggleButton:!0}}).state("dashboard.sections",{views:{"topnav@dashboard":{templateUrl:"views/dashboard/areas/topnav.html"},"sidebar@dashboard":{templateUrl:"views/dashboard/areas/sidebar.html"},"footer@dashboard":{templateUrl:"views/dashboard/areas/footer.html"},"changelang@dashboard":{templateUrl:"views/dashboard/areas/change_language.html"},"content@dashboard":{templateUrl:"views/dashboard/areas/content.html"}}}).state("dashboard.sections.wordcloud",{url:"/wordcloud",templateUrl:"views/dashboard/wordCloud2.html",controller:"WordCloudCtrl",controllerAs:"wordcloud",title:"Wordcloud",authenticate:!0}).state("dashboard.sections.resumen",{url:"/resumen",templateUrl:"views/dashboard/resumen.html",controller:"ResumenCtrl",controllerAs:"resumen",title:"Dashboard",authenticate:!0}).state("dashboard.sections.mgptw",{url:"/model-great-place-to-work",templateUrl:"views/dashboard/model-great-place-to-work.html",controller:"MgptwCtrl",controllerAs:"modelogreatplace",title:"Model Great Place To Work",authenticate:!0}).state("dashboard.sections.giftwork",{url:"/modelo-giftwork",templateUrl:"views/dashboard/modelo-giftwork.html",controller:"MgCtrl",controllerAs:"modelogiftwork",title:"Modelo Giftwork",authenticate:!0}).state("dashboard.sections.preguntas",{url:"/preguntas-abiertas",templateUrl:"views/dashboard/preguntas-abiertas.html",controller:"PaCtrl",controllerAs:"preguntas",title:"Preguntas Abiertas",authenticate:!0}).state("dashboard.sections.ayuda",{url:"/ayuda",templateUrl:"views/dashboard/ayuda.html",controller:"AyudaCtrl",controllerAs:"ayuda",title:"Ayuda",authenticate:!0}).state("dashboard.sections.practicas",{url:"/buenas-practicas",templateUrl:"views/dashboard/buenas-practicas.html",controller:"BuenasPracticasCtrl",controllerAs:"pratices",title:"Best Practices",authenticate:!0}).state("dashboard.sections.comparativas",{templateUrl:"views/dashboard/comparativas.html",controller:"ComparativasCtrl",controllerAs:"comparativas"}).state("dashboard.sections.comparativas.graphs",{url:"/comparativas",title:"Comparativas",authenticate:!0,views:{"comparativas@demographic":{templateUrl:"views/dashboard/comparativas/demographic.html",controller:"DemographicCtrl",controllerAs:"demographic"},"comparativas@benchmark":{templateUrl:"views/dashboard/comparativas/benchmark.html",controller:"BenchMarkCtrl",controllerAs:"benchmark"},"comparativas@indices":{templateUrl:"views/dashboard/comparativas/indices.html",controller:"IndicesCtrl",controllerAs:"indices"}}}).state("dashboard.sections.analysis",{templateUrl:"views/dashboard/analysis.html",controller:"AnalysisCtrl",controllerAs:"analysis"}).state("dashboard.sections.segment-visualization",{url:"/segment-visualization",templateUrl:"views/dashboard/SegmentVisualization.html",controller:"SegmentVisualizationCtrl",controllerAs:"SegmentVisualization",title:"Segment Visualization",authenticate:!0}).state("dashboard.sections.analysis.graphs",{url:"/analysis",title:"Analysis",authenticate:!0,views:{"analysis@matriz":{templateUrl:"views/dashboard/analysis/matriz.html",controller:"MatrizCtrl",controllerAs:"matriz"},"analysis@gaps":{templateUrl:"views/dashboard/analysis/gaps.html",controller:"GapsCtrl",controllerAs:"gaps"}}}),a.state("reports",{templateUrl:"views/layouts/reports.html",controller:"DashboardCtrl",controllerAs:"dashboard",data:{toggleButton:!1}}).state("reports.sections",{views:{"topnav@reports":{templateUrl:"views/dashboard/areas/topnav.html"},"sidebar@reports":{templateUrl:"views/dashboard/areas/sidebar.html"},"footer@reports":{templateUrl:"views/dashboard/areas/footer.html"},"changelang@reports":{templateUrl:"views/dashboard/areas/change_language.html"},"content@reports":{templateUrl:"views/dashboard/areas/content.html"}}}).state("reports.sections.list",{url:"/reports",controller:"ReportCtrl",controllerAs:"Report",templateUrl:"views/reports/Report.html",authenticate:!0,title:"Reports"}).state("reports.sections.add",{url:"/createreport",controller:"CreateReportCtrl",controllerAs:"CreateReport",templateUrl:"views/reports/CreateReport.html",authenticate:!0,title:"Create Reports"}),a.state("login",{templateUrl:"views/layouts/login.html",controller:"LoginCtrl",controllerAs:"login"}).state("login.form",{url:"/login",template:"",controller:"LoginFormCtrl",controllerAs:"userLogin",authenticate:!1,title:"Login"}).state("login.forgot",{url:"/forgot_password",controller:"ForgotPasswordCtrl",controllerAs:"forgotPass",templateUrl:"views/login/forgot_password.html",authenticate:!1,title:"Forgot Password"}).state("login.logout",{url:"/logout",controller:"LogoutCtrl",authenticate:!1,title:"Logout"}).state("login.error",{url:"/error_logout",controller:"ErrorCtrl",controllerAs:"errorctrl",authenticate:!1,templateUrl:"views/login/error.html",title:"Error Logout",params:{message:null}}).state("login.portal",{url:"https://dev-rp-chile.gpssapp.com/",external:!0}),a.state("users",{templateUrl:"views/layouts/users.html",controller:"DashboardCtrl",controllerAs:"dashboard",data:{toggleButton:!1}}).state("users.sections",{views:{"topnav@users":{templateUrl:"views/dashboard/areas/topnav.html"},"footer@users":{templateUrl:"views/dashboard/areas/footer.html"},"changelang@users":{templateUrl:"views/dashboard/areas/change_language.html"},"content@users":{templateUrl:"views/dashboard/areas/content.html"}}}).state("users.sections.list",{url:"/usuarios",controller:"UsuariosCtrl",controllerAs:"usuarios",templateUrl:"views/users/usuarios.html",authenticate:!0,title:"Usuarios"}).state("users.sections.add",{url:"/usuarios/add",controller:"UsuariosAddCtrl",controllerAs:"usuariosadd",templateUrl:"views/users/usuarios_add.html",authenticate:!0,title:"Usuarios Add"}).state("users.sections.edit",{url:"/usuarios/edit/:id",controller:"UsuariosEditCtrl",controllerAs:"usuariosedit",templateUrl:"views/users/usuarios_edit.html",authenticate:!0,title:"Usuarios Edit"}).state("users.sections.profile",{url:"/mi-Perfil",controller:"MiPerfilCtrl",controllerAs:"miperfil",templateUrl:"views/users/mi-perfil.html",authenticate:!0,title:"Mi Perfil"})}]),app.run(["$rootScope","AuthService","Loader","PageTitle","$window","TransmitRequest",function(a,b,c,d,e,f){a.$on("$stateChangeStart",function(a,d,g,h,i){if(d.external){a.preventDefault();var j=new f({});e.open(j.getDomain(),"_self")}d.authenticate&&!b.isAuthenticated()&&(b.takeUserToLogin(),a.preventDefault()),c.setRequestComplete(!1)})}]),app.filter("roundup",function(){return function(a){return Chile.roundup(a)}}),app.filter("pad",function(){return function(a){return Chile.pad(a)}}),app.filter("hexcolor",function(){return function(a){return Chile.hexcolor(a)}}),app.filter("objectlength",function(){return function(a){return Chile.objLength(a)}}),app.filter("lighter",function(){return function(a){return Chile.lighter(a)}}),app.filter("with",function(){return function(a,b){return a?b?_.pick(a,function(a,c){return a.value.toLowerCase().indexOf(b.toLowerCase())>=0}):a:[]}}),app.directive("convertToNumber",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return parseInt(a,10)}),d.$formatters.push(function(a){return""+a})}}}),app.directive("roundProgressWidget",function(){return{restrict:"A",template:'<round-progress max="max" current="current" color="{{color}}" bgcolor="#B7B7B7" radius="100" stroke="15" semi="false" rounded="false" clockwise="true" responsive="true" duration="800" animation="easeInOutQuart" animation-delay="0"></round-progress>',link:function(a,b,c){a.max=100,a.current=c.current,a.color=c.color}}}),app.directive("radialCircleWidget",function(){return{restrict:"A",templateUrl:"views/partials/circles.html",scope:{graph:"=data",type:"=type"},controller:["$scope",function(a){a.max=100}]}}),app.directive("onFinishRender",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit("ngRepeatFinished-"+d.onFinishRender)})}}}]),app.controller("PageTitleCtrl",["PageTitle",function(a){var b=this;b.getTitle=function(){return a.getTitle()}}]),app.controller("LoginCtrl",["$scope","Messages",function(a,b){var c=this;return c.page=b,c}]),app.controller("LoginFormCtrl",["$scope","$state","md5","TransmitRequest","AuthService","Messages",function(a,b,c,d,e,f){var g=this;g.label={},g.email="",g.password="";var h=new d({url:"pages/userDetails.json"});h.sentGetRequest().then(function(a){a.is_error||(e.setUser(JSON.parse(a.data)),e.takeUserToPortal())})}]),app.controller("ForgotPasswordCtrl",["$state","TransmitRequest","Messages",function(a,b,c){var d=this,e=new b({url:"apis/getForgetPwdView.json"});return e.sentGetRequest().then(function(a){a.is_error||(d.label=a.data.label)}),d.processForm=function(){var e=new b({url:"apis/forgotPassword.json",params:{email:d.email}});return e.sentPostRequest().then(function(b){b.is_error||(c.setInfo(b.data.msg,"success"),a.go("login.form"))}),!1},d}]),app.controller("LogoutCtrl",["$state","TransmitRequest","AuthService","Messages","CacheService",function(a,b,c,d,e){var f=new b({url:"apis/logOff.json"});f.sentGetRequest().then(function(b){if(!b.is_error){c.destroySession();var f=new e;f.destroyAllCache(),d.setInfo("User has been logged of successfully","success"),a.go("login.portal")}})}]),app.controller("ErrorCtrl",["$state","$stateParams","TransmitRequest","AuthService","Messages","CacheService",function(a,b,c,d,e,f){var g=this;g.message=b.message,d.destroySession();var h=new f;return h.destroyAllCache(),g.redirect=function(){a.go("login.portal")},g}]),app.controller("DashboardCtrl",["$state","PageTitle","Messages","Loader","TransmitRequest","AuthService","ApiRequest","$window","$rootScope","$scope","$timeout",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var a=new e({url:"apis/viewLanguage.json?studyId="+f.getUserCookieValue("studyId")+"&company_id="+f.getUserCookieValue("company_id")});a.noloader().sentGetRequest().then(function(a){a.is_error||(angular.element(document.querySelector("#languagemodal")).removeClass("lang-disabled"),o.languageOptions=a.data.page_info,o.currentLanguage=o.languageOptions.selected_language,o.langlabel=a.data.label)})}function m(){var a=new e({url:"apis/updateCompany.json",params:{user_id:f.getUserCookieValue("id"),company_id:f.getUserCookieValue("company_id")}});a.sentPostRequest().then(function(a){return a&&!a.is_error?!0:void 0})}function n(){var a=new e({url:"apis/updateSurvey.json",params:{user_id:f.getUserCookieValue("id"),company_id:f.getUserCookieValue("company_id"),study_id:f.getUserCookieValue("studyId")}});a.sentPostRequest().then(function(a){return console.log(a),a&&!a.is_error?(f.setUserCookieValue("survey_id",a.data),!0):void 0})}var o=this;o.toggle=a.current.data.toggleButton,o.page=c,o.loader=d,o.currentLanguage="";k(l,1e4),o.changeLanguage=function(){var a=new e({url:"apis/changeLanguage.json",params:{user_id:f.getUserCookieValue("id"),studyId:f.getUserCookieValue("studyId"),company_id:f.getUserCookieValue("company_id"),language:o.currentLanguage}});a.sentPostRequest().then(function(a){a.is_error||(localStorage.setItem("IsResponseSetForPlaceholder","1"),h.location.reload())})},n();var p=new e({url:"apis/label.json?studyId="+f.getUserCookieValue("studyId")+"&company_id="+f.getUserCookieValue("company_id")});p.noloader().sentGetRequest().then(function(a){a.is_error||(o.profile=a.data.my_profile,o.sidebar=a.data.side_bar,o.footer=a.data.footer_data,o.pagetitle=a.data.pagetitle,o.changePageTitle())}),o.studyId=f.getUserCookieValue("studyId"),o.segmentId=f.getUserCookieValue("segmentId"),o.company_id=f.getUserCookieValue("company_id"),o.group_company_admin_flag=f.getUserCookieValue("group_company_admin_flag"),o.survey_id=f.getUserCookieValue("survey_id"),o.updateSegmentId=function(){f.setUserCookieValue("segmentId",o.segmentId),h.location.reload()},o.updateStudyId=function(){f.setUserCookieValue("studyId",o.studyId),n(),1==f.getUserCookieValue("group_company_admin_flag")&&f.setUserCookieValue("company_id","0"),f.setUserCookieValue("segmentId","0"),1==f.getUserCookieValue("group_company_admin_flag")?(h.location.href="https://"+h.location.host+"/files/ui-component/dist/#/resumen",h.location.reload()):h.location.reload()},o.updateCompanyId=function(){f.setUserCookieValue("company_id",o.company_id),n(),f.setUserCookieValue("segmentId","0"),m(),1==f.getUserCookieValue("group_company_admin_flag")?(h.location.href="https://"+h.location.host+"/files/ui-component/dist/#/resumen",h.location.reload()):h.location.reload()},o.changePageTitle=function(){if(void 0!==o.pagetitle&&void 0!==o.pagetitle[a.current.name]){var c=o.pagetitle[a.current.name];b.setTitle(c)}};var q=new g({url:"apis/getSummary.json",widgets:["study_data","segment_data","company_data"]});return q.noloader().sentRequest().then(function(a){a.is_error||(o.segment_data=a.data.segment_data,o.study_data=a.data.study_data,o.company_data=a.data.company_data)}),i.$on("$stateChangeSuccess",function(a,b,c,d,e){o.changePageTitle()}),o}]),app.controller("ResumenCtrl",["$state","$scope","ApiRequest","D3Graph","D3StackedGraph","_",function(a,b,c,d,e,f){var g=this;g.max=100,g.hideIndices=!0,g.stackedColors=["#015075","#A0BDCB","#E5EDF1"],b.preloader=!0;var h=new c({url:"apis/getSummary.json",widgets:["demographic_data","general_indices","giftwork_model","gptw_model","open_ended_model","responses_distribution","survey_data","static_ti_summary"]});g.giftworkModelPerspective="0",g.generalIndicesPerspective="0",g.responsesDistributionPerspective="0",g.demographicDataPerspective="1";var i=function(a,b,c){angular.forEach(b,function(b,e){var f={},g=0,h=[];f.selector=c+e,f.dataSet=[];var i=b.chart;a&&(i=b.chart[a]),angular.forEach(i,function(a,b){g+=parseFloat(Chile.pieroundup(a.value))}),angular.forEach(i,function(a,b){h.push({key:b,value:Chile.pieroundup(a.value)/g*100})}),angular.forEach(Chile.offCalc(h,100),function(a){a&&f.dataSet.push({legendLabel:"",magnitude:1,score:0,width:a.value,color:Chile.hexcolor(a.key)})}),f.dataSet.sort(function(a,b){return parseFloat(b.width)-parseFloat(a.width)});var j=3,k=j/f.dataSet.length,l=0;angular.forEach(f.dataSet,function(a,b){l?l==f.dataSet[b].width?f.dataSet[b].score=j:(j-=k,f.dataSet[b].score=j):f.dataSet[b].score=j,l=f.dataSet[b].width});var m=new d(f);m.generateGraph()})},j=function(a,b,c){var d={},g=[];d.selector=c,d.dataSet=[],f.each(b,function(b,c){g.push({key:c,value:Chile.pieroundup(b.value[a]),description:b.description})});var h=f.sortBy(Chile.offCalc(g,100),function(a){return a.key});f.each(h,function(a,b){d.dataSet.push({value:a.value,title:a.description})});var i=new e(d);i.generateGraph()},k=function(){j(1,g.response.responses_distribution.graph,"#sp-chart")};return g.redrawGraph=function(a){i(a,g.response.demographic_data.graph,"#demographicData")},g.redrawStackedGraph=function(a){j(a,g.response.responses_distribution.graph,"#sp-chart")},b.$on("ngRepeatFinished-open_ended_model",function(a){i(null,g.response.open_ended_model.graph,"#openEndedModel")}),b.$on("ngRepeatFinished-demographic_data",function(a){i(a.targetScope.resumen.demographicDataPerspective,g.response.demographic_data.graph,"#demographicData")}),g.response={},h.sentRequest().then(function(a){b.preloader=!0,a.is_error||(g.response=a.data,k()),b.preloader=!1}),g.finishLoading=function(){k()},g}]),app.controller("MgptwCtrl",["$state","$scope","ApiRequest",function(a,b,c){var d=this,e=!1,f=new c({url:"apis/getSummary.json",widgets:["dimension_data"]});return d.response={},f.sentRequest().then(function(a){a.is_error||(d.response=a.data)}),b.$on("ngRepeatFinished-tab_data",function(a){e||(fakewaffle.responsiveTabs(["xs","sm"]),jQuery(".accordion-toggle").on("click",function(a){a.preventDefault()}),e=!0)}),d}]),app.controller("MgCtrl",["ApiRequest",function(a){var b=this,c=new a({url:"apis/getSummary.json",widgets:["practices_data"]});b.practicesDataPerspective="0",c.sentRequest().then(function(a){a.is_error||(b.response=a.data,console.log(b.response))}),b.getColor=function(a,b){var c=Chile.hexcolor(a);return b%2!==0?Chile.lighter(c,.13):c},b.getColorRowEvenOdd=function(a,b){return b%2!==0?Chile.lighter(a,.13):a}}]),app.controller("PaCtrl",["$scope","ApiRequest",function(a,b){var c=this,d=new b({url:"apis/getSummary.json",widgets:["open_comment"]});return c.response={},c.comments=[],c.startProcess=function(){c.currentQuestion=Object.keys(c.response.map)[0],c.changeQuestion()},c.sortByQuestionAndPractice=function(){c.comments=[];var a=c.response.map[c.currentQuestion][c.currentPratice];if(a)for(var b=0;b<a.length;b++)c.comments.push(c.response.comments[a[b]])},c.changeQuestion=function(){if(c.currentPratice)c.sortByQuestionAndPractice();else{c.comments=[];var a=Chile.uniq(Chile.objectToArray(c.response.map[c.currentQuestion]));if(a)for(var b=0;b<a.length;b++)c.comments.push(c.response.comments[a[b]])}},c.changePractice=function(){if(c.comments=[],c.currentQuestion)c.sortByQuestionAndPractice();else{for(var a=[],b=Chile.objectToArray(c.response.map),d=0;d<b.length;d++)if(b[d][c.currentPratice])for(var e=0;e<b[d][c.currentPratice].length;e++)a.push(b[d][c.currentPratice][e]);if(a)for(var d=0;d<a.length;d++)c.comments.push(c.response.comments[a[d]])}},c.downloadSelected=function(){var a=[],b=$(".resumane-wrapper h1").text();$(".question-practice-statement-wrapper ul li").each(function(){var c={};c[b]=$(this).text().trim(),a.push(c)});alasql("SELECT * INTO XLSX('selected-comments.xls',{headers:true}) FROM ?",[a])},c.downloadAll=function(){for(var a=$.map(c.response.comments,function(a){return a}),b=[],d=$(".resumane-wrapper h1").text(),e=0;e<a.length;e++){var f={};f[d]=a[e],b.push(f)}alasql("SELECT * INTO XLSX('all-comments.xls',{headers:true}) FROM ?",[b])},d.sentRequest().then(function(a){a.is_error||(c.response=a.data.open_comment.page_info,c.label=a.data.open_comment.label,c.startProcess())}),c}]),app.directive("onFinishRender",["$timeout","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){c.$last===!0&&a(function(){c.$emit("ngRepeatFinished"),e.onFinishRender&&b(e.onFinishRender)(c)}),e.onStartRender&&c.$first===!0&&a(function(){c.$emit("ngRepeatStarted"),e.onStartRender&&b(e.onStartRender)(c)})}}}]),app.controller("SegmentVisualizationCtrl",["$state","ApiRequest","Share","$scope","D3Graph","D3StackedGraph","_","AuthService",function(a,b,c,d,e,f,g,h){var i=this;d.preloader=!1;var j=1,k=1,l=20,m=h.getUserCookieValue("studyId"),n=h.getUserCookieValue("company_id");i.response2={};var o=new b({url:"apis/getSummary.json",widgets:["segment_visualization"],seg_page:j,limitSize:l,studyId:m,company_id:n});i.stackedColors=["#015075","#A0BDCB","#E5EDF1"];var p=function(a){for(var b=0;b<a.highest.length;b++){var c={};c.selector="#sp-chart-highest-"+b,c.dataSet=[];for(var d=a.highest[b].graph,e=0;e<d.length;e++)c.dataSet.push({value:d[e].value,title:d[e].value});var g=new f(c);g.generateGraph()}for(var b=0;b<a.lowest.length;b++){var c={};c.selector="#sp-chart-lowest-"+b,c.dataSet=[];for(var d=a.lowest[b].graph,e=0;e<d.length;e++)c.dataSet.push({value:d[e].value,title:d[e].value});var g=new f(c);g.generateGraph()}};return o.sentRequest().then(function(a){a.is_error||(i.response=a.data,d.perspectives=i.response.segment_visualization.perspective,d.perspective=d.perspectives[0],d.ModelData=i.response.segment_visualization.page_info[d.perspective.key],d.HighestMore=5,d.LowestMore=5,d.updateModel=function(){j=1,k=1,d.ModelData=i.response.segment_visualization.page_info[d.perspective.key],d.HighestMore=5,d.LowestMore=5},d.HighestMoreIncrement=function(){d.HighestMore>=d.ModelData.highest.length&&d.highestMoreApiCall(),d.HighestMore+=5},d.LowestMoreIncrement=function(){d.LowestMore>=d.ModelData.lowest.length&&d.lowestMoreApiCall(),d.LowestMore+=5},d.callMyRenderMethod=function(){p(d.ModelData)})}),d.highestMoreApiCall=function(){d.preloader=!0,j+=1,o=new b({url:"apis/getSummary.json",widgets:["segment_visualization"],seg_page:j,limitSize:l,studyId:m,company_id:n}),o.sentRequest().then(function(a){for(var b=a.data.segment_visualization.page_info[d.perspective.key].highest,c=d.ModelData.highest.length-1,e=0;e<b.length;e++)d.ModelData.highest[c+(e+1)]=b[e];d.preloader=!1})},d.lowestMoreApiCall=function(){d.preloader=!0,k+=1,o=new b({url:"apis/getSummary.json",widgets:["segment_visualization"],seg_page:k,limitSize:l,studyId:m,company_id:n}),o.sentRequest().then(function(a){for(var b=a.data.segment_visualization.page_info[d.perspective.key].lowest,c=d.ModelData.lowest.length-1,e=0;e<b.length;e++)d.ModelData.lowest[c+(e+1)]=b[e];d.preloader=!1})},i}]),app.controller("ReportCtrl",["$state","TransmitRequest","ApiRequest","Share","CacheService","$scope","$window","AuthService","Messages","DTOptionsBuilder","DTColumnBuilder","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=this;return m.setPlaceholdersData=function(){var a=new b({url:"reports/indexPlaceholder.json"});a.sentGetRequest().then(function(a){a&&!a.is_error&&h.setPlaceholder(a.data)})},m.setPlaceholdersData(),f.Report={report_type:"",file_name:"",segments:"",orgbenchmark:"",wgbenchmark:"",language:"",studyId:h.getUserCookieValue("studyId"),company_id:h.getUserCookieValue("company_id")},f.loadReports=function(){var a=new b({url:"reports/index.json",params:{file_name:f.file_name,report_type:f.report_type,segments:f.segments,studyId:h.getUserCookieValue("studyId"),company_id:h.getUserCookieValue("company_id")}});a.sentPostRequest().then(function(b){if(!b.is_error){if(f.reports=b,2==f.reports.data.page_info.current_language)var c={sEmptyTable:"No data available in table",sInfo:"Mostrando _START_ to _END_ of _TOTAL_ resultados",sInfoEmpty:"Mostrando 0 to 0 of 0 resultados",sInfoFiltered:"(filtered from _MAX_ total resultados)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Mostrar _MENU_ resultados",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Buscar:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}};else var c={sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}};if(f.dtColumns=[k.newColumn(0).withTitle(f.reports.data.label.label_report_name).notSortable(),k.newColumn(1).withTitle(f.reports.data.label.label_segment_name),k.newColumn(2).withTitle(f.reports.data.label.label_report_type),k.newColumn(3).withTitle(f.reports.data.label.label_report_status),k.newColumn(4).withTitle(f.reports.data.label.label_btn_download)],f.dtOptions=j.newOptions().withPaginationType("full_numbers").withDisplayLength(10).withOption("order",[1,"desc"]).withLanguage(c),null!=f.reports.data.page_info.report_data)for(var d=0;d<f.reports.data.page_info.report_data.length;d++)f.reports.data.page_info.report_data[d].download_link=a.getDomain()+f.reports.data.page_info.report_data[d].download_link;f.surveyperspective=f.reports.data.page_info.surveyperspective}})},f.loadReports(),m}]),app.controller("CreateReportCtrl",["$state","TransmitRequest","ApiRequest","Share","CacheService","$scope","$window","AuthService","Messages","DTOptionsBuilder","DTColumnBuilder","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=this;return m.addReport={report_type:"",file_name:"",segments:"",orgbenchmark:"",wgbenchmark:"",language:""},f.setPlaceholdersData=function(){var a=new b({url:"reports/indexPlaceholder.json"});a.sentGetRequest().then(function(a){a&&!a.is_error&&h.setPlaceholder(a.data)})},f.setPlaceholdersData(),f.placeholder1=h.getplaceholderNameValue("placeholder1"),f.placeholder2=h.getplaceholderNameValue("placeholder2"),f.placeholder3=h.getplaceholderNameValue("placeholder3"),f.placeholder4=h.getplaceholderNameValue("placeholder4"),f.placeholder5=h.getplaceholderNameValue("placeholder5"),f.Report={report_type:"",file_name:"",segments:"",orgbenchmark:"",wgbenchmark:"",language:"",studyId:h.getUserCookieValue("studyId"),company_id:h.getUserCookieValue("company_id")},f.loadReports=function(){var a=new b({url:"reports/index.json",params:{file_name:f.file_name,report_type:f.report_type,segments:f.segments,studyId:h.getUserCookieValue("studyId"),company_id:h.getUserCookieValue("company_id")}});a.sentPostRequest().then(function(b){if(!b.is_error){if(f.reports=b,null!=f.reports.data.page_info.report_data)for(var c=0;c<f.reports.data.page_info.report_data.length;c++)f.reports.data.page_info.report_data[c].download_link=a.getDomain()+f.reports.data.page_info.report_data[c].download_link;f.surveyperspective=f.reports.data.page_info.surveyperspective}})},f.loadReports(),m.serverMsg="",f.loading=!1,m.processGenerateReport=function(){if(m.addReport.company_id=h.getUserCookieValue("company_id"),m.addReport.studyId=h.getUserCookieValue("studyId"),""==m.addReport.report_type)return alert(f.placeholder1),!1;if(""==m.addReport.segments)return alert(f.placeholder2),!1;if(""==m.addReport.orgbenchmark)return alert(f.placeholder3),!1;if(2==f.surveyperspective&&""==m.addReport.wgbenchmark)return alert(f.placeholder4),!1;if(""==m.addReport.language)return alert(f.placeholder5),!1;f.loading=!0;var a=new b({url:"reports/createReport.json",params:m.addReport});a.sentPostRequest().then(function(a){a.is_error?f.loading=!1:(alert("New report has been created. you can download it after 20 minutes."),localStorage.removeItem("IsResponseSetForPlaceholderForRedirectAgain"),g.location.href="https://"+g.location.host+"/files/ui-component/dist/#/reports")})},m}]),app.controller("AnalysisCtrl",["$state","ApiRequest","Share",function(a,b,c){var d=this,e=new b({url:"apis/getSummary.json",widgets:["gaps_data","ca_data"]});return e.sentRequest().then(function(a){a.is_error||(c.setSharedInfo(a.data,"analysis"),d.response=a.data)}),d}]),app.controller("ComparativasCtrl",["ApiRequest","Share",function(a,b){var c=this,d=new a({url:"apis/getSummary.json",widgets:["benchmark_data","benchmark_info","demographic_info","hist_demo","indices_data","study_data","segment_data"]});return d.sentRequest().then(function(a){a.is_error||(c.data=a.data,b.setSharedInfo(a.data,"comparativas"))}),c}]),app.controller("BuenasPracticasCtrl",["ApiRequest",function(a){var b=this;b.response={};var c=new a({url:"apis/getSummary.json",widgets:["good_practices_data"]});return c.sentRequest().then(function(a){a.is_error||(b.response=a.data)}),b}]),app.controller("AyudaCtrl",["ApiRequest",function(a){var b=this;b.response={};var c=new a({url:"apis/getSummary.json",widgets:["static_general_data","static_model_data","static_faq_data"]});return c.sentRequest().then(function(a){a.is_error||(b.response=a.data)}),b}]),app.controller("GapsCtrl",["$scope","Share","D3LineGraph","_",function(a,b,c,d){var e=this;e.statementChecks=[],e.data={},e.selected=0,e.orders={};var f=!1;b.getSharedInfo("analysis").then(function(a){e.data=a,g()});var g=function(){var a=!0;e.statementChecks=[],angular.forEach(e.data.gaps_data.perspective,function(a,b){e.orders[b]=!0}),angular.forEach(e.data.gaps_data.dimensions,function(b,c){e.statementChecks[c]={items:[],selected:[]},angular.forEach(b.statments,function(b,d){e.statementChecks[c].items.push(d),a===!0&&(e.selected=c,e.statementChecks[c].selected.push(d))}),a=!1})};return e.dowloadExcel=function(){var a=[];d.each(e.data.gaps_data.dimensions,function(b){var c=[];c.Statements=b.title,d.each(e.data.gaps_data.perspective,function(a,b){c[a]=""}),c.GAP="",a.push(c),d.each(b.statments,function(b){var c=[];c.Statements=b.title,d.each(e.data.gaps_data.perspective,function(a,d){c[a]=b.value[d]}),c.GAP=b.diffrence,a.push(c)})});alasql("SELECT * INTO XLSX('analysis-gaps.xls',{headers:true}) FROM ?",[a])},e.isChecked=function(a){return"undefined"==typeof e.statementChecks?!1:e.statementChecks[a].items.length>0&&e.statementChecks[a].selected.length===e.statementChecks[a].items.length},e.isAnyChecked=function(a){return"undefined"==typeof e.statementChecks?!1:e.statementChecks[a].items.length>0&&(e.statementChecks[a].selected.length===e.statementChecks[a].items.length||e.statementChecks[a].selected.length>0);
},e.isIndeterminate=function(a){return"undefined"==typeof e.statementChecks?!1:0!==e.statementChecks[a].selected.length&&e.statementChecks[a].selected.length!==e.statementChecks[a].items.length},e.toggleAll=function(b){e.selected=0,e.statementChecks[b].selected.length===e.statementChecks[b].items.length?e.statementChecks[b].selected=[]:(0===e.statementChecks[b].selected.length||e.statementChecks[b].selected.length>0)&&(e.statementChecks[b].selected=e.statementChecks[b].items.slice(0),e.selected=b),angular.forEach(e.statementChecks,function(a,c){c!=b&&(e.statementChecks[c].selected=[])}),a.$emit("ngRepeatFinished-gaps_data")},e.exists=function(a,b,c){return c&&(a=c),"undefined"==typeof b?!1:b.indexOf(a)>-1},e.toggle=function(b,c,d){d&&(b=d);var e=c.indexOf(b);e>-1?c.splice(e,1):c.push(b),a.$emit("ngRepeatFinished-gaps_data")},e.sortStatements=function(b,c){var g=e.data.gaps_data.dimensions[e.selected],h=f,i=1;b&&(h=e.orders[b]),h||(i=-1),e.data.gaps_data.dimensions[e.selected].statments=d.sortBy(g.statments,function(a,d){return"undefined"==typeof a.key&&(a.key=d),b?a[c][b]*i:a[c]*i}),b?e.orders[b]=!e.orders[b]:f=!f,a.$emit("ngRepeatFinished-gaps_data")},a.$on("ngRepeatFinished-gaps_data",function(a){angular.forEach(e.data.gaps_data.dimensions,function(a,b){var d={};d.selector="#d3-bar-"+b,d.dataSet=[],d.colors=[],angular.forEach(e.data.gaps_data.perspective,function(b,c){if(d.colors.length){var e=a.color;d.colors.push(Chile.lighter(e))}else d.colors.push(a.color)});var f=1;angular.forEach(a.statments,function(a,c){if(a.key&&(c=a.key),-1!==e.statementChecks[b].selected.indexOf(c)){var g={};Chile.pad(f);g.label={title:a.title,index:a.number,gap:Chile.roundup(a.diffrence),gap_label:e.data.gaps_data.label.tab_title},angular.forEach(e.data.gaps_data.perspective,function(b,c){g[b]=Chile.roundup(a.value[c])}),d.dataSet.push(g)}f++});var g=new c(d);g.generateGraph()})}),e}]),app.controller("MatrizCtrl",["Share","D3ScatterGraph",function(a,b){var c=this;c.data={},a.getSharedInfo("analysis").then(function(a){c.data=a,d()});var d=function(){var a=c.data.ca_data.value,d={id:"#scatter",data:[]};d.data.push({x_axis:Chile.roundup(a.company.ti_score),x_axis_label:c.data.ca_data.xaxis,y_axis_label:c.data.ca_data.yaxis,y_axis:Chile.roundup(a.company.ca_score),section:"company"}),angular.forEach(a.other,function(a){d.data.push({x_axis:Chile.roundup(a.ti_score),y_axis:Chile.roundup(a.ca_score),x_axis_label:c.data.ca_data.xaxis,y_axis_label:c.data.ca_data.yaxis,section:"others"})});var e=new b(d);e.generateGraph()};return c}]),app.controller("BenchMarkCtrl",["$scope","$timeout","ApiRequest","Share","D3LineGraph","D3LineBaseGraph","_",function(a,b,c,d,e,f,g){function h(){var d=new c({url:"apis/getSummary.json",widgets:["benchmark_data"],filters:{benchmark_demographic_id:i.dropdownFilter,benchmark_benchmark_id:i.benchmarkFilter,benchmark_media_id:i.perspectiveFilter,company_score_filter:i.companyScoreFilter}});d.sentRequest().then(function(c){c.is_error||(i.data.benchmark_data=c.data.benchmark_data,i.data.benchmark_data.show_graph||$("html, body").animate({scrollTop:"0px"},300),i.refresh=!1,b(function(){i.refresh=!0}),a.$emit("ngRepeatFinished-benchmark_data"))})}var i=this;i.data={},i.dimensionColor="",i.benchmarkFilter=[],i.perspectiveFilter=[0],i.checkboxFilter=[],i.dropdownFilter={},i.companyScoreFilter=[],a.preloader=!1,i.statementChecks=[],i.selected=0,i.refresh=!0,i.orders={perspective:[],benchmark:[],score:[]},a.initSubmitLoad=function(){i.benchmarkFilter=[],i.perspectiveFilter=[0],i.checkboxFilter=[],i.dropdownFilter={},i.companyScoreFilter=[],h()},i.dowloadExcel=function(){var a=[];g.each(i.data.benchmark_data.page_info.dimensions,function(b){var c=[];c.Statements=b.title,g.each(i.perspectiveFilter,function(a){var d=i.data.benchmark_data.page_info.perspective[a];c[d]=b.value[a]}),g.each(i.benchmarkFilter,function(a){var d=i.data.benchmark_info.value[a];c[d]=b.benchmark[a]}),g.each(i.companyScoreFilter,function(a){var d=i.data.benchmark_data.page_info.company_score[a];c[d]=b.companyScore[a]}),a.push(c),g.each(b.statments,function(b){var c=[];c.Statements=b.title,g.each(i.perspectiveFilter,function(a){var d=i.data.benchmark_data.page_info.perspective[a];c[d]=b.value[a]}),g.each(i.benchmarkFilter,function(a){var d=i.data.benchmark_info.value[a];c[d]=b.benchmark[a]}),g.each(i.companyScoreFilter,function(a){var d=i.data.benchmark_data.page_info.company_score[a];c[d]=b.companyScore[a]}),a.push(c)})});alasql("SELECT * INTO XLSX('benchmark-comparison.xls',{headers:true}) FROM ?",[a])},d.getSharedInfo("comparativas").then(function(a){i.data=a,j()}),i.getCheckedStatementColor=function(a,b){return b||(i.dimensionColor=""),i.dimensionColor=a,i.dimensionColor},a.$on("ngRepeatFinished-benchmark_data",function(a){var b={};b.selector="#d3-bar-benchmark-base",b.dataSet=[],b.colors=[],angular.forEach(i.data.benchmark_data.page_info.dimensions,function(a,c){var d={};d.label={index:a.title,title:a.title};var e=!1;angular.forEach(i.perspectiveFilter,function(c){d[i.data.benchmark_data.page_info.perspective[c]]=Chile.roundup(a.value[c]),b.colors.push(i.getCheckedStatementColor(a.color[c],e)),e=!0}),angular.forEach(a.benchmark,function(a,c){d[i.data.benchmark_info.value[c]]=Chile.roundup(a),b.colors.push(Chile.hexcolor(c))}),angular.forEach(a.companyScore,function(c,e){d[i.data.benchmark_data.page_info.company_score[e]]=Chile.roundup(c),b.colors.push(a.companyScoreColor[e])}),b.dataSet.push(d)});var c=new f(b);c.generateGraph()}),a.$on("ngRepeatFinished-benchmark_data",function(a){angular.forEach(i.data.benchmark_data.page_info.dimensions,function(a,b){var c=1,d={};d.selector="#d3-bar-benchmark-"+b,d.dataSet=[],d.colors=[];var c=1;angular.forEach(a.statments,function(e,f){if(e.key&&(f=e.key),-1!==i.statementChecks[b].selected.indexOf(f)){var g={};Chile.pad(c);g.label={index:e.number,title:e.title};var h=!1;angular.forEach(i.perspectiveFilter,function(b){g[i.data.benchmark_data.page_info.perspective[b]]=Chile.roundup(e.value[b]),d.colors.push(i.getCheckedStatementColor(a.color[b],h)),h=!0}),angular.forEach(e.benchmark,function(a,b){g[i.data.benchmark_info.value[b]]=Chile.roundup(a),d.colors.push(Chile.hexcolor(b))}),angular.forEach(e.companyScore,function(a,b){g[i.data.benchmark_data.page_info.company_score[b]]=Chile.roundup(a),d.colors.push(e.companyScoreColor[b])}),d.dataSet.push(g)}c++});var f=new e(d);f.generateGraph()})}),i.submitFilters=function(){a.preloader=!0;var d=new c({url:"apis/getSummary.json",widgets:["benchmark_data"],filters:{benchmark_demographic_id:i.dropdownFilter,benchmark_benchmark_id:i.benchmarkFilter,benchmark_media_id:i.perspectiveFilter,company_score_filter:i.companyScoreFilter}});d.sentRequest().then(function(c){c.is_error||(i.data.benchmark_data=c.data.benchmark_data,i.data.benchmark_data.show_graph||$("html, body").animate({scrollTop:"0px"},300),i.refresh=!1,b(function(){i.refresh=!0}),a.$emit("ngRepeatFinished-benchmark_data"),a.preloader=!1)})},i.perspectiveFilterToggle=function(a){var b=i.perspectiveFilter.indexOf(a);b>-1?i.perspectiveFilter.splice(b,1):i.perspectiveFilter.push(a)},i.perspectiveFilterIsChecked=function(a){return i.perspectiveFilter.indexOf(a)>-1},i.companyScoreFilterToggle=function(a){var b=i.companyScoreFilter.indexOf(a);b>-1?i.companyScoreFilter.splice(b,1):i.companyScoreFilter.push(a)},i.companyScoreFilterIsChecked=function(a){return i.companyScoreFilter.indexOf(a)>-1},i.checkboxFilterToggle=function(a){var b=i.checkboxFilter.indexOf(a);b>-1?(i.checkboxFilter.splice(b,1),void 0!==i.dropdownFilter[a]&&delete i.dropdownFilter[a]):i.checkboxFilter.push(a)},i.checkboxFilterIsChecked=function(a){return i.checkboxFilter.indexOf(a)>-1},i.benchmarkFilterToggle=function(a){var b=i.benchmarkFilter.indexOf(a);b>-1?i.benchmarkFilter.splice(b,1):i.benchmarkFilter.push(a)},i.benchmarkFilterIsChecked=function(a){return i.benchmarkFilter.indexOf(a)>-1},i.exists=function(a,b,c){return c&&(a=c),"undefined"==typeof b?!1:b.indexOf(a)>-1},i.toggle=function(b,c,d){d&&(b=d);var e=c.indexOf(b);e>-1?c.splice(e,1):c.push(b),a.$emit("ngRepeatFinished-benchmark_data")},i.isIndeterminate=function(a){return"undefined"==typeof i.statementChecks?!1:0!==i.statementChecks[a].selected.length&&i.statementChecks[a].selected.length!==i.statementChecks[a].items.length},i.isChecked=function(a){return"undefined"==typeof i.statementChecks?!1:i.statementChecks[a].items.length>0&&i.statementChecks[a].selected.length===i.statementChecks[a].items.length},i.isAnyChecked=function(a){return"undefined"==typeof i.statementChecks?!1:i.statementChecks[a].items.length>0&&(i.statementChecks[a].selected.length===i.statementChecks[a].items.length||i.statementChecks[a].selected.length>0)},i.toggleAll=function(b){i.selected=0,i.statementChecks[b].selected.length===i.statementChecks[b].items.length?i.statementChecks[b].selected=[]:(0===i.statementChecks[b].selected.length||i.statementChecks[b].selected.length>0)&&(i.statementChecks[b].selected=i.statementChecks[b].items.slice(0),i.selected=b),angular.forEach(i.statementChecks,function(a,c){c!=b&&(i.statementChecks[c].selected=[])}),a.$emit("ngRepeatFinished-benchmark_data")},i.sortStatements=function(b,c,d){var e=i.data.benchmark_data.page_info.dimensions[i.selected],f=1,h=i.orders[d][b];h||(f=-1),i.data.benchmark_data.page_info.dimensions[i.selected].statments=g.sortBy(e.statments,function(a,d){return"undefined"==typeof a.key&&(a.key=d),void 0!==a[c][b]?a[c][b]*f:f}),i.orders[d][b]=!i.orders[d][b],a.$emit("ngRepeatFinished-benchmark_data")};var j=function(){var a=!0;i.statementChecks=[],angular.forEach(i.data.benchmark_data.page_info.perspective,function(a,b){"undefined"==typeof i.orders.perspective[b]&&(i.orders.perspective[b]=[]),i.orders.perspective[b]=!0}),angular.forEach(i.data.benchmark_info.value,function(a,b){"undefined"==typeof i.orders.benchmark[b]&&(i.orders.benchmark[b]=[]),i.orders.benchmark[b]=!0}),angular.forEach(i.data.benchmark_data.page_info.dimensions,function(b,c){i.statementChecks[c]={items:[],selected:[]},angular.forEach(b.statments,function(b,d){i.statementChecks[c].items.push(d),a===!0&&(i.selected=c,i.statementChecks[c].selected.push(d))}),a=!1})};return i}]),app.controller("DemographicCtrl",["$scope","Loader","$timeout","AuthService","ApiRequest","Share","D3LineGraph","D3LineBaseGraph","_",function(a,b,c,d,e,f,g,h,i){var j=this,k=d.getUserCookieValue("studyId");j.data={},j.dimensionColor="",j.multiColor={},j.loader=b,j.demographicFilter={},j.studyFilter=[],j.perspectiveFilter=[0],j.checkboxFilter=[],j.dropdownFilter={},a.preloader=!1,k&&j.studyFilter.push(k),j.statementChecks=[],j.selected=0,j.orders={},j.refresh=!0,f.getSharedInfo("comparativas").then(function(a){j.data=a,l()});var l=function(){var a=!0;j.statementChecks=[],angular.forEach(j.data.hist_demo.page_info.perspective,function(a,b){angular.forEach(j.data.study_data.options,function(a,c){"undefined"==typeof j.orders[c]&&(j.orders[c]=[]),j.orders[c][b]=!0})}),angular.forEach(j.data.hist_demo.page_info.dimensions,function(b,c){j.statementChecks[c]={items:[],selected:[]},angular.forEach(b.statments,function(b,d){j.statementChecks[c].items.push(d),a===!0&&(j.selected=c,j.statementChecks[c].selected.push(d))}),a=!1})};return j.dowloadExcel=function(){var a=[];i.each(j.data.hist_demo.page_info.dimensions,function(b){var c=[];c.Statements=b.title,i.each(j.perspectiveFilter,function(a){i.each(j.studyFilter,function(d){var e=j.data.hist_demo.page_info.perspective[a]+" - "+j.data.study_data.options[d];c[e]=b.value[d][a]})}),a.push(c),i.each(b.statments,function(b){var c=[];c.Statements=b.title,i.each(j.perspectiveFilter,function(a){i.each(j.studyFilter,function(d){var e=j.data.hist_demo.page_info.perspective[a]+" - "+j.data.study_data.options[d];c[e]=b.value[d][a]})}),a.push(c)})});alasql("SELECT * INTO XLSX('historical-demographic.xls',{headers:true}) FROM ?",[a])},j.getCheckedStatementColor=function(a,b,c){return b||(j.multiColor[c]=""),j.multiColor[c]?j.multiColor[c]=Chile.lighter(j.multiColor[c],.08):j.multiColor[c]=a,j.multiColor[c]},j.sortStatements=function(b,c){var d=j.data.hist_demo.page_info.dimensions[j.selected],e=1,f=j.orders[c][b];f||(e=-1),j.data.hist_demo.page_info.dimensions[j.selected].statments=i.sortBy(d.statments,function(a,d){return"undefined"==typeof a.key&&(a.key=d),void 0!==a.value[c]&&void 0!==a.value[c][b]?a.value[c][b]*e:e}),j.orders[c][b]=!j.orders[c][b],a.$emit("ngRepeatFinished-hist_demo")},j.submitFilters=function(){a.preloader=!0;var b=new e({url:"apis/getSummary.json",widgets:["hist_demo"],filters:{historico_demographic_id:j.dropdownFilter,historico_study_id:j.studyFilter,historico_media_id:j.perspectiveFilter}});b.sentRequest().then(function(b){b.is_error||(j.data.hist_demo=b.data.hist_demo,j.data.hist_demo.show_graph||$("html, body").animate({scrollTop:"0px"},300),j.refresh=!1,c(function(){j.refresh=!0}),a.$emit("ngRepeatFinished-hist_demo"),a.preloader=!1)})},j.perspectiveFilterToggle=function(a){var b=j.perspectiveFilter.indexOf(a);b>-1?j.perspectiveFilter.splice(b,1):j.perspectiveFilter.push(a)},j.perspectiveFilterIsChecked=function(a){return j.perspectiveFilter.indexOf(a)>-1},j.studyFilterToggle=function(a){var b=j.studyFilter.indexOf(a);b>-1?j.studyFilter.splice(b,1):j.studyFilter.push(a)},j.studyFilterIsChecked=function(a){return j.studyFilter.indexOf(a)>-1},j.checkboxFilterToggle=function(a){var b=j.checkboxFilter.indexOf(a);b>-1?(j.checkboxFilter.splice(b,1),void 0!==j.dropdownFilter[a]&&delete j.dropdownFilter[a]):j.checkboxFilter.push(a)},j.checkboxFilterIsChecked=function(a){return j.checkboxFilter.indexOf(a)>-1},j.isChecked=function(a){return"undefined"==typeof j.statementChecks?!1:j.statementChecks[a].items.length>0&&j.statementChecks[a].selected.length===j.statementChecks[a].items.length},j.isAnyChecked=function(a){return"undefined"==typeof j.statementChecks?!1:j.statementChecks[a].items.length>0&&(j.statementChecks[a].selected.length===j.statementChecks[a].items.length||j.statementChecks[a].selected.length>0)},j.isIndeterminate=function(a){return"undefined"==typeof j.statementChecks?!1:0!==j.statementChecks[a].selected.length&&j.statementChecks[a].selected.length!==j.statementChecks[a].items.length},j.toggleAll=function(b){j.selected=0,j.statementChecks[b].selected.length===j.statementChecks[b].items.length?j.statementChecks[b].selected=[]:(0===j.statementChecks[b].selected.length||j.statementChecks[b].selected.length>0)&&(j.statementChecks[b].selected=j.statementChecks[b].items.slice(0),j.selected=b),angular.forEach(j.statementChecks,function(a,c){c!=b&&(j.statementChecks[c].selected=[])}),a.$emit("ngRepeatFinished-hist_demo")},j.exists=function(a,b,c){return c&&(a=c),"undefined"==typeof b?!1:b.indexOf(a)>-1},j.toggle=function(b,c,d){d&&(b=d);var e=c.indexOf(b);e>-1?c.splice(e,1):c.push(b),a.$emit("ngRepeatFinished-hist_demo")},a.$on("ngRepeatFinished-hist_demo",function(a){angular.forEach(j.data.hist_demo.page_info.dimensions,function(a,b){var c={};c.selector="#d3-bar-historic-"+b,c.dataSet=[],c.colors=[],angular.forEach(a.statments,function(d,e){if(d.key&&(e=d.key),-1!==j.statementChecks[b].selected.indexOf(e)){var f={};f.label={index:d.number,title:d.title};var g=!1;angular.forEach(j.perspectiveFilter,function(b){angular.forEach(j.studyFilter,function(e){void 0!==d.value[e]?f[j.data.hist_demo.page_info.perspective[b]+" - "+j.data.study_data.options[e]]=Chile.roundup(d.value[e][b]):f[j.data.hist_demo.page_info.perspective[b]+" - "+j.data.study_data.options[e]]=Chile.roundup(0),c.colors.push(j.getCheckedStatementColor(a.color,g,"graph")),g=!0})}),g=!1,c.dataSet.push(f)}});var d=new g(c);d.generateGraph()})}),a.$on("ngRepeatFinished-hist_demo",function(a){var b={};b.selector="#d3-bar-historic-base",b.dataSet=[],b.colors=[],angular.forEach(j.data.hist_demo.page_info.dimensions,function(a,c){var d={};d.label={index:a.title,title:a.title};var e=!1;angular.forEach(j.perspectiveFilter,function(c){angular.forEach(j.studyFilter,function(f){void 0!==a.value&&void 0!==a.value[f]?d[j.data.hist_demo.page_info.perspective[c]+" - "+j.data.study_data.options[f]]=Chile.roundup(a.value[f][c]):d[j.data.hist_demo.page_info.perspective[c]+" - "+j.data.study_data.options[f]]=Chile.roundup(0),b.colors.push(j.getCheckedStatementColor(a.color,e,"base")),e=!0})}),b.dataSet.push(d)});var c=new h(b);c.generateGraph()}),j}]),app.controller("IndicesCtrl",["$scope","$timeout","AuthService","ApiRequest","Share","C3LineChart","_",function(a,b,c,d,e,f,g){var h=this,i=c.getUserCookieValue("studyId");h.indexFilter=[],h.perspectiveFilter=[0],h.benchmarkFilter=[],h.studyFilter=[],h.callFilterRequest=!1,h.refresh=!0,a.preloader=!1,i&&h.studyFilter.push(i),e.getSharedInfo("comparativas").then(function(a){h.data=a,j()}),h.submitFilters=function(){a.preloader=!0;var c=new d({url:"apis/getSummary.json",widgets:["indices_data"],filters:{indices_indice_id:h.indexFilter,indices_benchmark_id:h.benchmarkFilter,indices_media_id:h.perspectiveFilter,indices_study_id:h.studyFilter}});c.sentRequest().then(function(c){c.is_error||(h.data.indices_data=c.data.indices_data,h.refresh=!1,b(function(){h.refresh=!0}),j(),a.preloader=!1)})},h.download=function(){var a=document.getElementById("chart1").innerHTML;a&&(a=a.replace(/\r?\n|\r/g,"").trim());var b=document.getElementById("canvas");canvg(b,a);var c=b.toDataURL("image/png"),d=new jsPDF("p","pt","c1");d.addImage(c,"PNG",40,40,900,400),d.save("comparativas-indices.pdf")},h.indexFilterToggle=function(a){var b=h.indexFilter.indexOf(a);b>-1?h.indexFilter.splice(b,1):h.indexFilter.push(a)},h.indexFilterIsChecked=function(a){return h.indexFilter.indexOf(a)>-1},h.perspectiveFilterToggle=function(a){var b=h.perspectiveFilter.indexOf(a);b>-1?h.perspectiveFilter.splice(b,1):h.perspectiveFilter.push(a)},h.perspectiveFilterIsChecked=function(a){return h.perspectiveFilter.indexOf(a)>-1},h.benchmarkFilterToggle=function(a){var b=h.benchmarkFilter.indexOf(a);b>-1?h.benchmarkFilter.splice(b,1):h.benchmarkFilter.push(a)},h.benchmarkFilterIsChecked=function(a){return h.benchmarkFilter.indexOf(a)>-1},h.studyFilterToggle=function(a){var b=h.studyFilter.indexOf(a);b>-1?h.studyFilter.splice(b,1):h.studyFilter.push(a)},h.studyFilterIsChecked=function(a){return h.studyFilter.indexOf(a)>-1};var j=function(){var a=[],b=[],c=["x"];if(!h.callFilterRequest&&(angular.forEach(h.data.indices_data.page_info.index_list,function(a,b){h.indexFilter.push(b)}),h.callFilterRequest=!0,!h.callFilterRequest))return h.submitFilters();angular.forEach(h.studyFilter,function(a){var b=h.data.study_data.options[a];c.push(b.match(/\d{1,4}/g)[0])}),a.push(c),angular.forEach(h.indexFilter,function(c){var d=h.data.indices_data.page_info.index[c];angular.forEach(h.benchmarkFilter,function(c){var e=[],f=h.data.benchmark_info.value[c];e.push(d.name+" - "+f),b.push("#D3D3D3"),angular.forEach(h.studyFilter,function(a){void 0!==d.value.benchmark[c]&&void 0!==d.value.benchmark[c][a]&&e.push(Chile.roundup(d.value.benchmark[c][a]))}),a.push(e)})}),angular.forEach(h.indexFilter,function(c){var d=h.data.indices_data.page_info.index[c];angular.forEach(h.perspectiveFilter,function(c){var e=[],f=h.data.indices_data.page_info.perspective[c];e.push(d.name+" - "+f),b.push(d.color),angular.forEach(h.studyFilter,function(a){void 0!==d.value.study[a]&&void 0!==d.value.study[a][c]&&e.push(Chile.roundup(d.value.study[a][c]))}),a.push(e)})});var d=new f({columns:a,color:b});d.generateGraph()};return h}]),app.controller("UsuariosCtrl",["$state","TransmitRequest","Messages","CacheService","$scope","$window","AuthService",function(a,b,c,d,e,f,g){var h=this;h.sorter={type:!0};var i=function(){var a=new b({url:"user_management_apis/viewUser.json?studyId="+g.getUserCookieValue("studyId")+"&company_id="+g.getUserCookieValue("company_id")});h.userList={},a.sentGetRequest().then(function(b){b.is_error||(h.userList=b.data.page_info,h.label=b.data.label,h.label.modal_label_download_sample_link=a.getDomain()+h.label.modal_label_download_sample_link,h.label.updatemodal_label_download_sample_link=a.getDomain()+h.label.updatemodal_label_download_sample_link,h.label.modal_label_submit_link=a.getDomain()+h.label.modal_label_submit_link)})};return h.sortBy=function(a){h.sorter[a]?h.userList=_.sortBy(h.userList,a):h.userList=_.sortBy(h.userList,a).reverse(),h.sorter[a]=!h.sorter[a]},h.deleteUser=function(a){var e=new b({url:"user_management_apis/deleteUser.json",params:{user_id:a,company_id:g.getUserCookieValue("company_id")}});e.sentPostRequest().then(function(a){if(!a.is_error){c.setInfo(a.data.message,"success");var b=new d("$http");b.removeCacheByPath("user_management_apis/viewUser.json"),localStorage.setItem("IsResponseSetForAdd","1"),i()}})},h.sendMail=function(a){var d=new b({url:"user_management_apis/resendMail.json",params:{user_id:a,company_id:g.getUserCookieValue("company_id")}});d.sentPostRequest().then(function(a){a.is_error||c.setInfo(a.data.message,"success")})},h.changeStatus=function(a){var e=new b({url:"user_management_apis/change_status.json",params:{user_id:a,company_id:g.getUserCookieValue("company_id")}});e.sentPostRequest().then(function(a){if(!a.is_error){c.setInfo(a.data.message,"success");var b=new d("$http");b.removeCacheByPath("user_management_apis/viewUser.json"),localStorage.setItem("IsResponseSetForAdd","1"),i()}})},i(),h.fd=new FormData,h.serverMsg="",e.loading=!1,e.uploadImage=function(a){h.modalLabelNoteClass="label-danger",h.serverMsg=a[0].name,h.fd.append("file",a[0])},e.processUploadForm=function(){e.loading=!0;var a=new b({url:"user_management_apis/upload_users.json?studyId="+g.getUserCookieValue("studyId")+"&company_id="+g.getUserCookieValue("company_id"),params:h.fd});a.sentFileRequest().then(function(a){a.is_error?e.loading=!1:(alert("Data uploaded successfully."),f.location.reload())})},h.ufd=new FormData,h.serverMsg="",e.loading=!1,e.updateUploadImage=function(a){h.modalLabelNoteClass="label-danger",h.serverMsg=a[0].name,h.ufd.append("file",a[0])},e.processUpdateForm=function(){e.loading=!0;var a=new b({url:"user_management_apis/upload_users.json?studyId="+g.getUserCookieValue("studyId")+"&company_id="+g.getUserCookieValue("company_id"),params:h.ufd});a.sentFileRequest().then(function(a){a.is_error?e.loading=!1:(alert("Data uploaded successfully."),f.location.reload())})},h}]),app.controller("UsuariosAddCtrl",["$state","TransmitRequest","Messages","CacheService","AuthService","$window",function(a,b,c,d,e,f){var g=this;g.addUser={check:[],orgbench:[],wgbench:[],studyId:e.getUserCookieValue("studyId"),company_id:e.getUserCookieValue("company_id")};var h=new b({url:"user_management_apis/addView.json?studyId="+e.getUserCookieValue("studyId")+"&company_id="+e.getUserCookieValue("company_id")});g.segmentToggle=function(a){var b=g.addUser.check.indexOf(a);b>-1?g.addUser.check.splice(b,1):g.addUser.check.push(a)},g.segmentIsChecked=function(a){return g.addUser.check.indexOf(a)>-1},g.processForm=function(){var a=new b({url:"user_management_apis/addUser.json",params:g.addUser});a.sentPostRequest().then(function(a){if(!a.is_error){c.setInfo(a.data.message,"success");var b=new d("$http");b.removeCacheByPath("user_management_apis/viewUser.json"),localStorage.setItem("IsResponseSetForAdd","1"),f.location.href="https://"+f.location.host+"/files/ui-component/dist/#/usuarios"}})},h.sentGetRequest().then(function(a){a.is_error||(g.formInfo=a.data.page_info,g.label=a.data.label)}),g.orgBenchmarkToggle=function(a){var b=g.addUser.orgbench.indexOf(a);b>-1?g.addUser.orgbench.splice(b,1):(g.addUser.orgbench.length>0&&g.addUser.orgbench.splice(0,1),g.addUser.orgbench.push(a))},g.orgBenchmarkIsChecked=function(a){return g.addUser.orgbench.indexOf(a)>-1},g.wgBenchmarkToggle=function(a){var b=g.addUser.wgbench.indexOf(a);b>-1?g.addUser.wgbench.splice(b,1):(g.addUser.wgbench.length>0&&g.addUser.wgbench.splice(0,1),g.addUser.wgbench.push(a))},g.wgBenchmarkIsChecked=function(a){return g.addUser.wgbench.indexOf(a)>-1}}]),app.controller("UsuariosEditCtrl",["$state","$stateParams","TransmitRequest","Messages","CacheService","AuthService","$window",function(a,b,c,d,e,f,g){var h=this,i=new c({url:"user_management_apis/editView.json",params:{user_id:b.id,studyId:f.getUserCookieValue("studyId"),company_id:f.getUserCookieValue("company_id")}});h.segmentToggle=function(a){var b=h.editUser.check.indexOf(a);b>-1?h.editUser.check.splice(b,1):h.editUser.check.push(a)},h.segmentIsChecked=function(a){return h.editUser.check.indexOf(a)>-1},h.processForm=function(){var a={},b=["check","orgbench","wgbench","email","phone","user_id","name","studyId","company_id"];angular.forEach(b,function(b){a[b]=h.editUser[b]});var i=new c({url:"user_management_apis/editUser.json?studyId="+f.getUserCookieValue("studyId")+"&company_id="+f.getUserCookieValue("company_id"),params:a});i.sentPostRequest().then(function(a){if(!a.is_error){d.setInfo(a.data.message,"success");var b=new e("$http");b.removeCacheByPath("user_management_apis/viewUser.json"),localStorage.setItem("IsResponseSetForAdd","1"),g.location.href="https://"+g.location.host+"/files/ui-component/dist/#/usuarios"}})},h.editUser={},i.sentPostRequest().then(function(c){c.is_error?a.go("users.sections.list"):(h.editUser=c.data.page_info,h.label=c.data.label,null===h.editUser.check&&(h.editUser.check=[]),null===h.editUser.orgbench&&(h.editUser.orgbench=[]),null===h.editUser.wgbench&&(h.editUser.wgbench=[]),h.editUser.user_id=b.id)}),h.orgBenchmarkToggle=function(a){var b=h.editUser.orgbench.indexOf(a);b>-1?h.editUser.orgbench.splice(b,1):(h.editUser.orgbench.length>0&&h.editUser.orgbench.splice(0,1),h.editUser.orgbench.push(a))},h.orgBenchmarkIsChecked=function(a){return h.editUser.orgbench.indexOf(a)>-1},h.wgBenchmarkToggle=function(a){var b=h.editUser.wgbench.indexOf(a);b>-1?h.editUser.wgbench.splice(b,1):(h.editUser.wgbench.length>0&&h.editUser.wgbench.splice(0,1),h.editUser.wgbench.push(a))},h.wgBenchmarkIsChecked=function(a){return h.editUser.wgbench.indexOf(a)>-1}}]),app.controller("MiPerfilCtrl",["$scope","$window","$state","$stateParams","TransmitRequest","Messages","CacheService","AuthService",function(a,b,c,d,e,f,g,h){var i=this;i.profile={check:[],orgbench:[],wgbench:[]},i.statedImageUpload=!1,i.chgpwd={},i.is_group_company_flag=d.group_company_admin_flag,i.company_id=d.company_id;var j=new e({url:"user_profile_apis/profileView.json?studyId="+h.getUserCookieValue("studyId")+"&company_id="+h.getUserCookieValue("company_id")}),k=new e({url:"user_profile_apis/getPasswordView.json?studyId="+h.getUserCookieValue("studyId")+"&company_id="+h.getUserCookieValue("company_id")});return i.segmentToggle=function(a){var b=i.profile.check.indexOf(a);b>-1?i.profile.check.splice(b,1):i.profile.check.push(a)},i.segmentIsChecked=function(a){return i.profile.check.indexOf(a)>-1},i.processProfileForm=function(){var a=new e({url:"user_profile_apis/myProfile.json",params:i.profile});a.sentPostRequest().then(function(a){if(!a.is_error){f.setInfo(a.data.message,"success");var b=new g("$http");b.removeCacheByPath("user_profile_apis/profileView.json")}})},i.processChangePwdForm=function(){var a=new e({url:"user_profile_apis/changePassword.json?studyId="+h.getUserCookieValue("studyId")+"&company_id="+h.getUserCookieValue("company_id"),params:i.chgpwd});a.sentPostRequest().then(function(a){a.is_error||(f.setInfo(a.data.message,"success"),b.location.href="https://"+b.location.host)})},a.uploadImage=function(a){var c=new FormData;c.append("file",a[0]);var d=new e({url:"user_profile_apis/uploadPhoto.json",params:c});i.statedImageUpload=!0,d.sentFileRequest().then(function(a){a.is_error||(f.setInfo(a.data.message,"success"),i.profile.profile_photo=a.data.profile_photo,b.location.reload())})},j.sentGetRequest().then(function(a){a.is_error||(i.profile=a.data.page_info,i.label=a.data.label)}),k.sentGetRequest().then(function(a){a.is_error||(i.chgpwdlabel=a.data.label)}),i.orgBenchmarkToggle=function(a){var b=i.profile.orgbench.indexOf(a);b>-1?i.profile.orgbench.splice(b,1):(i.profile.orgbench.length>0&&i.profile.orgbench.splice(0,1),i.profile.orgbench.push(a))},i.orgBenchmarkIsChecked=function(a){return i.profile.orgbench.indexOf(a)>-1},i.wgBenchmarkToggle=function(a){var b=i.profile.wgbench.indexOf(a);b>-1?i.profile.wgbench.splice(b,1):(i.profile.wgbench.length>0&&i.profile.wgbench.splice(0,1),i.profile.wgbench.push(a))},i.wgBenchmarkIsChecked=function(a){return i.profile.wgbench.indexOf(a)>-1},i.redirectToDashboard=function(){window.location.href=i.profile.urllink+"/files/ui-component/dist/#/resumen"},i}]),app.factory("ApiRequest",["TransmitRequest","AuthService","$q",function(a,b,c){function d(a){a&&this.setRequest(a)}return d.prototype={spinner:!0,setRequest:function(a){this.request={widgets:[],filters:{}},angular.extend(this,{request:a})},sentRequest:function(){var b=c.defer(),d=new a({url:this.request.url,params:this.generateParams()});return d.sentPostRequest().then(function(a){b.resolve(a)}),this.spinner||(d=d.noloader()),b.promise},generateParams:function(){var a={},c=this,d={};return d={user_id:b.getUserCookieValue("id"),company_id:b.getUserCookieValue("company_id"),segment_id:b.getUserCookieValue("segmentId"),study_id:b.getUserCookieValue("studyId"),widget:this.request.widgets,filter:this.request.filters},null!=this.request.seg_page&&(d.seg_page=this.request.seg_page),null!=this.request.limitSize&&(d.limitSize=this.request.limitSize),angular.forEach(d,function(b,d){c.checkIfEmpty(b)||(a[d]=b)}),a},checkIfEmpty:function(a){var b,c,d,e,f=[b,null,!1,0,"","0"];for(d=0,e=f.length;e>d;d++)if(a===f[d])return!0;if("object"==typeof a){for(c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},noloader:function(){return this.spinner=!1,this}},d}]),app.factory("AuthService",["$cookies","$state","Messages",function(a,b,c){return{cookieName:"userDetails",placeholderName:"placeholderDetails",setUser:function(b){var c={id:b.id,studyId:b.study_id,company_id:b.company_id,segmentId:b.segmentId,group_company_admin_flag:b.group_company_admin_flag,survey_id:b.survey_id};a.putObject(this.cookieName,c,{secure:!0})},setPlaceholder:function(b){var c={placeholder1:b.label.label_type_placeholder,placeholder2:b.label.label_segment_select_placeholder,placeholder3:b.label.label_orgbenchmark_select_placeholder,placeholder4:b.label.label_wgbenchmark_select_placeholder,placeholder5:b.label.label_language_select_placeholder};a.putObject(this.placeholderName,c,{secure:!0})},getplaceholderName:function(){var b=a.getObject(this.placeholderName);return b?b:null},isAuthenticated:function(){var a=this.getUserCookie();return a?!0:!1},takeUserToLogin:function(){b.go("login.form")},destroySession:function(){a.remove(this.cookieName)},getUserCookieValue:function(a){var b=this.getUserCookie();return void 0!==typeof b[a]?b[a]:null},setUserCookieValue:function(b,c){var d=this.getUserCookie();b&&(d[b]=c),a.putObject(this.cookieName,d,{secure:!0})},getUserCookie:function(){var b=a.getObject(this.cookieName);return b?b:null},getplaceholderNameValue:function(a){var b=this.getplaceholderName();return void 0!==typeof b[a]?b[a]:null},setplaceholderNameValue:function(b,c){var d=this.getplaceholderName();b&&(d[b]=c),a.putObject(this.placeholderName,d,{secure:!0})},takeUserToPortal:function(){b.go("dashboard.sections.resumen")}}}]),app.factory("Share",["$q",function(a){var b={deferred:{},getSharedInfo:function(a){var b=this.getDeferred(a);return b.promise},setSharedInfo:function(a,b){var c=this.getDeferred(b);c.resolve(a)},getDeferred:function(b){return"undefined"==typeof this.deferred[b]&&(this.deferred[b]=a.defer()),this.deferred[b]}};return b}]),app.factory("Messages",["$rootScope",function(a){var b={message:"",type:"info",shown:!1},c={getMessage:function(){return b.shown=!0,b.message},getType:function(a){return b.type==a},setInfo:function(a,c){b.shown=!1,b.message=a,b.type=c}};return a.$on("$stateChangeStart",function(){b.shown&&b.message&&c.setInfo("","info")}),c}]),app.factory("TransmitRequest",["md5","$state","$location","$http","$q","Messages","Loader","CacheService","AuthService",function(a,b,c,d,e,f,g,h,i){
function j(a){a&&this.setRequest(a)}return j.prototype={cacheableUrls:["apis/getSummary.json"],spinner:!0,setRequest:function(a){angular.extend(this,{request:a})},isUrlCacheable:function(){return-1!=$.inArray(this.request.url,this.cacheableUrls)},getRequestCacheInstance:function(){return new h("request_post")},cacheForCheck:function(){var a=this.getRequestCacheInstance(),b=this.generateKey();return a.getCacheByKey(b)},generateKey:function(){var b=JSON.stringify(this.request),c=a.createHash(b);return c},getDomain:function(){var a=c.protocol(),b=c.host();return"localhost"!=b&&"testurapp.com"!=b&&"192.168.1.33"!=b&&"0.0.0.0"!=b?a+"://"+b+"/":"https://dev-rp-chile.gpssapp.com/"},onSuccess:function(a,d){var e=(c.protocol(),c.host()),g=a.data.response;if(g&&g.is_error){if("logout"==g.error_type&&"localhost"!=e&&"testurapp.com"!=e&&"192.168.1.33"!=e&&"0.0.0.0"!=e)return b.go("login.error",{message:g.error_message});"object"==typeof g.error_message&&(g.error_message=g.error_message.errorfiledownloadmsg+'<a href="'+this.getDomain()+g.error_message.errorfiledownloadlink+'" >'+g.error_message.errorfilename+"</a>"),f.setInfo(g.error_message,"danger"),localStorage.setItem("IsResponseSet","1")}else{var h=this.getRequestCacheInstance();h.putCacheByKey(this.generateKey(),g)}this.resolveLoader(),d.resolve(g)},onError:function(a,b){a.data&&(f.setInfo(a.data.message,"danger"),b.resolve({is_error:!0,data:{},error_message:a.data.message})),this.resolveLoader()},sentPostRequest:function(){var a=e.defer(),b=this,c=!1;return this.isUrlCacheable()&&(c=this.cacheForCheck()),c?(this.resolveLoader(),a.resolve(c),a.promise):(d.post(this.getDomain()+this.request.url,$.param(this.request.params),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(c){b.onSuccess(c,a)},function(c){b.onError(c,a)}),a.promise)},sentGetRequest:function(){var a=e.defer(),b=this;return d.get(this.getDomain()+this.request.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(c){b.onSuccess(c,a)},function(c){b.onError(c,a)}),a.promise},sentFileRequest:function(){var a=e.defer(),b=this;return d.post(this.getDomain()+this.request.url,this.request.params,{headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(c){b.onSuccess(c,a)},function(c){b.onError(c,a)}),a.promise},noloader:function(){return this.spinner=!1,this},resolveLoader:function(){this.spinner&&g.setRequestComplete(!0)}},j}]),app.factory("PageTitle",function(){var a="";return{getTitle:function(){return a},setTitle:function(b){a=b}}}),app.factory("Loader",function(){var a=!1;return{getRequestComplete:function(){return a},setRequestComplete:function(b){a=b}}}),app.factory("C3LineChart",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){c3.generate({bindto:"#chart1",size:{width:900,height:400},data:{x:"x",columns:this.graph.columns},color:{pattern:this.graph.color},grid:{x:{show:!1},y:{show:!0}},point:{show:!0,r:5},axis:{y:{min:0,max:100,padding:{bottom:0,top:0}}},tooltip:{grouped:!1,format:{},contents:function(a,b,c,d){var e="",f=a[0];return e='<table class="c3-tooltip arrow-right"><tbody><tr><th colspan="2" class="year-value">'+b(f.x)+"</th></tr>",e+='<tr class="c3-tooltip-name-'+f.id+'"><td class="name">',e+='<span style="background-color:'+d(f.id)+'"></span>'+f.name+"</td>",e+='<td class="value">'+c(f.value)+"</td></tr>",e+="</tbody></table>"}}})}},a}),app.factory("D3Graph",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){var a=200,b=200,c=130,d=30,e=this.graph.dataSet;jQuery(this.graph.selector).empty();var f=d3.select(this.graph.selector).append("svg:svg").data([e]).attr("width",a).attr("height",b).append("svg:g").attr("transform","translate("+1.5*c+","+1.5*c+")"),g=d3.svg.arc().outerRadius(c),h=d3.svg.arc().innerRadius(d).outerRadius(function(a){return(c-d)*(a.data.score/5)+d}),i=d3.layout.pie().sort(null).value(function(a){return a.width}),j=f.selectAll("g.slice").data(i).enter().append("svg:g").attr("class","slice");j.append("svg:path").attr("fill",function(a,b){return a.data.color}).attr("d",h);j.append("svg:text").attr("transform",function(a){return a.outerRadius=0,a.innerRadius=0,"translate("+g.centroid(a)+")"}).attr("text-anchor","middle").text(function(a){return a.data.width+"%"}).style("fill","#000000").style("font","bold 12px Arial")}},a}),app.factory("D3LineGraph",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){jQuery(this.graph.selector).empty(),jQuery("div.toolTip").hide();var a={top:-6,right:20,bottom:50,left:27},b=980-a.left-a.right,c=500-a.top-a.bottom,d=this.graph.dataSet,e=d3.scale.ordinal().rangeRoundBands([0,b],.4),f=d3.scale.ordinal(),g=d3.scale.linear().range([c,0]),h=(d3.scale.category20(),d3.scale.ordinal().range(this.graph.colors)),i=d3.svg.axis().scale(e).orient("bottom"),j=d3.svg.axis().scale(g).orient("left"),k=d3.select("body").append("div").attr("class","toolTip"),l=d3.select(this.graph.selector).append("svg").attr("width",b+a.left+a.right).attr("height",c+a.top+a.bottom).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 960 500").append("g").attr("transform","translate("+a.left+","+a.top+")"),m=d3.keys(d[0]).filter(function(a){return"label"!==a});d.forEach(function(a){a.valores=m.map(function(b){return{name:b,value:"-"==a[b]?"":+a[b]}})}),e.domain(d.map(function(a){return a.label.index})),f.domain(m).rangeRoundBands([0,e.rangeBand()]),g.domain([0,110]),l.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(i),l.append("g").attr("class","y axis").call(j);var n=l.selectAll(".bar").data(d).enter().append("g").attr("class","rect").attr("transform",function(a){return"translate("+e(a.label.index)+",0)"});n.selectAll("rect").data(function(a){return a.valores}).enter().append("rect").attr("width",f.rangeBand()).attr("x",function(a){return f(a.name)}).attr("y",function(a){return g(a.value)}).attr("value",function(a){return a.name}).attr("height",function(a){return c-g(a.value)}).attr("class","foo").style("fill",function(a){return h(a.name)}),n.on("mousemove",function(a){var b='<span class="tool-title">'+a.label.title+"</span>",c=Object.keys(a),d=c.indexOf("label");d>-1&&c.splice(d,1);var d=c.indexOf("valores");d>-1&&c.splice(d,1),c.forEach(function(c){b+="<span class='c3-bar-labels' style='font-weight:bold'>"+c+"</span>: "+("-"==a[c]?"N/A":a[c]+"%")+"<br>"}),k.style("left",d3.event.pageX-220+"px"),k.style("top",d3.event.pageY-28+"px"),k.style("display","inline-block"),a.label.gap&&(b+="<span class='c3-bar-labels'>"+a.label.gap_label+"</span>: "+a.label.gap+"%"),k.html('<div class="graph-tooltip" >'+b+"</div>")}),n.on("mouseout",function(a){k.style("display","none")});var o=l.selectAll(".legend").data(m.slice()).enter().append("g").attr("class","legend").attr("transform",function(a,b){return"translate(0,"+20*b+")"});o.append("rect").attr("x",b-18).attr("width",18).attr("height",18).style("fill",h),o.append("text").attr("x",b-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(a){return a}),n.transition().attr("height",function(a){return a}).attr("y",function(a){return c-a}).delay(function(a,b){return 15*b}).ease("elastic").duration(1e3)}},a}),app.factory("D3LineBaseGraph",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){jQuery(this.graph.selector).empty(),jQuery("div.toolTip").hide();var a={top:-6,right:20,bottom:50,left:27},b=1e3-a.left-a.right,c=500-a.top-a.bottom,d=this.graph.dataSet,e=d3.scale.ordinal().rangeRoundBands([0,b],.4),f=d3.scale.ordinal(),g=d3.scale.linear().range([c,0]),h=(d3.scale.category20(),d3.scale.ordinal().range(this.graph.colors)),i=d3.svg.axis().scale(e).orient("bottom"),j=d3.svg.axis().scale(g).orient("left"),k=d3.select("body").append("div").attr("class","toolTip"),l=d3.select(this.graph.selector).append("svg").attr("width",b+a.left+a.right).attr("height",c+a.top+a.bottom).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+Math.min(b,c)+" "+Math.min(b,c)).append("g").attr("transform","translate("+a.left+","+a.top+")"),m=d3.keys(d[0]).filter(function(a){return"label"!==a}),n=0;d.forEach(function(a,b){a.valores=m.map(function(b){return{name:b,value:"-"==a[b]?"":+a[b],label:++n}})}),e.domain(d.map(function(a){return a.label.index})),f.domain(m).rangeRoundBands([0,e.rangeBand()]),g.domain([0,110]),l.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(i),l.append("g").attr("class","y axis").call(j);var o=l.selectAll(".bar").data(d).enter().append("g").attr("class","rect").attr("transform",function(a){return"translate("+e(a.label.index)+",0)"});o.selectAll("rect").data(function(a){return a.valores}).enter().append("rect").attr("width",f.rangeBand()).attr("x",function(a){return f(a.name)}).attr("y",function(a){return g(a.value)}).attr("value",function(a){return a.name}).attr("height",function(a){return c-g(a.value)}).style("fill",function(a){return h(a.label)}),o.on("mousemove",function(a){var b='<span class="tool-title">'+a.label.title+"</span><br><br>",c=Object.keys(a),d=c.indexOf("label");d>-1&&c.splice(d,1);var d=c.indexOf("valores");d>-1&&c.splice(d,1),c.forEach(function(c){b+="<span class='c3-bar-labels' style='font-weight:bold'>"+c+"</span>: "+("-"==a[c]?"N/A":a[c]+"%")+"<br>"}),k.style("left",d3.event.pageX-220+"px"),k.style("top",d3.event.pageY-28+"px"),k.style("display","inline-block"),a.label.gap&&(b+="<span class='c3-bar-labels'>GAP</span>: "+a.label.gap+"%"),k.html('<div class="graph-tooltip" >'+b+"</div>")}),o.on("mouseout",function(a){k.style("display","none")});var p=l.selectAll(".legend").data(m.slice()).enter().append("g").attr("class","legend").attr("transform",function(a,b){return"translate(0,"+20*b+")"});p.append("rect").attr("x",b-18).attr("width",18).attr("height",18).style("fill",h),p.append("text").attr("x",b-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(a){return a}),o.transition().attr("height",function(a){return a}).attr("y",function(a){return c-a}).delay(function(a,b){return 15*b}).ease("elastic").duration(1e3)}},a}),app.factory("D3StackedGraph",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){jQuery(this.graph.selector).empty();var a=[],b=this.graph.dataSet;b.forEach(function(b){a.push(b.value)});var c="100%",d=12,e=0,f=0,g=0,h=d3.sum(a),i=d3.select(this.graph.selector).attr("width","100%").attr("height",d).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+Math.min(c,d)+" "+Math.min(c,d)),j=d3.scale.ordinal().range(["#015075","#A0BDCB","#E5EDF1"]),k=i.selectAll("g").data(a).enter().append("g");k.append("rect").attr("width",function(a){return a/h*100+"%"}).attr("x",function(a){var b=e,c=100*(a/h);return e+=c,b+"%"}).attr("height",d).attr("fill",function(a,b){return j(a+b)}),e=0,k.append("svg:text").text(function(a){return a+"%"}).attr("dy","30").attr("dx",function(a,b){return b?(f+=g,g=a,f+"%"):(g=a,"0%")}).style("fill","#000000").style("font","bold 20px Arial")}},a}),app.factory("D3ScatterGraph",function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,{graph:a})},generateGraph:function(){var a=this.graph.data,b=(d3.select("body").append("div").attr("class","toolTip"),d3.select(this.graph.id)),c={top:10,right:10,bottom:10,left:10},d=+b.attr("width"),e=+b.attr("height"),f=d-c.left-c.right,g=e-c.top-c.bottom,h=d3.scale.linear().domain([0,100]).range([0,f]),i=d3.scale.linear().domain([0,100]).range([g,0]),j=b.attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 960 500").append("g").attr("transform","translate("+c.top+","+c.top+")");j.append("rect").attr("width",d-c.left-c.right).attr("height",e-c.top-c.bottom).attr("fill","#F6F6F6"),a.forEach(function(a){a.x_axis=+a.x_axis,a.y_axis=+a.y_axis}),j.selectAll("circle").data(a).enter().append("circle").attr("class","dot").attr("r",function(a){return"company"==a.section?8:4}).attr("cx",function(a){return h(a.x_axis)}).attr("cy",function(a){return i(a.y_axis)}).style("fill",function(a){return"company"==a.section?"#990000":"#545454"}),j.append("g").attr("class","x axis").attr("transform","translate(0,"+i.range()[0]/2+")").call(d3.svg.axis().scale(h).orient("bottom").tickPadding(5).tickValues(d3.range(0,105,5))),j.append("g").attr("class","y axis").attr("transform","translate("+h.range()[1]/2+", 0)").call(d3.svg.axis().scale(i).orient("left").tickPadding(5).tickValues(d3.range(0,105,5)))}},a}),app.factory("CacheService",["$cacheFactory","_","$location",function(a,b,c){function d(a){a&&this.getCacheInstance(a)}return d.prototype={keys:["$http","request_post"],cacheObject:{},getCacheInstance:function(b){var c=a.get(b);c||(c=a(b)),this.cacheObject=c},generateApiPath:function(){var a=c.protocol(),b=c.host();return"localhost"!=b&&"testurapp.com"!=b&&"192.168.1.33"!=b&&"0.0.0.0"!=b?a+"://"+b+"/":"https://dev-rp-chile.gpssapp.com/"},removeCacheByPath:function(a){this.cacheObject.remove(this.generateApiPath()+a)},removeAllCache:function(){this.cacheObject.removeAll()},getCacheByKey:function(a){return this.cacheObject.get(a)},putCacheByKey:function(a,b){return this.cacheObject.put(a,b)},destroyAllCache:function(){var a=this;b.each(this.keys,function(b){a.getCacheInstance(b),a.removeAllCache()})}},d}]);var wordcloud_api_baseurl="https://maximessai.ml:8001/",LB=1,LT=2,RT=3,RB=4,HR=1,VR=2,WordObjType="span",DIV="div",Word_Default_font_Family="Impact",distance_Counter=1,word_counter=1;Util.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b},Word.prototype={_init:function(){this._setFont(),this._setSpan_Size()},_setFont:function(){this.font=Math.floor((this.weight-this.minWeight)*this.fontFactor+this.fontOffset)},_setSpan_Size:function(){var a=document.createElement(WordObjType);a.setAttribute("id","Word_"+word_counter++ +"_"+this.weight),document.body.appendChild(a),$(a).css({position:"absolute",display:"block",left:-999990,top:0}),$(a).css("font-size",this.font+"px"),null!=this.font_family&&""!=this.font_family?$(a).css("font-family",this.font_family):$(a).css("font-family",Word_Default_font_Family),null!=this.word_class&&""!=this.word_class&&$(a).addClass(this.word_class),null!=this.color&&""!=this.color?$(a).css("color",this.color):$(a).css("color",Util.getRandomColor()),$(a).css("-webkit-user-select","none").css("-moz-user-select","none").css("-ms-user-select","none"),$(a).css("user-select","none").css("-o-user-select","none"),$(a).css("line-height",this.font+"px"),null==this.padding_left&&(this.padding_left=0),$(a).css("padding-left",this.padding_left+"px"),$(a).html(this.word),this.width=$(a).outerWidth()+2*this.padding_left,this.height=$(a).outerHeight(),$(a).remove(),this.span=a}},WordCloud.prototype={_init:function(a){return null!=a&&"string"==typeof a?null!=this.methods[a]?this.methods[a].apply():null:(null==a?this.options=this.defaultOptions:null!=a&&"object"==typeof a&&(this.options=$.extend(this.defaultOptions,a)),this.spaceDataObject={},this.spaceIdArray=[],this.words=this.options.words,this.words.sort(function(a,b){return a.weight<b.weight?1:a.weight>b.weight?-1:0}),this.options.beforeCloudRender(),this._start(),this.options.afterCloudRender(),void this._final())},_setFontFactor:function(){this.maxWeight=this.words[0].weight,this.minWeight=this.words[this.words.length-1].weight,this.fontFactor=(this.options.maxFont-this.options.minFont)/(this.maxWeight-this.minWeight)},_start:function(){this._destroy(),this._setFontFactor(),this._draw()},_final:function(){},_destroy:function(){this.$target.html("")},_setTarget:function(a){this.$target=a,a.css("position","relative"),this.tWidth=a.innerWidth(),this.xOffset=this.tWidth/2,this.tHeight=a.innerHeight(),this.yOffset=this.tHeight/2},_draw:function(){for(var a=0;a<this.words.length;a++){var b=this.words[a],c={};c.word=b.word,c.weight=b.weight,null!=this.options.cloud_color?c.color=this.options.cloud_color:c.color=b.color,null!=this.options.padding_left&&(c.padding_left=this.options.padding_left),c.word_class=b.word_class,null!=this.options.cloud_font_family?c.font_family=this.options.cloud_font_family:c.font_family=b.font_family,c.fontFactor=this.fontFactor,c.fontOffset=this.options.fontOffset+this.options.minFont,c.minWeight=this.minWeight;var d=new Word(c);null!=this.options.word_common_classes&&$(d.span).addClass(this.options.word_common_classes),$(d.span).on("click",this.options.word_click),$(d.span).on("mouseover",this.options.word_mouseOver),$(d.span).on("mouseout",this.options.word_mouseOut),$(d.span).on("mouseenter",this.options.word_mouseEnter),0==a?this._placeFirstWord(d):this._placeOtherWord(d)}},_updateSpaceIdArray:function(a,b){if(0!=this.spaceIdArray.length){for(var c=0;c<this.spaceIdArray.length;c++)if(b<parseFloat(this.spaceIdArray[c].split("_")[0]))return void this.spaceIdArray.splice(c,0,a);this.spaceIdArray.push(a)}else this.spaceIdArray.push(a)},_showSpaceDiv:function(a,b,c,d,e){var f=1,g=1;switch(a){case LB:f=0,g=-1;break;case LT:f=0,g=0;break;case RT:f=-1,g=0;break;case RB:f=-1,g=-1}var h=document.createElement(DIV);$(h).css("left",d+f*b).css("top",e+g*c).css("width",b).css("height",c).css("border","1px "+this.options.spaceDIVColor+" solid").css("position","absolute").css("display","block"),this.$target.append(h)},_pushSpaceData:function(a,b,c,d,e){var f=Math.sqrt((this.xOffset-d)*(this.xOffset-d)+(this.yOffset-e)*(this.yOffset-e)),g=f+"_"+distance_Counter++;this._updateSpaceIdArray(g,f),this.spaceDataObject[g]=new space(a,b,c,d,e),this.options.showSpaceDIV&&this._showSpaceDiv(a,b,c,d,e)},_placeFirstWord:function(a){var b=a.width,c=a.height,d=this.xOffset-b/2,e=this.yOffset-c/2,f=this.tWidth,g=this.tHeight,h=a.span;$(h).css("left",d).css("top",e).css("display","inline"),this.$target.append(h),this._pushSpaceData(LB,f-d-b,c,d+b,e+c/2),this._pushSpaceData(LT,b,g-e-c,d+b/2,e+c),this._pushSpaceData(RT,d,c,d,e+c/2),this._pushSpaceData(RB,b,e,d+b/2,e),this._pushSpaceData(LT,b/2,c/2,d+b,e+c/2),this._pushSpaceData(RT,b/2,c/2,d+b/2,e+c),this._pushSpaceData(RB,b/2,c/2,d,e+c/2),this._pushSpaceData(LB,b/2,c/2,d+b/2,e),this._pushSpaceData(LT,f-d-b-b/2,g-e-c/2,d+b+b/2,e+c/2),this._pushSpaceData(RT,d+b/2,g-e-c-c/2,d+b/2,e+c+c/2),this._pushSpaceData(RB,d-b/2,e+c/2,d-b/2,e+c/2),this._pushSpaceData(LB,d+b/2,e-c/2,d+b/2,e-c/2)},_placeOtherWord:function(a){for(var b=0;b<this.spaceIdArray.length;b++){var c=this.spaceIdArray[b],d=this.spaceDataObject[c],e=0,f=0;if(a.width<=d.width&&a.height<=d.height&&(e=HR,f++),this.options.verticalEnabled&&a.height<=d.width&&a.width<=d.height&&(e=VR,f++),f>0){this.spaceDataObject[c]=null,this.spaceIdArray.splice(b,1);var g=1,h=1,i=1,j=1;switch(d.spaceType){case LB:g=0,h=-1,i=1,j=-1;break;case LT:g=0,h=0,i=1,j=1;break;case RT:g=-1,h=0,i=-1,j=1;break;case RB:g=-1,h=-1,i=-1,j=-1}f>1&&(e=5*Math.random()>3?VR:HR);var k=a.width,l=a.height;switch(e){case HR:var m=a.span;$(m).css("left",d.x+g*k).css("top",d.y+h*l).css("display","inline"),this.$target.append(m),2*Math.random()>1?(this._pushSpaceData(d.spaceType,d.width-k,l,d.x+i*k,d.y),this._pushSpaceData(d.spaceType,d.width,d.height-l,d.x,d.y+j*l)):(this._pushSpaceData(d.spaceType,d.width-k,d.height,d.x+i*k,d.y),this._pushSpaceData(d.spaceType,k,d.height-l,d.x,d.y+j*l));break;case VR:var m=a.span;$(m).css("left",d.x+g*l-(k-l)/2).css("top",d.y+h*k+(k-l)/2),$(m).css("display","block").css("-webkit-transform","rotate(270deg)").css("-moz-transform","rotate(270deg)"),$(m).css("-o-transform","rotate(270deg)").css("filter","progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"),this.$target.append(m),2*Math.random()>1?(this._pushSpaceData(d.spaceType,d.width-l,k,d.x+i*l,d.y),this._pushSpaceData(d.spaceType,d.width,d.height-k,d.x,d.y+j*k)):(this._pushSpaceData(d.spaceType,d.width-l,d.height,d.x+i*l,d.y),this._pushSpaceData(d.spaceType,l,d.height-k,d.x,d.y+j*k))}return}}}},function(a){a.fn.jQWCloud=function(b){var c=new WordCloud;c._setTarget(a(this)),c._init(b)}}(jQuery),app.controller("WordCloudCtrl",["$scope","$http","$timeout","$window","$sce","AuthService","C3LineChart",function(a,b,c,d,e,f,g){a.preloader=!1,a.survey_segment_data={type:"",id:""},f.getUserCookieValue("segmentId")>0&&(console.log(""),a.survey_segment_data.type="segment",a.survey_segment_data.id=f.getUserCookieValue("segmentId"),console.log("auth data",a.survey_segment_data)),0==f.getUserCookieValue("segmentId")&&(a.survey_segment_data.type="survey",a.survey_segment_data.id=f.getUserCookieValue("survey_id"),console.log("auth data",a.survey_segment_data)),a.datax={group1:"Strength"};var h=new Date;a.data=[],a.empty_comment_label="Click on wordcloud keyword to get comments";var i=new FormData;i.append("type",a.survey_segment_data.type),i.append("id_sur_seg",a.survey_segment_data.id),i.append("id",a.survey_segment_data.id);var j=function(){return b({url:"https://qa-reportportal.gpssapp.com/users/getToken.json?q="+(new Date).toString(),method:"GET"})};j().then(function(d){d.data&&d.data.response&&(i.append("token",d.data.response.data),b({url:wordcloud_api_baseurl+"fetchKeyword",method:"POST",data:i,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(b){if("false"==b.data.data)return void alert("Authentication failure");if(a.dataKeyword=b.data.data,a.dataKeyword.strengthComment.length<50||a.dataKeyword.improvementComment.length<50){0==a.dataKeyword.strengthComment.length&&a.dataKeyword.improvementComment.length>0?a.data=a.dataKeyword.improvementComment:a.data=a.dataKeyword.strengthComment;var d=a.data.map(function(a){return a.word}).join("|");a.getComments(d)}else{a.data=a.dataKeyword.strengthComment.slice(1).slice(-50)||a.dataKeyword.improvementComment.slice(1).slice(-50);var d=a.data.map(function(a){return a.word}).join("|");a.getComments(d)}a.dataKeyword.strengthComment.length||(a.data=[{word:"Wordcloud is not generated for selected Survey/Segment",weight:30,color:"white"}]),c(function(){console.log("$scope.idWordcloudReady",a.idWordcloudReady),angular.element("#loader").css("display","none"),a.preloader=!1,console.log("$scope.preloader",a.preloader),a.drawWC(a.data),console.log(a.data.length,"lenght of data")},1e3)}))}),a.commentType=function(b,c){a.datax.group1=c,a.dataKeyword[b].length<50?a.data=a.dataKeyword[b]:a.data=a.dataKeyword[b].slice(1).slice(-50);var d=a.data.map(function(a){return a.word}).join("|");a.getComments(d),a.drawWC(a.data)},a.getComments=function(c){console.log(a.datax.group1),a.empty_comment_label="Loading....",a.string=c;var d=new FormData;d.append("type",a.dataKeyword.type),d.append("id",a.dataKeyword.id_new),d.append("id_sur_seg",a.dataKeyword.id),d.append("string",a.string),d.append("comment_type",a.datax.group1),j().then(function(c){c.data&&c.data.response&&(d.append("token",c.data.response.data),b({url:wordcloud_api_baseurl+"fetchCommentsPerKeyword",method:"POST",data:d,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(b){a.commentz=b.data.data,a.empty_comment_label="Click on wordcloud keyword to get comments"}))})},a.drawWC=function(b){$("#wordCloud").jQWCloud({words:b,minFont:13,maxFont:42,fontOffset:2,cloud_font_family:"'Questrial', sans-serif",verticalEnabled:!0,padding_left:2,word_common_classes:"WordClass",word_mouseEnter:function(){},word_mouseOut:function(){},word_click:function(){a.commentz=[],a.empty_comment_label=angular.copy("Loading....");var b=$(this).text();"Wordcloud is not generated for selected Survey/Segment"!=b&&a.getComments(b)},beforeCloudRender:function(){new Date},afterCloudRender:function(){var a=new Date;console.log("Cloud Completed in "+(a.getTime()-h.getTime())+" milliseconds"),$(".WordClass").each(function(a){var b=$(this).attr("id");"Wordcloud is not generated for selected Survey/Segment"!=$(this).text()&&($(this).attr("data-toggle","tooltip"),$(this).attr("data-original-title",b.split("_")[2]),$(this).tooltip())})}})},a.DownloadReport=function(){var d=new FormData;d.append("type",a.dataKeyword.type),d.append("id",a.dataKeyword.id_new),d.append("download_file","true"),d.append("string",a.string),d.append("comment_type",a.datax.group1),d.append("id_sur_seg",a.dataKeyword.id),j().then(function(a){a.data&&a.data.response&&(d.append("token",a.data.response.data),b({url:wordcloud_api_baseurl+"fetchCommentsPerKeyword",method:"POST",data:d,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(a){var b=window.open(a.data.url);c(function(){b&&0!==b.outerHeight||alert("Please disabled your browser popup-blocker(at right corner of your url bar)")},1e3)}))})},a.highlight=function(a,b){return b?e.trustAsHtml(a.replace(new RegExp(b,"gi"),function(a){return'<span class="highlightedText">'+a+"</span>"})):e.trustAsHtml(a)}}]),angular.module("chile").run(["$templateCache",function(a){a.put("views/dashboard/SegmentVisualization.html",'<style>.stacked-prgressbar {\r\n        margin-top: 0px !important;\r\n    }\r\n\r\n    svg {\r\n        width: 34% !important;\r\n    }\r\n\r\n        svg g {\r\n            cursor:pointer;\r\n        }\r\n        svg g text {\r\n            font-size: 9px !important;\r\n            opacity: 0;\r\n        }\r\n\r\n            svg g:hover text {\r\n                opacity: 1;\r\n            }</style> <style>#preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        background:#ddd;\r\n    }</style> <div id="preloader" ng-show="preloader"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <!-- Segment Visualization Starts--> <div class="main-content analisis-content-wrapper segment-visualization"> <div class="top-drop"> <div class="pull-right"> <ol class="nya-bs-select" ng-model="perspective" disabled ng-change="updateModel()"> <li nya-bs-option="perspective in perspectives"> <a>{{ perspective.value }}</a> </li> </ol> </div> </div> <div class="tab-content-main-wrapper"> <div class="menu"><h5 class="top-head" ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_tbl_name\']"></h5></div> <ul class="nav nav-tabs menu"> <li class="active"><a data-toggle="tab" data-target="#tab1" ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_tbl_sub_title1\']"></a></li> <li><a data-toggle="tab" data-target="#tab2" ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_tbl_sub_title2\']"></a></li> </ul> <div class="tab-content table-section"> <div id="tab1" class="tab-pane fade in active"> <div class="tab-content-wrapper"> <table class="table"> <thead> <tr class="text-left"> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column1\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column2\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column3\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column4\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column5\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column6\']"></th> </tr> </thead> <tbody> <tr ng-repeat="row in ModelData.highest  | limitTo : HighestMore" on-finish-render="callMyRenderMethod()"> <td>{{ row.segment_name }}</td> <td>{{ row.employees }}</td> <td>{{ row.responses }}</td> <td>{{ row.response_rate }}</td> <td>{{ row.scores }}</td> <td> <div class="stacked-prgressbar"> <div class="inner-stacked-progressbar"> <svg id="sp-chart-highest-{{ $index }}"></svg> </div> </div> </td> </tr> </tbody> </table> <button class="bottom-text btn" ng-show="(HighestMore <= ModelData.highest.length)" ng-click="HighestMoreIncrement()">{{ SegmentVisualization.response.segment_visualization.label[\'label_load\'] }}</button> </div> </div> <div id="tab2" class="tab-pane fade"> <div class="tab-content-wrapper respeto-tab"> <table class="table"> <thead> <tr> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column1\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column2\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column3\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column4\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column5\']"></th> <th ng-bind-html="SegmentVisualization.response.segment_visualization.label[\'label_column6\']"></th> </tr> </thead> <tbody> <tr ng-repeat="row in ModelData.lowest | limitTo : LowestMore" on-finish-render="callMyRenderMethod()"> <td ng-bind-html="row.segment_name">{{ row.segment_name }}</td> <td ng-bind-html="row.employees">{{ row.employees }}</td> <td ng-bind-html="row.responses">{{ row.responses }}</td> <td ng-bind-html="row.response_rate">{{ row.response_rate }}</td> <td ng-bind-html="row.scores">{{ row.scores }}</td> <td> <div class="stacked-prgressbar"> <div class="inner-stacked-progressbar"> <svg id="sp-chart-lowest-{{ $index }}"></svg> </div> </div> </td> </tr> </tbody> </table> <button class="bottom-text btn" ng-show="(LowestMore <= ModelData.lowest.length)" ng-click="LowestMoreIncrement()">{{ SegmentVisualization.response.segment_visualization.label[\'label_load\'] }}</button> </div> </div> </div> </div> </div> <!-- Segment Visualization Ends-->'),a.put("views/dashboard/analysis.html",'<script src="https://cdnjs.cloudflare.com/ajax/libs/alasql/0.4.11/alasql.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.14.1/xlsx.core.min.js"></script> <div class="main-content analisis-content-wrapper"> <div class="tab-content-main-wrapper" id="responsiveTabsDemo"> <ul class="nav nav-tabs responsive menu" id="myTab"> <li ng-class="{\'active\': analysis.response.ca_data }" ng-if="analysis.response.ca_data"> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab1">{{ analysis.response.ca_data.label.tab_title }}</a> </li> <li ng-class="{\'active\': !analysis.response.ca_data }" ng-if="analysis.response.gaps_data"> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab2">{{ analysis.response.gaps_data.label.tab_title }}</a> </li> </ul> <div class="tab-content responsive"> <div id="tab1" ng-if="analysis.response.ca_data" ng-class="{\'tab-pane fade in\': true, \'active\': analysis.response.ca_data}" ui-view="analysis@matriz"></div> <div id="tab2" ng-if="analysis.response.gaps_data" ng-class="{\'tab-pane fade in\': true, \'active\': !analysis.response.ca_data}" ui-view="analysis@gaps"></div> </div> </div> </div> <script type="text/javascript">var bindTab = false;\r\n    ;(function( $, window, document, undefined ) {\r\n        if (!bindTab) {\r\n'+"            fakewaffle.responsiveTabs(['xs', 'sm']);\r\n            jQuery(\".accordion-toggle\").on('click', function(e) {\r\n                e.preventDefault();\r\n            });\r\n            bindTab = true;\r\n        }\r\n    })( jQuery, window, document );</script>"),a.put("views/dashboard/ayuda.html",'<div class="main-content comparativas-content-wrapper"> <div class="tab-content-main-wrapper" id="responsiveTabsDemo"> <ul class="nav nav-tabs responsive menu" id="myTab"> <li class="active"> <a data-toggle="tab" href="#tab1" onclick="return false"> {{ ayuda.response.static_general_data.title }} </a> </li> <li> <a data-toggle="tab" href="#tab2" onclick="return false"> {{ ayuda.response.static_model_data.title }} </a> </li> <li> <a data-toggle="tab" href="#tab3" onclick="return false"> {{ ayuda.response.static_faq_data.title }} </a> </li> </ul> <div class="tab-content ayuda-content responsive"> <div id="tab1" class="tab-pane fade in active"> <div class="tab-content-wrapper"> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para-container"> <h3 class="black-text" ng-bind-html="ayuda.response.static_general_data.title"></h3> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="ayuda-content-wrapper"> <div class="sub-division" ng-repeat="generalData in ayuda.response.static_general_data.data"> <span class="sub-title" ng-bind-html="generalData.title"></span> <p ng-bind-html="generalData.description"></p> </div> </div> </div> </div> </div> </div> <div id="tab2" class="tab-pane fade in"> <div class="tab-content-wrapper"> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para-container"> <h3 class="black-text" ng-bind-html="ayuda.response.static_model_data.title"></h3> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="ayuda-content-wrapper"> <div class="sub-division" ng-repeat="modelData in ayuda.response.static_model_data.data"> <span class="sub-title" ng-bind-html="modelData.title"></span> <p ng-bind-html="modelData.Description"></p> </div> </div> </div> </div> </div> </div> <div id="tab3" class="tab-pane fade in"> <div class="tab-content-wrapper Indices-tab"> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para-container"> <h3 class="red-text" ng-bind-html="ayuda.response.static_faq_data.title"></h3> </div> </div> </div> <div class="preguntas-accordian-wrapper" ng-repeat="faqData in ayuda.response.static_faq_data.data" on-finish-render="tab_data"> <div class="panel-group" id="accordion"> <div class="panel panel-default" ng-repeat="item in faqData.data"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{ $index+1 }}" ng-click="$event.preventDefault()" ng-bind-html="item.que"></a> </h4> </div> <div id="collapse{{ $index+1 }}" class="panel-collapse collapse"> <div class="panel-body" ng-bind-html="item.ans"></div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <script type="text/javascript">var bindTab = false;\r\n    ;(function( $, window, document, undefined ) {\r\n        if (!bindTab) {\r\n'+"            fakewaffle.responsiveTabs(['xs', 'sm']);\r\n            jQuery(\".accordion-toggle\").on('click', function(e) {\r\n                e.preventDefault();\r\n            });\r\n            bindTab = true;\r\n        }\r\n    })( jQuery, window, document );</script>"),
a.put("views/dashboard/buenas-practicas.html",'<div class="main-content practicas-page"> <div class="row buenas-practicas-page"> <div class="col-sm-12 col-md-12"> <h1 class="black-text">{{ pratices.response.good_practices_data.page_info.title }}</h1> <div class="para buenas-para"> <p>{{ pratices.response.good_practices_data.page_info.description }}</p> </div> </div> </div> <div class="row"> <div class="col-md-12"> <!-- Inspirando --> <div class="theme-main-wrapper" ng-repeat="(title, subpractices) in pratices.response.good_practices_data.page_info.practices"> <div class="theme-inner-wrapper theme2"> <div class="theme-title"> <h3 class="text-yellow">{{ title }}</h3> </div> <div class="theme-content-wrapper"> <div class="theme-content-heading"> <span class="temas-title">{{ pratices.response.good_practices_data.label.table_title }}</span> <span class="practicas-title">{{ pratices.response.good_practices_data.label.table_desp }}</span> </div> <div class="theme-inner-content"> <div class="panel-group" id="accordion"> <div class="panel panel-default" ng-repeat="subpractice in subpractices"> <div class="panel-heading"> <h4 class="panel-title"> <a href="javascript:void(0)" data-toggle="collapse" data-parent="#accordion" data-target="#collapse{{$parent.$index}}{{$index}}" aria-expanded="false" class="collapsed"> <i class="fa fa-plus symbolx" aria-hidden="true"></i> {{ pratices.response.good_practices_data.page_info.sub_practice[subpractice].title }} </a> </h4> </div> <div id="collapse{{$parent.$index}}{{$index}}" class="panel-collapse collapse" aria-expanded="false" style="height: 0px"> <div class="panel-body"> <div class="accordian-list"> <ul> <li ng-repeat="bestpratice in pratices.response.good_practices_data.page_info.map[subpractice]"> <div class="a-list-left"> <span class="remove-sec"> {{ pratices.response.good_practices_data.page_info.company_practices[bestpratice].title }} </span> </div> <div class="a-list-right" ng-bind-html="pratices.response.good_practices_data.page_info.practice[bestpratice].description"></div> </li> <li ng-if="!pratices.response.good_practices_data.page_info.map[subpractice]"> <div class="a-list-left"> {{ pratices.response.good_practices_data.label.no_result }} </div> </li> </ul> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <script>$(document).ready(function(){\r\n'+"    $('body').on('click', '[data-toggle=\"collapse\"]', function(){\r\n      var $i = $(this).find('i');\r\n\r\n      $('.symbolx').not($i).each(function(){\r\n        $(this).removeClass('fa-minus');\r\n        $(this).addClass('fa-plus');\r\n      });\r\n\r\n      if($i.hasClass('fa-plus')){\r\n        $i.removeClass('fa-plus');\r\n        $i.addClass('fa-minus');\r\n      } else {\r\n        $i.addClass('fa-plus');\r\n        $i.removeClass('fa-minus');\r\n      }\r\n    })\r\n  })</script>"),a.put("views/dashboard/comparativas.html",'<script src="https://cdnjs.cloudflare.com/ajax/libs/alasql/0.4.11/alasql.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/1.5/canvg.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.14.1/xlsx.core.min.js"></script> <div class="main-content comparativas-content-wrapper"> <div class="tab-content-main-wrapper" id="responsiveTabsDemo"> <div ng-switch="comparativas.data.historic_access"> <div ng-switch-when="1"> <ul class="nav nav-tabs responsive menu" id="myTab"> <li class="active"> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab1"> {{ comparativas.data.hist_demo.label.tab_title }} </a> </li> <li> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab2"> {{ comparativas.data.benchmark_data.label.tab_title }} </a> </li> <li> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab3"> {{ comparativas.data.indices_data.label.tab_title }} </a> </li> </ul> <div class="tab-content responsive"> <div id="tab1" class="tab-pane fade in active" ui-view="comparativas@demographic"></div> <div id="tab2" class="tab-pane fade in" ui-view="comparativas@benchmark"></div> <div id="tab3" class="tab-pane fade in" ui-view="comparativas@indices"></div> </div> </div> <div ng-switch-default> <ul class="nav nav-tabs responsive" id="myTab"> <li class="active"> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab1"> {{ comparativas.data.benchmark_data.label.tab_title }} </a> </li> <li> <a ng-click="$event.preventDefault()" data-toggle="tab" href="#tab2"> {{ comparativas.data.indices_data.label.tab_title }} </a> </li> </ul> <div class="tab-content responsive"> <div id="tab1" class="tab-pane fade in active" ui-view="comparativas@benchmark"></div> <div id="tab2" class="tab-pane fade in" ui-view="comparativas@indices"></div> </div> </div> </div> </div> </div> <script type="text/javascript">var bindTab = false;\r\n    ;(function( $, window, document, undefined ) {\r\n        if (!bindTab) {\r\n'+"            fakewaffle.responsiveTabs(['xs', 'sm']);\r\n            jQuery(\".accordion-toggle\").on('click', function(e) {\r\n                e.preventDefault();\r\n            });\r\n            bindTab = true;\r\n        }\r\n    })( jQuery, window, document );</script>"),a.put("views/dashboard/model-great-place-to-work.html",'<style type="text/css">.p-right-content {\r\n        margin: 3px;\r\n    }\r\n    #subdimentiontitle{\r\n        padding: 0px 20px;\r\n        margin: -15px 0px;\r\n        font-weight: bold;\r\n        width: 500px;\r\n    }</style> <div class="main-content model-gptw-wrapper"> <div class="tab-content-main-wrapper" id="responsiveTabsDemo"> <ul class="nav nav-tabs responsive menu" id="myTab"> <li ng-repeat="dimension in modelogreatplace.response.dimension_data.dimensions" ng-class="{\'active\': $index == 0}" on-finish-render="tab_data"> <a data-toggle="tab" ng-href="#tab{{$index}}" onclick="return false">{{ dimension.title }}</a> </li> </ul> <div class="tab-content responsive"> <div id="tab{{$index}}" class="tab-pane fade in" ng-class="{\'active\': $index == 0}" ng-repeat="(dKey, dimension) in modelogreatplace.response.dimension_data.dimensions" on-finish-render="tab_data"> <div class="tab-content-wrapper mptw-detail"> <div class="row"> <div class="col-sm-9 col-md-9"> <div class="para-container extra-para-container"> <div class="sub-paracontainer"> <h3 ng-style="{color: dimension.colorCode}">{{ dimension.title }}</h3> <div class="img-container"> <div class="image-wrap" ng-style="{background: dimension.colorCode}"> <img ng-src="{{ dimension.image }}"> </div> </div> </div> <p>{{ dimension.description }}</p> </div> <div class="para-container p-c"> <h3 ng-style="{color: dimension.colorCode}">{{ dimension.title }}</h3> <p>{{ dimension.description }}</p> </div> </div> <div class="col-sm-3 col-md-3 img-box" ng-if="dimension.image"> <div class="img-container"> <div class="image-wrap" ng-style="{background: dimension.colorCode}"> <img ng-src="{{ dimension.image }}"> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="round-progress-bar-wrapper"> <div class="score-list"> <ul class="{{ \'item-count-\' + dimension.graphs.length }}"> <li ng-repeat="singleGraph in dimension.graphs"> <span class="pc-title">{{singleGraph.title}}</span> <div class="progress-circle"> <span class="pc-score">{{ singleGraph.value | roundup }}</span> <div class="circlen" ng-class="circle" ng-if="singleGraph.type == \'circle\'" round-progress-widget current="{{ singleGraph.value }}" color="{{ dimension.colorCode }}"></div> <div class="square" ng-if="singleGraph.type == \'box\'" ng-style="{borderColor: dimension.colorCode}"></div> </div> </li> </ul> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="accordian-panels"> <div style="margin-left: 1050px"><span style="font-weight: bold">WG</span><span style="padding-left: 8px;font-weight: bold">ORG</span><span style="padding-left: 8px;font-weight: bold">AVG</span></div> <div class="inner-accordian-panel" ng-repeat="(subid, subdimension) in dimension.subdimension"> <!-- <div class="accordian-title">\r\n                                        <a data-toggle="collapse" ng-init="toggle = false" ng-click="toggle = !toggle" data-target=".demo{{subid}}" class="toogle-arrow">\r\n                                            <span><i class="fa" ng-class="{ \'fa-sort-desc\': !toggle, \'fa-sort-asc\': toggle }" aria-hidden="true"></i></span>\r\n                                             {{ subdimension.title }} \r\n                                        </a>\r\n                                    </div> --> <div class="accordian-body"> <!-- <div class="first-accordian" ng-class="{\'s-accordian\': $index > 0}" ng-repeat="(id, section) in modelogreatplace.response.dimension_data.perspective"> --> <div class="progress" ng-style="{backgroundColor: (dimension.colorCode | lighter)}"> <!-- <div class="progress-bar" ng-style="{backgroundColor: dimension.colorCode, width: (subdimension.value[0] | roundup)+\'%\'}" role="progressbar" data-transitiongoal="{{ subdimension.value[0] | roundup }}"> --> <div class="progress-bar" role="progressbar"> <!-- <span class="">{{ modelogreatplace.response.dimension_data.perspective[0] }}</span> --> <a data-toggle="collapse" ng-init="toggle = false" ng-click="toggle = !toggle" data-target=".demo{{subid}}" class="toogle-arrow"> <span style="margin-left: 5px"><i class="fa" ng-class="{ \'fa-sort-desc\': !toggle, \'fa-sort-asc\': toggle }" aria-hidden="true"></i></span> </a><span id="subdimentiontitle">{{ subdimension.title }}</span> </div> <span class="p-right-content blue-circle-bg" title="{{ modelogreatplace.response.dimension_data.perspective[2] }}">{{ subdimension.value[2] | roundup }}</span> <span class="p-right-content blue-circle-bg" title="{{ modelogreatplace.response.dimension_data.perspective[1] }}">{{ subdimension.value[1] | roundup }}</span> <span class="p-right-content blue-circle-bg" title="{{ modelogreatplace.response.dimension_data.perspective[0] }}">{{ subdimension.value[0] | roundup }}</span> </div> <div class="collapse demo{{subid}} vision-listing"> <ul> <li ng-repeat="statment in subdimension.statments"> <div class="v-listing"> {{ statment.title }} </div> <div class="v-number"> <span ng-style="{\'background\': statment.color[0]}" title="{{ modelogreatplace.response.dimension_data.perspective[0] }}">{{ statment.value[0] | roundup }}</span> <span ng-style="{\'background\': statment.color[1]}" title="{{ modelogreatplace.response.dimension_data.perspective[1] }}">{{ statment.value[1] | roundup }}</span> <span ng-style="{\'background\': statment.color[2]}" title="{{ modelogreatplace.response.dimension_data.perspective[2] }}">{{ statment.value[2] | roundup }}</span> </div> </li> </ul> </div> <!-- <div ng-if="modelogreatplace.response.dimension_data.dimensions.remove.diffrence > 0" class="vision-listing difference-bar">\r\n                                                <ul>\r\n                                                    <li  class="square-box">\r\n                                                        <div class="v-listing">\r\n                                                            Difference\r\n                                                        </div>\r\n                                                        <div class="v-number">\r\n                                                            <span>{{ subdimension.diffrence | roundup }}</span>\r\n                                                        </div>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </div> --> <!-- </div> --> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="color-scheme"> <label>{{ modelogreatplace.response.dimension_data.scale.title }}</label> <div class="color-list"> <ul> <li ng-repeat="(color, label) in modelogreatplace.response.dimension_data.scale.colorCode"> <i class="fa fa-circle" aria-hidden="true" ng-style="{color: color}"></i> {{ label }} </li> </ul> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/dashboard/modelo-giftwork.html",'<div class="main-content resumane-wrapper modelo-gift-wrapper"> <h1>{{modelogiftwork.response.practices_data.title}}</h1> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para"> <p>{{modelogiftwork.response.practices_data.description}}</p> </div> </div> </div> <div class="row progress-main-wrapper"> <div class="col-md-12"> <div class="modelo-giftwork-seletpicker"> <div class="vision-area-selectbox"> <div class="pull-right"> <ol class="nya-bs-select" ng-model="modelogiftwork.practicesDataPerspective" title="Vision Area" convert-to-number> <li nya-bs-option="(id, option) in modelogiftwork.response.practices_data.perspective" data-value="id" ng-class="{\'selected\': modelogiftwork.practicesDataPerspective == id }"> <a>{{ option }}</a> </li> </ol> </div> </div> </div> <div class="pull-right"> <div ng-if="modelogiftwork.practicesDataPerspective != 2"> <span style="font-weight: bold" title="{{ modelogiftwork.response.practices_data.perspective[modelogiftwork.practicesDataPerspective] }}"> {{ modelogiftwork.response.practices_data.perspective[modelogiftwork.practicesDataPerspective] }} </span>&nbsp;&nbsp;&nbsp; <span style="font-weight: bold" title="{{ modelogiftwork.response.practices_data.actual_benchmark[modelogiftwork.practicesDataPerspective] }}"> {{ modelogiftwork.response.practices_data.benchmark[modelogiftwork.practicesDataPerspective] }} </span> </div> <div ng-if="modelogiftwork.practicesDataPerspective == 2"> <span style="{{ modelogiftwork.response.practices_data.benchmarkStyle1 }}" title="{{ modelogiftwork.response.practices_data.averageCompany }}"> {{ modelogiftwork.response.practices_data.averageCompany }} </span>&nbsp;&nbsp;&nbsp; <!-- <span style="font-weight: bold;padding-left: 10px;padding-right: 10px;" ng-if="modelogiftwork.practicesDataPerspective == 2" title="{{ modelogiftwork.response.practices_data.perspective[modelogiftwork.practicesDataPerspective] }}">\r\n                    {{ modelogiftwork.response.practices_data.perspective[modelogiftwork.practicesDataPerspective] }}\r\n                </span>  --> <span style="{{ modelogiftwork.response.practices_data.benchmarkStyle2 }}" title="{{ modelogiftwork.response.practices_data.actualAverageBenchmark }}"> {{ modelogiftwork.response.practices_data.averageBenchmark }} </span> </div> </div> <div class="progress-bar-wrapper"> <div id="accordion" role="tablist" aria-multiselectable="true"> <div class="panel panel-default" ng-repeat="(groupTitle, practicesDataGraph) in modelogiftwork.response.practices_data.graph"> <div class="panel-heading" role="tab" id="{{\'heading\'+$index}}"> <div ng-style="{background: (practicesDataGraph.practice_color | lighter)}" class="progress" data-toggle="collapse" data-parent="#accordion" data-target="{{\'#collapse\'+$index}}" aria-expanded="true" aria-controls="{{\'collapse\'+$index}}"> <div ng-style="{\'background\': practicesDataGraph.practice_color, \'width\': (practicesDataGraph.value[modelogiftwork.practicesDataPerspective] - 15)+\'%\'}" class="progress-bar" role="progressbar" aria-valuenow="{{ practicesDataGraph.value[modelogiftwork.practicesDataPerspective] | roundup }}" aria-valuemin="0" aria-valuemax="100"> <span class="p-left-content">{{ groupTitle }}</span> </div> <!-- css "p-right-content" and "p-right-content-bmark" are swaped to get output --> <span class="p-right-content" title="{{ modelogiftwork.response.practices_data.thead.benchmark_score}}">{{ practicesDataGraph.practiceScore[modelogiftwork.practicesDataPerspective] | roundup }}</span> <span class="p-right-content-bmark" title="{{ modelogiftwork.response.practices_data.thead.company_score}}">{{ practicesDataGraph.value[modelogiftwork.practicesDataPerspective] | roundup }}</span> </div> </div> <div id="{{ \'collapse\'+$index }}" class="panel-collapse collapse common-margin" role="tabpanel" aria-labelledby="{{ \'heading\'+$index }}"> <div class="progress-container"> <div ng-style="{\'background\': (practicesDataGraph.practice_color | lighter)}" class="progress progress-even" ng-repeat="statement in practicesDataGraph.statements"> <div class="progress-bar" role="progressbar" aria-valuenow="{{ statement.value[modelogiftwork.practicesDataPerspective] | roundup }}" aria-valuemin="0" aria-valuemax="100" ng-style="{\'width\': (statement.value[modelogiftwork.practicesDataPerspective] - 15)+\'%\', \'background-color\': modelogiftwork.getColorRowEvenOdd(practicesDataGraph.practice_color, $index) };"> <span class="" style="width: auto;position: absolute">{{statement.title}}</span> </div> <span class="p-right-content" title="{{ modelogiftwork.response.practices_data.thead.benchmark_score}}">{{ statement.practiceScore[modelogiftwork.practicesDataPerspective] | roundup }}</span> <span class="p-right-content-bmark" title="{{ modelogiftwork.response.practices_data.thead.company_score}}">{{ statement.value[modelogiftwork.practicesDataPerspective] | roundup }}</span> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/dashboard/preguntas-abiertas.html",'<div class="main-content resumane-wrapper pg-wrap"> <h1>{{ preguntas.response.title }}</h1> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para"> <p>{{ preguntas.response.description }}</p> </div> </div> </div> <div class="row" ng-if="preguntas.response.openComment"> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="question-practice-main-wrapper"> <div class="inner-que-prac-sub-wrap"> <div class="top-que-dropdown-wrap"> <div class="question-dropdown col-md-8"> <div class="pull-left col-md-12"> <ol class="nya-bs-select" ng-change="preguntas.changeQuestion()" ng-model="preguntas.currentQuestion" title="{{ preguntas.label.select_question }}" convert-to-number> <li nya-bs-option="(id, option) in preguntas.response.questions" data-value="id"> <a>{{option}}</a> </li> </ol> </div> </div> <div class="practice-dropdown col-md-3"> <div class="pull-right"> <ol class="nya-bs-select" ng-change="preguntas.changePractice()" ng-model="preguntas.currentPratice" title="{{ preguntas.label.select_practice }}" convert-to-number> <li nya-bs-option="(id, option) in preguntas.response.practices" data-value="id"> <a>{{option}}</a> </li> </ol> </div> </div> <div class="download-icon-wrap col-md-1"> <div class="download-action u-action dropdown"> <a href="javascript:;" class="dropdown-toggle u-action-drop" data-toggle="dropdown" data-hover="dropdown"> <i class="fa fa-download" aria-hidden="true"></i> </a> <ul class="dropdown-menu up-arrow"> <li> <a href="javascript:void(0)" ng-click="preguntas.downloadAll()"> {{ preguntas.label.all_data }} </a> </li> <li> <a href="javascript:void(0)" ng-click="preguntas.downloadSelected()"> {{ preguntas.label.selected_data }} </a> </li> </ul> </div> </div> </div> <div class="question-practice-statement-wrapper"> <ul> <li ng-repeat="comment in preguntas.comments"> {{ comment }} </li> <li ng-if="preguntas.comments.length < 1"> Data not available </li> </ul> </div> </div> </div> </div> </div> </div>'),a.put("views/dashboard/resumen.html",'<style>#preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        background:#ddd;\r\n    }</style> <div id="preloader" ng-show="preloader"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <div class="main-content resumane-wrapper"> <h1 ng-bind="resumen.response.static_ti_summary.title"></h1> <div class="row resume-top"> <div class="col-sm-12 col-md-12" ng-repeat="summary in resumen.response.static_ti_summary.data"> <span class="heading" ng-bind="summary.title"></span> <div class="para"> <p ng-bind-html="summary.description"></p> </div> </div> </div> <div class="row" ng-if="resumen.response.gptw_model.graphs" ng-include="\'views/dashboard/resumen/gptw_model.html\'"></div> <div class="row open-ended-section" ng-if="resumen.response.open_ended_model.graph" ng-include="\'views/dashboard/resumen/open_ended_model.html\'"></div> <div class="row" ng-if="resumen.response.giftwork_model.graph" ng-include="\'views/dashboard/resumen/giftwork_model.html\'"></div> <div class="row general-indices-wrapper" ng-if="resumen.response.general_indices.graph" ng-include="\'views/dashboard/resumen/general_indices.html\'"></div> <div class="row" ng-if="resumen.response.responses_distribution.graph" ng-include="\'views/dashboard/resumen/responses_distribution.html\'" onload="resumen.finishLoading()"></div> <div class="data-sociodemographics-wrapper" ng-if="resumen.response.demographic_data.graph" ng-include="\'views/dashboard/resumen/demographic_data.html\'"></div> <div class="row" ng-if="resumen.response.survey_data.value" ng-include="\'views/dashboard/resumen/survey_data.html\'"></div> </div>'),a.put("views/dashboard/wordCloud2.html",'<!-- wordcloud & download wrapper --> <section class=""> <div class="main-content resumane-wrapper"> <h1 class="pull-left">Word Cloud Generator</h1> <div class="radio-buttons pull-right"> <md-radio-group ng-model="datax.group1"> <md-radio-button value="Strength" aria-checked="true" ng-click="commentType(\'strengthComment\', \'Strength\')">Strength Comment ({{dataKeyword[\'Strength\']}})</md-radio-button> <md-radio-button value="Improvement" ng-click="commentType(\'improvementComment\', \'Improvement\')">Improvement Comment ({{dataKeyword[\'Improvement\']}})</md-radio-button> </md-radio-group> </div> <div class="word-cloud-display" id="keywords"> <div ng-show="data.length" id="wordCloud"></div> </div> <div class="report-download text-right"> <md-button class="md-raised btn-red" ng-disabled="!commentz.length" ng-click="DownloadReport()">Report Download</md-button> </div> <div class="comment-table"> <table class="table"> <thead> <tr> <th class="text-center" width="10%">Sr. No.</th> <th class="text-center" width="89%">Comments ({{commentz.length}})</th> <!-- <th class="text-center">Sentiment Score</th> --> </tr> </thead> <tbody> <tr ng-if="!commentz.length" class="ng-cloak"> <td colspan="2" class="text-center">{{ empty_comment_label }}</td> </tr> <tr class="ng-cloak" ng-if="commentz" ng-repeat="comment in commentz"> <td width="80" class="text-center">{{$index +1}}</td> <td ng-bind-html="highlight(comment[0], string)"></td> <!-- <td width="150" class="text-center">{{comment[1]||\'NA\'}}</td> --> </tr> </tbody> </table> </div> </div> </section>'),a.put("views/layouts/dashboard.html",'<section class="body"> <header class="page-header navbar-fixed-top" ui-view="topnav"></header> <div class="inner-wrapper"> <div id="Sidebar-left" class="sidebar sidenav" ui-view="sidebar"></div> <section class="content-wrapper"> <div ui-view="content"></div> </section> </div> <!-- Language Change Modal --> <div id="idiom-modal" class="modal fade idiom-modal" role="dialog" ui-view="changelang"></div> <!-- /Language Change Modal --> <!-- Footer Start --> <footer ui-view="footer"></footer> <!-- Footer End --> </section>'),a.put("views/layouts/login.html",'<div class="nav-md login-page"> <!--div ng-show="login.page.getMessage()" class="alert" ng-class="{\'alert-info\': login.page.getType(\'info\'), \'alert-success\': login.page.getType(\'success\'), \'alert-danger\': login.page.getType(\'danger\')}" role="alert">\r\n        {{ login.page.getMessage() }}\r\n    </div--> <div class="content-wrapper" ui-view=""></div> </div>'),a.put("views/layouts/reports.html",'<section class="body"> <header class="page-header navbar-fixed-top" ui-view="topnav"></header> <div class="inner-wrapper"> <div id="Sidebar-left" class="sidebar sidenav" ui-view="sidebar"></div> <section class="content-wrapper"> <div ui-view="content"></div> </section> </div> <!-- Language Change Modal --> <div id="idiom-modal" class="modal fade idiom-modal" role="dialog" ui-view="changelang"></div> <!-- /Language Change Modal --> <!-- Footer Start --> <footer ui-view="footer"></footer> <!-- Footer End --> </section>'),a.put("views/layouts/users.html",'<section class="body"> <header class="page-header navbar-fixed-top" ui-view="topnav"></header> <div class="inner-wrapper user-wrapper"> <div class="top-section" id="fixed-section"> <div class="inner-wrapper"> <div class="user-action-section"> <!-- <a ui-sref="dashboard.sections.resumen"><i class="fa fa-arrow-left" aria-hidden="true"></i> {{ dashboard.user_label.back_btn }}</a> --> <a onclick="window.history.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i> {{ dashboard.user_label.back_btn }}</a> </div> </div> </div> <div class="user-content-wrapper" ui-view="content"></div> </div> <!-- Language Change Modal --> <div id="idiom-modal" class="modal fade idiom-modal" role="dialog" ui-view="changelang"></div> <!-- /Language Change Modal --> <!-- Footer Start --> <footer ui-view="footer"></footer> <!-- Footer End --> </section>'),a.put("views/login/error.html",'<div class="login-wrapper err"> <div class="login-bottom"> <div class="inner-login-wrapper"> <div class="form-input-wrap"> <form-group> <label>{{ errorctrl.message }}</label> </form-group> </div> <div class="form-btn-section"> <div class="inner-form-btn-section"> <div class="login-btn-wrap pull-left"> <button ng-click="errorctrl.redirect()" class="grey-btn mdl-button mdl-js-button mdl-button--raised btn-red">OK</button> </div> </div> </div> </div> </div> </div>'),a.put("views/login/forgot_password.html",'<div class="login-wrapper"> <div class="login-top"> <div class="login-title"> <h1 class="pull-left">{{ forgotPass.label.title }} <img src="images/R.33904b43.png"></h1> <img src="images/login-logo.235b15f8.png" class="pull-right"> </div> </div> <div class="login-bottom"> <div class="inner-login-wrapper"> <form name="forgotPasswordForm" class="form-horizontal" ng-submit="forgotPass.processForm()" novalidate> <div class="form-input-wrap"> <form-group ng-class="{ \'error\' : forgotPasswordForm.email.$invalid && !forgotPasswordForm.email.$pristine }"> <input name="email" type="email" class="form-control" ng-attr-placeholder="{{ forgotPass.label.email }}" ng-model="forgotPass.email" required> <span ng-show="forgotPasswordForm.email.$invalid && !forgotPasswordForm.email.$pristine" class="help-inline">{{ forgotPass.label.validate_email }}</span> </form-group> </div> <div class="form-btn-section"> <div class="inner-form-btn-section"> <div class="login-btn-wrap pull-left"> <button type="submit" ng-disabled="forgotPasswordForm.$invalid" class="gery-btn mdl-button mdl-js-button mdl-button--raised btn-red"> {{ forgotPass.label.button_text }} </button> </div> </div> </div> </form> </div> </div> </div> <div class="l-bottom"> <a ui-sref="login.form">{{ forgotPass.label.link_back }}</a> </div>'),a.put("views/login/form.html",'<div class="login-wrapper"> <div class="login-top"> <div class="login-title"> <h1 class="pull-left">{{ userLogin.label.title }} <img src="images/R.33904b43.png"></h1> <img src="images/login-logo.235b15f8.png" class="pull-right"> </div> </div> <div class="login-bottom"> <div class="inner-login-wrapper"> <form name="userForm" class="form-horizontal" ng-submit="userLogin.processForm()" novalidate> <div class="form-input-wrap"> <form-group ng-class="{ \'error\' : userForm.email.$invalid && !userForm.email.$pristine }"> <input name="email" type="email" class="form-control" ng-attr-placeholder="{{ userLogin.label.email }}" ng-model="userLogin.email" required> <span ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-inline">{{ userLogin.label.validate_email }}</span> </form-group> <form-group ng-class="{ \'error\' : userForm.password.$invalid && !userForm.password.$pristine }"> <input name="password" type="password" class="form-control" ng-attr-placeholder="{{ userLogin.label.password }}" ng-model="userLogin.password" required> <span ng-show="userForm.password.$invalid && !userForm.password.$pristine" class="help-inline">{{ userLogin.label.validate_password }}</span> </form-group> </div> <div class="form-btn-section"> <div class="inner-form-btn-section"> <div class="login-btn-wrap pull-left"> <button ng-attr-type="submit" ng-disabled="userForm.$invalid" class="gery-btn mdl-button mdl-js-button mdl-button--raised btn-red"> {{ userLogin.label.button_text }} </button> </div> </div> </div> </form> </div> </div> </div> <div class="l-bottom"> <a ui-sref="login.forgot">{{ userLogin.label.link_forgot }}</a> </div>'),a.put("views/partials/circles.html",'<div class="radial-wrapper radial-count-1" ng-if="graph.length == 1 && type == \'circle\'"> <round-progress max="max" current="graph[0].value" color="{{0 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" responsive="true" stroke="20" animation="easeInOutQuart" offset="40"> </round-progress> <div class="outcome-score" ng-if="graph.length == 1 && type == \'circle\'"> <span class="span-{{$index}}" ng-repeat="single in graph" ng-class="{ \'o-score\': $index == 0, \'org-score\': $index > 0 }" title="{{single.actual_value}}"> {{single.value | roundup}}{{ $index > 0 ? \'%\' : \'\'}} <span ng-if="$index == 0" class="percent-sign">%</span> </span> </div> </div> <!-- changes made by Avi Verma \r\n     date : 20-April-2018\r\n     tool tip in circles --> <div class="radial-wrapper radial-count-2" ng-if="graph.length == 2 && type == \'circle\'"> <round-progress max="max" current="graph[0].value" color="{{0 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" responsive="true" stroke="20" animation="easeInOutQuart" offset="38"> <round-progress max="max" current="graph[1].value" color="{{1 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="16" animation="easeInOutQuart" offset="26"> </round-progress> </round-progress> <div class="outcome-score" ng-if="graph.length == 2 && type == \'circle\'"> <span class="span-{{$index}}" ng-repeat="single in graph" ng-class="{ \'o-score\': $index == 0, \'org-score\': $index > 0 }" title="{{single.actual_value}}"> {{single.value | roundup}}{{ $index > 0 ? \'%\' : \'\'}} <span ng-if="$index == 0" class="percent-sign">%</span> </span> </div> </div> <div class="radial-wrapper radial-count-3" ng-if="graph.length == 3 && type == \'circle\'"> <round-progress max="max" current="graph[0].value" color="{{0 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" responsive="true" stroke="20" animation="easeInOutQuart" offset="36"> <round-progress max="max" current="graph[1].value" color="{{1 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="20" animation="easeInOutQuart" offset="22"> <round-progress max="max" current="graph[2].value" color="{{2 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="14" animation="easeInOutQuart" offset="16"> </round-progress> </round-progress> </round-progress> <div class="outcome-score" ng-if="graph.length == 3 && type == \'circle\'"> <span class="span-{{$index}}" ng-repeat="single in graph" ng-class="{ \'o-score\': $index == 0, \'org-score\': $index > 0 }" title="{{single.actual_value}}"> {{single.value | roundup}}{{ $index > 0 ? \'%\' : \'\'}} <span ng-if="$index == 0" class="percent-sign">%</span> </span> </div> </div> <div class="radial-wrapper radial-count-4" ng-if="graph.length == 4 && type == \'circle\'"> <round-progress max="max" current="graph[0].value" color="{{0 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" responsive="true" stroke="20" animation="easeInOutQuart" offset="43" ng-if="graph.length == 4 && type == \'circle\'"> <round-progress max="max" current="graph[1].value" color="{{1 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="20" animation="easeInOutQuart" offset="28"> <round-progress max="max" current="graph[2].value" color="{{2 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="20" animation="easeInOutQuart" offset="15"> <round-progress max="max" current="graph[3].value" color="{{3 | hexcolor}}" bgcolor="#EEEEEE" radius="100" semi="false" rounded="false" clockwise="true" responsive="true" stroke="14" animation="easeInOutQuart" offset="6"> </round-progress> </round-progress> </round-progress> </round-progress> <div class="outcome-score" ng-if="graph.length == 4 && type == \'circle\'"> <!--        \r\n            <span class="span-{{$index}}" ng-repeat="single in graph" ng-class="{ \'o-score\': $index == 0, \'org-score\': $index > 0 }">\r\n            {{single.value | roundup}}{{ $index > 0 ? \'%\' : \'\'}}\r\n            <span ng-if="$index == 0" class="percent-sign">%</span>\r\n        </span>\r\n            --> <span class="span-3 org-score hardcode" title="{{graph[3].actual_value}}">{{graph[3].value | roundup}}%</span> <span class="span-2 org-score hardcode" title="{{graph[2].actual_value}}">{{graph[2].value | roundup}}%</span> <span class="span-1 org-score hardcode" title="{{graph[1].actual_value}}">{{graph[1].value | roundup}}%</span> <span class="span-0 o-score" title="{{graph[0].actual_value}}">{{graph[0].value | roundup}}<span class="percent-sign">%</span></span> <!--        <span class="span-0 o-score">{{graph[0].value | roundup}}<span class="percent-sign">%</span></span>\r\n        <span class="span-1 org-score">{{graph[1].value | roundup}}%</span>\r\n        <span class="span-2 org-score">{{graph[2].value | roundup}}%</span>\r\n        <span class="span-3 org-score">{{graph[3].value | roundup}}%</span>--> </div> </div> <style>.hardcode {\r\n        top: -47px !important;\r\n    }</style>'),
a.put("views/reports/CreateReport.html",'<style>.content-wrapper {\r\n        padding: 40px 20px 30px !important;\r\n    }\r\n\r\n    .btn-red {\r\n        width: 144px !important;\r\n    }\r\n\r\n    .btn-cancel {\r\n        margin: 0px !important;\r\n    }\r\n    .loader {\r\n        height: 50px;\r\n        margin: 20px 0px 20px 0px;\r\n    }\r\n    \r\n    #s2id_language a,\r\n    #s2id_wgbenchmarkselect a,\r\n    #s2id_orgbenchmarkselect a,\r\n    #s2id_reportTypeselect a,\r\n    #s2id_segselect a{\r\n        height: unset;\r\n        height: 36px;\r\n    }\r\n\r\n    .test{\r\n        width: 100%; \r\n    }</style> <div class="user-add-form"> <div class="row"> <div class="col-sm-4"></div> <div class="col-sm-4"> <div class="main-content resumane-wrapper modelo-gift-wrapper"> <h1 class="modal-title">{{ reports.data.label.label_title_generate }}</h1> </div> <div class="col-sm-4"></div> </div> <form name="createReportForm" class="create-user" ng-submit="CreateReport.processGenerateReport()"> <label>{{ errorctrl.message }}</label> <div ng-show="loading" class="text-center"> <img src="images/loader.956c20df.gif" class="loader"><br> <label class="text-danger loader">Please wait, Report creation is in progress.</label> </div> <div class="fileupload fileupload-new" data-provides="fileupload" ng-show="!loading"> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box" style="margin-top: 0.5rem"> <select2 class="test" ng-model="CreateReport.addReport.report_type" name="report_type" s2-options="id as value for (id, value) in reports.data.page_info.report_type_list" id="reportTypeselect" options="{ allowClear: true, placeholder: placeholder1}" onchange="languageDropDown(this.value)"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <div class="form-group" style="margin-top: 0.5rem"> <input type="text" class="form-control" ng-model="CreateReport.addReport.file_name" placeholder="{{ reports.data.label.label_name_placeholder }}" id="file_name" required> </div> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="CreateReport.addReport.segments" s2-options="id as value for (id, value) in reports.data.page_info.assigned_segment_list" id="segselect" data-placeholder="{{placeholder2}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box" style="margin-top: 0.5rem"> <select2 class="test" ng-model="CreateReport.addReport.orgbenchmark" s2-options="id as value for (id, value) in reports.data.page_info.orgBenchmark_list" id="orgbenchmarkselect" style="margin-top: 0.5rem" data-placeholder="{{placeholder3}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" ng-if="reports.data.page_info.surveyperspective == 2"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="CreateReport.addReport.wgbenchmark" s2-options="id as value for (id, value) in reports.data.page_info.wgBenchmark_list" id="wgbenchmarkselect" style="margin-top: 0.5rem" data-placeholder="{{placeholder4}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" id="scoresheetreport"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="CreateReport.addReport.language" s2-options="id as value for (id, value) in reports.data.page_info.language_list" id="language" style="margin-top: 0.5rem" data-placeholder="{{placeholder5}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" id="tireport" style="display: none"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="CreateReport.addReport.language" s2-options="id as value for (id, value) in reports.data.page_info.languageArrForTI" id="language" style="margin-top: 0.5rem" data-placeholder="{{placeholder5}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" style="margin-top: 0.5rem"> <div class="col-sm-2"></div> <div class="col-sm-4"> <span>{{ reports.data.label.label_modal_multi_check }}</span> <input type="checkbox" ng-model="CreateReport.addReport.multi_check" class="md-primary"> </div> <div class="col-sm-6"></div> </div> </div> <div class="row"> <div class="col-sm-7"></div> <div class="col-sm-3"> <div ng-show="!loading"> <button type="submit" class="md-raised btn-red">{{ reports.data.label.label_modal_submit }}</button> <button type="button" class="md-raised btn-cancel" ui-sref="reports.sections.list">{{ reports.data.label.label_modal_cancle }}</button> </div> <div class="col-sm-2"></div> </div> </div></form> </div> <script type="text/javascript">$(document).ready(function(){ \r\n    if (localStorage.IsResponseSetForPlaceholder == 1) {\r\n        localStorage.removeItem("IsResponseSetForPlaceholder");\r\n        localStorage.setItem("IsResponseSetForPlaceholderForRedirectAgain", \'1\');\r\n        location.href = "https://" + location.host + "/files/ui-component/dist/#/reports";\r\n    }  \r\n    if (localStorage.IsResponseSetForPlaceholderForRedirectAgain1 == 1) {\r\n        localStorage.removeItem("IsResponseSetForPlaceholderForRedirectAgain1");\r\n        setTimeout(function() {\r\n           location.reload(); \r\n        }, 300);\r\n    }\r\n})\r\n\r\nfunction languageDropDown(id){\r\n    if (id == 5) {\r\n        $(\'#scoresheetreport\').hide();\r\n        $(\'#tireport\').show();\r\n    }\r\n    if (id == 1) {\r\n        $(\'#scoresheetreport\').show();\r\n        $(\'#tireport\').hide();\r\n    }\r\n}</script></div>'),a.put("views/reports/Report.html",'<style>.content-wrapper {\r\n        padding: 40px 20px 30px !important;\r\n    }\r\n\r\n    .btn-red {\r\n        width: 144px !important;\r\n    }\r\n    .width1{\r\n        margin-left: 66px;\r\n    }\r\n\r\n    .btn-cancel {\r\n        margin: 0px !important;\r\n    }\r\n    .loader {\r\n        height: 50px;\r\n        margin: 20px 0px 20px 0px;\r\n    }\r\n    \r\n    #s2id_language a,\r\n    #s2id_wgbenchmarkselect a,\r\n    #s2id_orgbenchmarkselect a,\r\n    #s2id_reportTypeselect a,\r\n    #s2id_segselect a{\r\n        height: unset;\r\n        height: 36px;\r\n    }\r\n\r\n    .test{\r\n        width: 100%; \r\n    }\r\n    #DataTables_Table_0_length label select{\r\n        width: unset;\r\n        width: 50px;\r\n    }</style> <section class="content-wrapper" ng-controller="ReportCtrl"> <div class="main-content"> <div class="download-wrapper"> <div class="filter-wrapper row"> <div class="col-sm-3"> <div class="common-filter-box"> <div class="form-group"> <input type="text" class="form-control" ng-model="file_name" placeholder="{{ reports.data.label.label_name_placeholder }}"> </div> </div> </div> <div class="col-sm-3"> <div class="common-filter-box"> <div> <ol class="nya-bs-select" ng-model="segments" disabled title="{{ reports.data.label.label_segment_placeholder }}"> <li nya-bs-option="option in reports.data.page_info.segment_list"> <a>{{option}}</a> </li> </ol> </div> </div> </div> <div class="col-sm-2"> <div class="common-filter-box"> <div> <ol class="nya-bs-select" ng-model="report_type" disabled title="{{ reports.data.label.label_type_placeholder }}" id="report_type" style="width: 225px"> <li nya-bs-option="option in reports.data.page_info.report_type_list"> <a>{{option}}</a> </li> </ol> </div> </div> </div> <div class="col-sm-2"> <button class="md-raised btn-red width1" style="min-width: unset;width: 75px !important" onclick="window.location.reload()">{{ reports.data.label.label_btn_clear }}</button> </div> <div ng-if="reports.data.page_info.assigned_segment_cont > 0"> <div class="col-sm-2"> <button class="md-raised btn-red" ui-sref="reports.sections.add" style="margin-left: -15px; background:unset; background: {{reports.data.page_info.backcolor}} !important" title="{{reports.data.page_info.title}}">{{ reports.data.label.label_btn_generate }}</button> <!-- <a ui-sref="reports.sections.add" >\r\n                            <img src="images/5.230d7c91.jpg">\r\n                            {{ usuarios.label.label_add_user }}\r\n                        </a> --> </div> </div> <div ng-if="reports.data.page_info.assigned_segment_cont == 0"> <div class="col-sm-2"> <button class="md-raised btn-red" data-toggle="modal" ng-href="clickGenerateButton()" style="margin-left: -15px; background:unset; background: {{reports.data.page_info.backcolor}} !important" disabled title="{{reports.data.page_info.title}}">{{ reports.data.label.label_btn_generate }}</button> </div> </div> </div> </div> </div> <table datatable dt-options="dtOptions" dt-columns="dtColumns"> <thead> <tr> <th ng-bind-html="reports.data.label.label_report_name"></th> <th ng-bind-html="reports.data.label.label_segment_name"></th> <th ng-bind-html="reports.data.label.label_report_type"></th> <th ng-bind-html="reports.data.label.label_report_status"></th> <th class="text-center" ng-bind-html="reports.data.label.label_btn_download"></th> </tr> </thead> <tbody ng-if="reports.data.page_info.report_data.length != 0"> <tr ng-repeat="item in reports.data.page_info.report_data | filter:{ file_name:file_name, segment_name:segments, type:report_type }"> <td ng-bind-html="item.file_name"></td> <td ng-bind-html="item.segment_name"></td> <td ng-bind-html="item.type"></td> <td><i class="{{item.statusIconClass}}" style="{{item.statusIconStyle}}" title="{{item.statusIconTitle}}"></i></td> <td> <div class="table-action text-center" ng-if="item.status ==3"> <a href="{{ item.download_link }}" class="download-text"><i class="{{item.icon}}"></i></a> </div> </td> </tr> </tbody> </table> <div id="creat-report" class="modal fade btn-modal" role="dialog" ng-controller="ReportCtrl"> <div class="modal-dialog"> <!-- Modal content--> <form name="userUploadForm" class="create-user" ng-submit="processGenerateReport()"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{ reports.data.label.label_title_generate }}</h4> </div> <label>{{ errorctrl.message }}</label> <div class="modal-body"> <div ng-show="loading" class="text-center"> <img src="images/loader.956c20df.gif" class="loader"><br> <label class="text-danger loader">Please wait, Report creation is in progress.</label> </div> <div class="fileupload fileupload-new" data-provides="fileupload" ng-show="!loading"> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box" style="margin-top: 0.5rem"> <select2 class="test" ng-model="Report.report_type" s2-options="id as value for (id, value) in reports.data.page_info.report_type_list" id="reportTypeselect" options="{ allowClear: true, placeholder: placeholder1}" onchange="languageDropDown(this.value)"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <div class="form-group" style="margin-top: 0.5rem"> <input type="text" class="form-control" ng-model="Report.file_name" placeholder="{{ reports.data.label.label_name_placeholder }}" id="file_name" required> </div> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2">{{placeholders.label.label_segment_select_placeholder}}</div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="Report.segments" s2-options="id as value for (id, value) in reports.data.page_info.assigned_segment_list" id="segselect" data-placeholder="{{placeholder2}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box" style="margin-top: 0.5rem"> <select2 class="test" ng-model="Report.orgbenchmark" s2-options="id as value for (id, value) in reports.data.page_info.orgBenchmark_list" id="orgbenchmarkselect" style="margin-top: 0.5rem" data-placeholder="{{placeholder3}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" ng-if="reports.data.page_info.surveyperspective == 2"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="Report.wgbenchmark" s2-options="id as value for (id, value) in reports.data.page_info.wgBenchmark_list" id="wgbenchmarkselect" style="margin-top: 0.5rem" data-placeholder="{{placeholder4}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" id="scoresheetreport"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="Report.language" s2-options="id as value for (id, value) in reports.data.page_info.language_list" id="language" style="margin-top: 0.5rem" data-placeholder="{{placeholder5}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" id="tireport" style="display: none"> <div class="col-sm-2"></div> <div class="col-sm-8"> <div class="common-filter-box"> <select2 class="test" ng-model="Report.language" s2-options="id as value for (id, value) in reports.data.page_info.languageArrForTI" id="language" style="margin-top: 0.5rem" data-placeholder="{{placeholder5}}"> </select2> </div> </div> <div class="col-sm-2"></div> </div> <div class="row" style="margin-top: 0.5rem"> <div class="col-sm-2"></div> <div class="col-sm-4"> <span>{{ reports.data.label.label_modal_multi_check }}</span> <input type="checkbox" ng-model="Report.multi_check" class="md-primary"> </div> <div class="col-sm-6"></div> </div> </div> </div> <div class="modal-footer" ng-show="!loading"> <button type="submit" class="md-raised btn-red">{{ reports.data.label.label_modal_submit }}</button> <button type="button" class="md-raised btn-cancel" data-dismiss="modal">{{ reports.data.label.label_modal_cancle }}</button> </div> </div> </form> </div> </div> </section> <script type="text/javascript">$(document).ready(function(){ \r\n    if (localStorage.IsResponseSetForPlaceholderForRedirectAgain == 1) {\r\n        localStorage.removeItem("IsResponseSetForPlaceholderForRedirectAgain");\r\n        localStorage.setItem("IsResponseSetForPlaceholderForRedirectAgain1", \'1\');\r\n        location.href = "https://" + location.host + "/files/ui-component/dist/#/createreport";\r\n    }\r\n})\r\n\r\nfunction languageDropDown(id){\r\n    if (id == 5) {\r\n        $(\'#scoresheetreport\').hide();\r\n        $(\'#tireport\').show();\r\n    }\r\n    if (id == 1) {\r\n        $(\'#scoresheetreport\').show();\r\n        $(\'#tireport\').hide();\r\n    }\r\n}</script>'),a.put("views/users/mi-perfil.html",'<span class="admin-user-text">{{ miperfil.label.prfileTitle }}</span> <div class="register-screen"> <form name="userProfileForm" class="create-user" ng-submit="miperfil.processProfileForm()" novalidate> <div class="row"> <div class="col-md-4 col-sm-4"> <div class="inner-form-wrap"> <div class="form-group" ng-class="{ \'error\' : userProfileForm.name.$invalid && !userProfileForm.name.$pristine }"> <input readonly name="name" type="text" class="form-control" ng-attr-placeholder="{{ miperfil.label.label_name }}" ng-model="miperfil.profile.name" required> <span ng-show="userProfileForm.name.$invalid && !userProfileForm.name.$pristine" class="help-inline">{{ miperfil.label.validation_name }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userProfileForm.phone.$invalid && !userProfileForm.phone.$pristine }"> <input readonly type="text" ng-model="miperfil.profile.phone" name="phone" class="form-control" ng-attr-placeholder="{{ miperfil.label.label_phone }}" required> <span ng-show="userProfileForm.phone.$invalid && !userProfileForm.phone.$pristine" class="help-inline">{{ miperfil.label.validation_phone }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userProfileForm.email.$invalid && !userProfileForm.email.$pristine }"> <input readonly type="email" ng-model="miperfil.profile.email" name="email" class="form-control" ng-attr-placeholder="{{ miperfil.label.label_email }}" required> <span ng-show="userProfileForm.email.$invalid && !userProfileForm.email.$pristine" class="help-inline">{{ miperfil.label.validation_email }}</span> </div> <div class="form-group"> {{ miperfil.profile.position_options[miperfil.profile.position] }} </div> <div class="form-group"> {{ miperfil.profile.type_options[miperfil.profile.type] }} </div> </div> </div> <div class="col-md-8 col-sm-8"> <div class="register-user-profile"> <div class="sk-chasing-dots" ng-hide="!miperfil.statedImageUpload"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> <img ng-src="{{ miperfil.profile.profile_photo }}" ng-hide="miperfil.statedImageUpload"> <input type="file" name="file" onchange="angular.element(this).scope().uploadImage(this.files)"> <span class="user-name"><a>{{ miperfil.label.label_upload }}</a></span> </div> <div class="change-pwd-section"> <button class="md-raised chng-pwd btn-red" data-toggle="modal" data-target="#change-pwd">{{ miperfil.chgpwdlabel.label_btn }}</button> </div> </div> </div> <div ng-if="miperfil.company_id != 0"> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ miperfil.label.label_segment }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ miperfil.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="miperfil.query"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <tr> <th class="heading-text">{{ miperfil.label.segments }}</th> <th class="heading-text">{{ miperfil.label.study }}</th> </tr> </thead> <tbody> <tr ng-repeat="(id, segment) in miperfil.profile.assigned_segments | with:miperfil.query"> <td>{{ segment.value }}</td> <td>{{ segment.year }}</td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <!--Benchmark starts here--> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ miperfil.label.label_orgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ miperfil.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="miperfil.queryorgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!-- <tr>\r\n                                                    <th>{{ miperfil.label.primaryOrg }}</th>\r\n                                                </tr>  --> </thead> <tbody> <tr ng-repeat="(id, orgbenchmark) in miperfil.profile.primaryOrgBenchmarks | with:miperfil.queryorgbench"> <td> {{ orgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ miperfil.label.label_wgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ miperfil.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="miperfil.querywgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!-- <tr>\r\n                                                    <th>{{ miperfil.label.primaryWg }}</th>\r\n                                                </tr> --> </thead> <tbody> <tr ng-repeat="(id, wgbenchmark) in miperfil.profile.primaryWgBenchmarks | with:miperfil.querywgbench"> <td> {{ wgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> </div> <div class="row btn-act"> <div class="col-sm-12"> <div class="edit-user-button-wrap pull-right"> <!-- <button class="md-raised btn-cancel" ng-click="miperfil.redirectToDashboard()">{{ miperfil.label.label_btn_cancel }}</button>                  \r\n                    <button class="md-raisedsegment_options btn-red btn-edit" type="submit" ng-disabled="userProfileForm.$invalid">{{ miperfil.label.label_btn_submit }}</button> --> </div> </div> </div> </form> <!-- Change Password Modal --> <div id="change-pwd" class="modal fade" role="dialog"> <div class="modal-dialog modal-md"> <div class="modal-content"> <form class="form-inline" name="changePassword" ng-submit="miperfil.processChangePwdForm()" novalidate> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{ miperfil.chgpwdlabel.label_btn }}</h4> </div> <div class="modal-body"> <div class="main-changepwd-box"> <!-- <div class="form-group" ng-class="{ \'error\' : changePassword.old_password.$invalid && !changePassword.old_password.$pristine }">\r\n                                <input type="password" name="old_password" class="form-control" ng-attr-placeholder="{{ miperfil.chgpwdlabel.label_old_pwd }}" ng-model="miperfil.chgpwd.old_password" required>\r\n                                <span ng-show="changePassword.old_password.$invalid && !changePassword.old_password.$pristine" class="help-inline">{{ miperfil.chgpwdlabel.validation_old_pwd }}</span>\r\n                            </div> --> <div class="form-group" ng-class="{ \'error\' : changePassword.new_password.$invalid && !changePassword.new_password.$pristine }"> <input type="password" name="new_password" class="form-control" ng-attr-placeholder="{{ miperfil.chgpwdlabel.label_new_pwd }}" ng-model="miperfil.chgpwd.new_password" required> <span ng-show="changePassword.new_password.$invalid && !changePassword.new_password.$pristine" class="help-inline">{{ miperfil.chgpwdlabel.validation_new_pwd }}</span> </div> <div class="form-group" ng-class="{ \'error\' : changePassword.confirm_password.$invalid && !changePassword.confirm_password.$pristine }"> <input type="password" name="confirm_password" class="form-control" ng-attr-placeholder="{{ miperfil.chgpwdlabel.label_cnf_pwd }}" ng-model="miperfil.chgpwd.confirm_password" required> <span ng-show="changePassword.confirm_password.$invalid && !changePassword.confirm_password.$pristine" class="help-inline">{{ miperfil.chgpwdlabel.validation_cnf_pwd }}</span> </div> </div> </div> <div class="modal-footer"> <button type="submit" class="md-raised popup-red-btn" ng-disabled="changePassword.$invalid">{{ miperfil.chgpwdlabel.label_btn_submit }}</button> <button type="button" class="md-raised btn-cancel" data-dismiss="modal">{{ miperfil.chgpwdlabel.label_btn_cancel }}</button> </div> </form> </div> </div> </div> </div>'),a.put("views/users/usuarios.html",'<style>a {\r\n        color: black;\r\n    }\r\n\r\n        a:hover {\r\n            color: black !important;\r\n        }\r\n\r\n    .loader {\r\n        height: 50px;\r\n        margin: 20px 0px 20px 0px;\r\n    }\r\n\r\n    .btn-cancel {\r\n        margin: 0px !important;\r\n    }\r\n    #DataTables_Table_0_length label select{\r\n        width: unset;\r\n        width: 50px;\r\n    }</style> <span class="admin-user-text">{{ usuarios.label.label_title }}</span> <!-- <div class="table-section">\r\n    <div class="responsive-tbl"> --> <!-- Upload User Update Button--> <!-- <div ng-if="usuarios.label.is_segment > 0"> --> <div ng-if="usuarios.label.all_leaders > 0"> <button class="update-upload-user" data-toggle="modal" data-target="#upload-user-update" title="{{usuarios.label.label_upload_user_update_actual}}"><i class="fa fa-edit"></i>{{ usuarios.label.label_upload_user_update }}</button> </div> <!-- Upload User Button--> <button class="upload-user" data-toggle="modal" data-target="#upload-user" title="{{usuarios.label.label_upload_user_actual}}"><i class="fa fa-plus"></i>{{ usuarios.label.label_upload_user }}</button> <a ui-sref="users.sections.add"> <img src="images/5.230d7c91.jpg"> {{ usuarios.label.label_add_user }} </a> <!-- </div> --> <table datatable="ng"> <thead> <tr> <th>{{ usuarios.label.label_tbl_name }}</th> <th>{{ usuarios.label.label_tbl_segment }}</th> <th style="text-align:center !important"> {{ usuarios.label.label_tbl_action }} </th> </tr> </thead> <tbody class="table-br"> <tr ng-repeat="user in usuarios.userList"> <td>{{ user.name }}</td> <td>{{ user.segment }}</td> <td style="text-align:center !important"> <div class="table-action"> <a ui-sref="users.sections.edit({id:user.user_id})" title="{{ usuarios.label.tooltip_edit }}" class="edit"> <i class="fa fa-pencil" aria-hidden="true"></i> </a> <a ng-click="usuarios.deleteUser(user.user_id)" title="{{ usuarios.label.tooltip_delete }}" class="delete"> <i class="fa fa-trash" aria-hidden="true"></i> </a> <a ng-click="usuarios.sendMail(user.user_id)" title="{{ usuarios.label.tooltip_resend }}" class="mail"> <i class="fa fa-envelope" aria-hidden="true"></i> </a> <a ng-click="usuarios.changeStatus(user.user_id)" title="{{ usuarios.label.status[user.status] }}" class="mail status"> <i ng-class="{\'fa\': true, \'fa-eye\': user.status == 1, \'fa-eye-slash\': user.status == 0}" aria-hidden="true"></i> </a> </div> </td> </tr> </tbody> </table> <!-- </div>\r\n</div> --> <!--Upload User Modal --> <div id="upload-user" class="modal fade btn-modal" role="dialog" ng-controller="UsuariosCtrl"> <div class="modal-dialog"> <!-- Modal content--> <form name="userUploadForm" class="create-user" ng-submit="processUploadForm()"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{ usuarios.label.modal_label_title }}</h4> </div> <div class="modal-body"> <div ng-show="loading" class="text-center"> <img src="images/loader.956c20df.gif" class="loader"><br> <label class="text-danger loader">Please wait, Uploading data.</label> </div> <div class="fileupload fileupload-new" data-provides="fileupload" ng-show="!loading"> <label class="label">{{ usuarios.label.modal_label_note }}</label><br> <span class="btn btn-primary btn-file"><span class="fileupload-new">{{ usuarios.label.modal_label_upload }}</span> <span class="fileupload-exists">Change</span> <input type="file" name="file" id="file" onchange="angular.element(this).scope().uploadImage(this.files)"></span> <span class="fileupload-preview" id="filePreview"></span> <a href="#" class="close fileupload-exists" data-dismiss="fileupload" style="float: none">�</a> </div> </div> <div class="modal-footer" ng-show="!loading"> <a href="{{ usuarios.label.modal_label_download_sample_link }}" class="pull-left download-sample">{{ usuarios.label.modal_label_sample }}</a> <button type="submit" class="md-raised popup-red-btn" onclick="return updateSubmit()">{{ usuarios.label.modal_label_btn_submit }}</button> <button type="button" class="md-raised btn-cancel" data-dismiss="modal">{{ usuarios.label.modal_label_btn_cancel }}</button> </div> </div> </form> </div> </div> <!--Upload User Update Modal --> <div id="upload-user-update" class="modal fade btn-modal" role="dialog" ng-controller="UsuariosCtrl"> <div class="modal-dialog"> <!-- Modal content--> <form name="userUploadUpdateForm" class="create-user" ng-submit="processUpdateForm()"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{ usuarios.label.updatemodal_label_title }}</h4> </div> <div class="modal-body"> <div ng-show="loading" class="text-center"> <img src="images/loader.956c20df.gif" class="loader"><br> <label class="text-danger loader">Please wait, Uploading data.</label> </div> <div class="fileupload fileupload-new" data-provides="fileupload" ng-show="!loading"> <label class="label">{{ usuarios.label.modal_label_note }}</label><br> <span class="btn btn-primary btn-file"><span class="fileupload-new">{{ usuarios.label.modal_label_upload }}</span> <span class="fileupload-exists">Change</span> <input type="file" name="file" id="updatefile" onchange="angular.element(this).scope().updateUploadImage(this.files)"></span> <span class="fileupload-preview" id="updatefilePreview"></span> <a href="#" class="close fileupload-exists" data-dismiss="fileupload" style="float: none">�</a> </div> </div> <div class="modal-footer" ng-show="!loading"> <a href="{{ usuarios.label.updatemodal_label_download_sample_link }}" class="pull-left download-sample">{{ usuarios.label.updatemodal_label_sample }}</a> <button type="submit" class="md-raised popup-red-btn" onclick="return updateSubmit()">{{ usuarios.label.modal_label_btn_submit }}</button> <button type="button" class="md-raised btn-cancel" data-dismiss="modal">{{ usuarios.label.modal_label_btn_cancel }}</button> </div> </div> </form> </div> </div> <script>$(\'#file\').change(function () {\r\n'+"        var filename = $('#file').val().split('\\\\').pop();\r\n        $('#filePreview').html(filename);\r\n    });\r\n    $('#updatefile').change(function () {\r\n        var filename = $('#updatefile').val().split('\\\\').pop();\r\n        $('#updatefilePreview').html(filename);\r\n    });\r\n$(document).ready(function(){\r\n      setInterval(function(){ \r\n        if(localStorage.IsResponseSetForAdd == '1')\r\n        {\r\n            localStorage.removeItem(\"IsResponseSetForAdd\");\r\n            location.reload();\r\n        }\r\n    }, 300);  \r\n})\r\nfunction updateSubmit(){\r\n        setInterval(function(){ \r\n            if(localStorage.IsResponseSet == '1')\r\n            {\r\n                tohtml();\r\n                localStorage.removeItem(\"IsResponseSet\");\r\n                return;\r\n            }\r\n        }, 30);\r\n    }\r\nfunction tohtml() {\r\n    var d = $(\".alert\");\r\n    d.html(d.text());\r\n}</script>"),a.put("views/users/usuarios_add.html",'<h3>{{ usuariosadd.label.title_add }}</h3> <div class="user-add-form"> <form name="userAddForm" class="create-user" ng-submit="usuariosadd.processForm()" novalidate> <div class="row"> <div class="col-md-8 col-sm-8"> <div class="inner-form-wrap"> <div class="form-group" ng-class="{ \'error\' : userAddForm.name.$invalid && !userAddForm.name.$pristine }"> <input name="name" type="text" class="form-control" ng-attr-placeholder="{{ usuariosadd.label.label_name }}" ng-model="usuariosadd.addUser.name" required> <span ng-show="userAddForm.name.$invalid && !userAddForm.name.$pristine" class="help-inline">{{ usuariosadd.label.validation_name }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userAddForm.phone.$invalid && !userAddForm.phone.$pristine }"> <input type="number" ng-model="usuariosadd.addUser.phone" name="phone" class="form-control" ng-attr-placeholder="{{ usuariosadd.label.label_phone }}"> <span ng-show="userAddForm.phone.$invalid && !userAddForm.phone.$pristine" class="help-inline">{{ usuariosadd.label.validation_phone }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userAddForm.email.$invalid && !userAddForm.email.$pristine }"> <input type="email" ng-model="usuariosadd.addUser.email" name="email" class="form-control" ng-attr-placeholder="{{ usuariosadd.label.label_email }}" required> <span ng-show="userAddForm.email.$invalid && !userAddForm.email.$pristine" class="help-inline">{{ usuariosadd.label.validation_email }}</span> </div> </div> </div> </div> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosadd.label.label_segment }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosadd.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosadd.querysegment"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <tr> <th>{{ usuariosadd.label.segments }}</th> <th>{{ usuariosadd.label.study }}</th> </tr> </thead> <tbody> <tr ng-repeat="(id, segment) in usuariosadd.formInfo.segment_options | with:usuariosadd.querysegment"> <td> <input type="checkbox" md-no-ink aria-label="{{ segment.value }}" class="md-primary" ng-click="usuariosadd.segmentToggle(id)" ng-checked="usuariosadd.segmentIsChecked(id)"> {{ segment.value }} </td> <td>{{ segment.year }}</td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <!-- Benchmarks assign section --> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosadd.label.label_orgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosadd.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosadd.queryorgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!--  <tr>\r\n                                                <th>{{ usuariosadd.label.primaryOrg }}</th>\r\n                                            </tr> --> </thead> <tbody> <tr ng-repeat="(id, orgbenchmark) in usuariosadd.formInfo.primaryOrgBenchmarks | with:usuariosadd.queryorgbench"> <td> <input type="checkbox" md-no-ink aria-label="{{ orgbenchmark.value }}" class="md-primary" ng-click="usuariosadd.orgBenchmarkToggle(id)" ng-checked="usuariosadd.orgBenchmarkIsChecked(id)"> {{ orgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosadd.label.label_wgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosadd.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosadd.querywgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!-- <tr>\r\n                                                <th>{{ usuariosadd.label.primaryWg }}</th>\r\n                                            </tr> --> </thead> <tbody> <tr ng-repeat="(id, wgbenchmark) in usuariosadd.formInfo.primaryWgBenchmarks | with:usuariosadd.querywgbench"> <td> <input type="checkbox" md-no-ink aria-label="{{ wgbenchmark.value }}" class="md-primary" ng-click="usuariosadd.wgBenchmarkToggle(id)" ng-checked="usuariosadd.wgBenchmarkIsChecked(id)"> {{ wgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="edit-user-button-wrap pull-right"> <button class="md-raised btn-cancel" href="#/usuarios">{{ usuariosadd.label.label_btn_cancel }}</button> <button class="md-raisedsegment_options btn-red btn-edit" type="submit" ng-disabled="userAddForm.$invalid">{{ usuariosadd.label.label_btn_submit }}</button> </div> </div> </div> </form> </div>'),
a.put("views/users/usuarios_edit.html",'<h3>{{ usuariosedit.label.title_edit }}</h3> <div class="user-add-form"> <form name="userAddForm" class="create-user" ng-submit="usuariosedit.processForm()" novalidate> <div class="row"> <div class="col-md-8 col-sm-8"> <div class="inner-form-wrap"> <input name="user_id" type="hidden" ng-model="usuariosedit.editUser.user_id"> <div class="form-group"> <input name="name" type="text" class="form-control" placeholder="{{usuariosedit.label.label_name}}" ng-model="usuariosedit.editUser.name" required> <span ng-show="userAddForm.name.$invalid && !userAddForm.name.$pristine" class="help-inline">{{ usuariosedit.label.validation_name }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userEditForm.phone.$invalid && !userEditForm.phone.$pristine }"> <input type="text" ng-model="usuariosedit.editUser.phone" name="phone" class="form-control" ng-attr-placeholder="{{usuariosedit.label.label_phone}}"> <span ng-show="userEditForm.phone.$invalid && !userEditForm.phone.$pristine" class="help-inline">{{ usuariosedit.label.validation_phone }}</span> </div> <div class="form-group" ng-class="{ \'error\' : userAddForm.email.$invalid && !userAddForm.email.$pristine }"> <input type="email" ng-model="usuariosedit.editUser.email" name="email" class="form-control" ng-attr-placeholder="{{usuariosedit.label.label_email}}" required> <span ng-show="userAddForm.email.$invalid && !userAddForm.email.$pristine" class="help-inline">{{ usuariosedit.label.validation_email }}</span> </div> </div> </div> </div> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosedit.label.label_segment }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosedit.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosedit.querysegment"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <div class="assign-table"> <table class="table table-stripped"> <thead> <tr> <th>{{ usuariosedit.label.segments }}</th> <th>{{ usuariosedit.label.study }}</th> </tr> </thead> <tbody> <tr ng-repeat="(id, segment) in usuariosedit.editUser.segment_options | with:usuariosedit.querysegment"> <td> <input type="checkbox" md-no-ink aria-label="{{ segment.value }}" class="md-primary" ng-click="usuariosedit.segmentToggle(id)" ng-checked="usuariosedit.segmentIsChecked(id)"> {{ segment.value }} </td> <td>{{ segment.year }}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> <!-- Benchmarks assign section --> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosedit.label.label_orgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosedit.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosedit.queryorgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!-- <tr>\r\n                                                <th>{{ usuariosedit.label.primaryOrg }}</th>\r\n                                            </tr>  --> </thead> <tbody> <tr ng-repeat="(id, orgbenchmark) in usuariosedit.editUser.primaryOrgBenchmarks | with:usuariosedit.queryorgbench"> <td> <input type="checkbox" md-no-ink aria-label="{{ orgbenchmark.value }}" class="md-primary" ng-click="usuariosedit.orgBenchmarkToggle(id)" ng-checked="usuariosedit.orgBenchmarkIsChecked(id)"> {{ orgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <div class="inner-crear-nuevo asignacion-de-segmentos"> <span>{{ usuariosedit.label.label_wgbenchmark }}</span> <div class="checkbox-group-wrapper"> <div class="inner-check-wrapper asignar-empresas"> <div class="inner-check-group-wrap"> <div class="inner-check"> <div class="inner-div"> <span class="select-title">{{ usuariosedit.label.label_search }}</span> <span class="select-search"> <input type="text" ng-attr-placeholder="" name="search" ng-model="usuariosedit.querywgbench"> <span class="search-icon"> <i class="fa fa-search" aria-hidden="true"></i> </span> </span> </div> <div class="scrollbox"> <!-- Table start from here --> <div class="assign-table"> <table class="table table-stripped"> <thead> <!-- <tr>\r\n                                                <th>{{ usuariosedit.label.primaryWg }}</th>\r\n                                            </tr> --> </thead> <tbody> <tr ng-repeat="(id, wgbenchmark) in usuariosedit.editUser.primaryWgBenchmarks | with:usuariosedit.querywgbench"> <td> <input type="checkbox" md-no-ink aria-label="{{ wgbenchmark.value }}" class="md-primary" ng-click="usuariosedit.wgBenchmarkToggle(id)" ng-checked="usuariosedit.wgBenchmarkIsChecked(id)"> {{ wgbenchmark.value }} </td> </tr> </tbody> </table> </div> <!-- Table end here --> </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 edit-u-sec"> <div class="edit-user-button-wrap pull-right"> <button class="md-raised btn-cancel" href="#/usuarios">{{ usuariosedit.label.label_btn_cancel }}</button> <button class="md-raisedsegment_options btn-red btn-edit" type="submit" ng-disabled="userEditForm.$invalid">{{ usuariosedit.label.label_btn_submit }}</button> </div> </div> </div> </form> </div>'),a.put("views/dashboard/analysis/gaps.html",'<style type="text/css">.analisis-content-wrapper .tab-content-main-wrapper ul li {\r\n        text-align : unset;\r\n    }\r\n    .bar-legend-wrapper li {\r\n        margin-bottom: unset;\r\n        margin-left: unset;\r\n    }</style> <div class="tab-content-wrapper respeto-tab" ng-if="gaps.data.gaps_data.show_graph"> <!-- START TITLE SECTION --> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ gaps.data.gaps_data.title }}</h3> </div> <div class="top-btn-section pull-right"> <button type="button" class="md-raised btn-red excel-btn" ng-click="gaps.dowloadExcel()"> <i class="fa fa-download" aria-hidden="true"></i> {{ gaps.data.gaps_data.label.btn_excel }} </button> </div> </div> <!-- END TITLE SECTION --> <!-- START GRAPH SECTION --> <div class="bar-graph-wrapper" id="{{ \'bar-\' + key }}" ng-class="{\'show\': gaps.isAnyChecked(key), \'hidden\': !gaps.isAnyChecked(key)}" ng-repeat="(key, dimension) in gaps.data.gaps_data.dimensions" on-finish-render="gaps_data"> <div class="bar-legend-wrapper"> <ul> <li ng-repeat="perspective in gaps.data.gaps_data.perspective"> <i class="fa fa-stop" ng-style="{\'color\': (($index == 0) ? dimension.color : (dimension.color | lighter))}" aria-hidden="true"></i> {{ perspective }} </li> </ul> </div> <div id="{{ \'d3-bar-\' + key }}" class="commom-bar"></div> <div class="axis-labels"> <div class="x axis"><span>{{ gaps.data.gaps_data.label.x_axis }}</span></div> <div class="y axis"><span>{{ gaps.data.gaps_data.label.y_axis }}</span></div> </div> </div> <!-- END GRAPH SECTION --> <div class="bar-accordian"> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="bar-accordian-heading-wrap"> <div class="header-main-wrapper"> <table class="table table-headig"> <tr> <td width="70"></td> <td><h4>{{ gaps.data.gaps_data.label.media_filter }}</h4></td> <td ng-repeat="(pKey, perspective) in gaps.data.gaps_data.perspective" width="105"> <span class="{{ \'heading-\' + $index }}" ng-click="gaps.sortStatements(pKey, \'value\')"> <i class="fa fa-sort" aria-hidden="true"></i> {{ perspective }} </span> </td> <td width="60"> <span class="heading-gap" ng-click="gaps.sortStatements(null, \'diffrence\')"> <i class="fa fa-sort" aria-hidden="true"></i> {{ gaps.data.gaps_data.label.tab_title }} </span> </td> </tr> </table> </div> </div> <div class="panel-group" id="accordion"> <div class="panel panel-default respeto-wrapper" ng-repeat="(dkey, table) in gaps.data.gaps_data.dimensions"> <div class="panel-heading" ng-style="{\'background-color\': table.color, \'border-color\': table.color, \'color\':\'#FFF\'}"> <div data-toggle="collapse" data-parent="#accordion" ng-click="$event.preventDefault()" href="{{ \'#collapse\' + dkey }}" id="{{ \'check\' + dkey }}"> <table class="table table-headig"> <tr> <td width="70"> <input type="checkbox" md-no-ink aria-label="{{ table.title }}" class="md-primary" ng-checked="gaps.isChecked(dkey)" md-indeterminate="gaps.isIndeterminate(dkey)" ng-click="gaps.toggleAll(dkey); $event.stopPropagation(); "> </td> <td><h5> {{ table.title }}</h5></td> </tr> </table> </div> </div> <div id="{{ \'collapse\' + dkey }}" class="panel-collapse collapse" ng-class="{\'in\': gaps.isAnyChecked(dkey) }"> <div class="panel-body"> <div class="a-table respeto"> <table class="table"> <tbody> <tr ng-repeat="(skey, row) in table.statments"> <td width="70"> <input type="checkbox" md-no-ink class="md-primary" ng-checked="gaps.exists(skey, gaps.statementChecks[dkey][\'selected\'], row.key)" ng-click="gaps.toggle(skey, gaps.statementChecks[dkey][\'selected\'], row.key)"> {{ row.number }} </td> <td class="cred-text" width=""> {{ row.title }} </td> <td class="cred-text" width="100" ng-repeat="(pkey, perspective) in gaps.data.gaps_data.perspective"> {{ row.value[pkey] | roundup}} </td> <td class="cred-text" width="60">{{ row.diffrence | roundup}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="well" ng-if="!gaps.data.gaps_data.show_graph"> <div class="row alert alert-danger"> <p class="lead"> {{ gaps.data.gaps_data.no_graph_message }} </p> </div> </div>'),a.put("views/dashboard/analysis/matriz.html",'<div class="tab-content-wrapper"> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="para-container"> <h3 class="orange-text">{{ matriz.data.ca_data.title }}</h3> <p>{{ matriz.data.ca_data.description }}</p> </div> <div class="bubble-chart-wrapper"> <div class="bubble-chart-inner-wrap"> <div class="bubble-section"> <svg id="scatter" width="900" height="500"></svg> </div> </div> <div class="axis-labels"> <div class="x axis"><span>{{ matriz.data.ca_data.xaxis }}</span></div> <div class="y axis"><span>{{ matriz.data.ca_data.yaxis }}</span></div> </div> <div id="hidden-box" class="bubble-chart-detail" ng-class="{\'show\': matriz.showPopup, \'hidden\': !matriz.showPopup}"> <table class="table"> <tr ng-class="{\'second-row\': $index > 1}" ng-if="$even" ng-repeat="definition in matriz.data.ca_data.definition"> <td class="br-line"> <div class="bar-box"> <a href="#" class="web-data">{{ matriz.data.ca_data.definition[$index].title }}</a> <a href="#" class="responsive-data" data-toggle="modal" ng-attr-data-target="#myModal{{ $index }}">{{ matriz.data.ca_data.definition[$index].title }}</a> <p class="web-data">{{ matriz.data.ca_data.definition[$index].description }}</p> <div ng-attr-id="myModal{{ $index }}" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title orange-text">{{ matriz.data.ca_data.definition[$index].title }}</h4> </div> <div class="modal-body"> <p>{{ matriz.data.ca_data.definition[$index].description }}</p> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div> </div> </div> </div> </td> <td> <div class="bar-box"> <a href="#" class="web-data">{{ matriz.data.ca_data.definition[$index+1].title }}</a> <a href="#" class="responsive-data" data-toggle="modal" ng-attr-data-target="#myModal{{ $index+1 }}">{{ matriz.data.ca_data.definition[$index+1].title }}</a> <p class="web-data">{{ matriz.data.ca_data.definition[$index+1].description }}</p> <div ng-attr-id="myModal{{ $index+1 }}" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title orange-text">{{ matriz.data.ca_data.definition[$index+1].title }}</h4> </div> <div class="modal-body"> <p>{{ matriz.data.ca_data.definition[$index+1].description }}</p> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div class="b-checkbox"> <input type="checkbox" id="click" md-no-ink aria-label="{{ matriz.data.ca_data.label.checkbox_label }}" ng-model="matriz.showPopup" class="md-primary"> {{ matriz.data.ca_data.checkbox_label }} </div> </div> </div> </div>'),a.put("views/dashboard/areas/change_language.html",'<div class="modal-dialog modal-sm"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">{{ dashboard.languageOptions.title }}</h4> </div> <div class="modal-body"> <div class="lang-select"> <div class="pull-left"> <ol class="nya-bs-select" ng-model="dashboard.currentLanguage" title="{{ dashboard.langlabel.label_select }}"> <li nya-bs-option="(id, option) in dashboard.languageOptions.options" data-value="id" ng-class="{\'selected\': dashboard.currentlanguage == id }"> <a>{{ option }}</a> </li> </ol> </div> </div> </div> <div class="modal-footer"> <button type="button" class="md-raised popup-red-btn" ng-click="dashboard.changeLanguage()">{{ dashboard.langlabel.label_btn_submit }}</button> <button type="button" class="md-raised btn-cancel" data-dismiss="modal">{{ dashboard.langlabel.label_btn_cancel }}</button> </div> </div> </div>'),a.put("views/dashboard/areas/content.html",'<div ng-show="dashboard.page.getMessage()" class="alert" ng-class="{\'alert-info\': dashboard.page.getType(\'info\'), \'alert-success\': dashboard.page.getType(\'success\'), \'alert-danger\': dashboard.page.getType(\'danger\')}" role="alert"> {{ dashboard.page.getMessage() }} </div> <div id="loader" ng-hide="dashboard.loader.getRequestComplete()"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <ui-view>'),a.put("views/dashboard/areas/footer.html",'<div class="footer-wrapper"> <div class="footer-left pull-left"> <span>{{ dashboard.footer.copyright_title }}</span> </div> <div class="footer-right pull-right"> <div class="logo-section"> <a ng-href="{{ dashboard.footer.logo_img_link }}"> <h1 ng-bind-html="dashboard.footer.content"></h1> <img ng-src="{{ dashboard.footer.logo_img_url }}" alt="" title=""> </a> </div> </div> </div>'),a.put("views/dashboard/areas/sidebar.html",'<nav id="menu" class="nav-main" role="navigation"> <ul class="nav nav-main" id="justfortest"> <li ng-class="{\'nav-parent\': navLink.is_parent, \'active\': checkIfActive(navLink) }" ng-repeat="navLink in dashboard.sidebar"> <a ng-click="navLink.is_parent" ng-href="{{ navLink.is_parent == false ? navLink.href: \'\'}}" ng-attr-data-toggle="{{ navLink.is_parent == true ? \'collapse\' : false }}" ng-attr-data-target="{{ navLink.is_parent == true ? \'#\'+navLink.child_id : false }}"> <img ng-src="{{ navLink.img_src }}"> <span class="text">{{ navLink.title }}</span> </a> <div id="{{ navLink.child_id }}" class="collapse in" ng-if="navLink.is_parent"> <ul class="nav nav-children"> <li ng-class="{\'active\': checkIfActive(childNav) }" ng-repeat="childNav in navLink.childrens"> <a href="{{ childNav.href }}"> {{ childNav.title }} </a> </li> </ul> </div> </li> </ul> </nav>'),a.put("views/dashboard/areas/topnav.html",'<style type="text/css">#s2id_companySelect{\r\n        width: unset;\r\n        width: 135px !important;\r\n    }\r\n     #s2id_segmentSelect{\r\n        width: unset;\r\n        width: 146px !important;\r\n    }\r\n    #select2-drop{\r\n        width: unset;\r\n        width: 250px !important;\r\n    }\r\n    #s2id_studySelect{\r\n        width: unset;\r\n        width: 135px !important;\r\n    }\r\n    #s2id_segmentSelect .select2-choice:focus, .select2-choice:hover {\r\n        color: #000 !important;\r\n    }\r\n    .select2-result-label{\r\n        font-family: \'Open Sans\', sans-serif !important;\r\n        font-size: 13px;\r\n        color: #333;\r\n        font-weight: normal !important;\r\n    }\r\n    #select2-chosen-2{\r\n        color: #333 !important;\r\n    }\r\n    #select2-chosen-1{\r\n        color: #333 !important;\r\n    }\r\n    .select2-search input{\r\n        font-family: unset;\r\n        font-size: unset;\r\n        font-family: \'Open Sans\',! sans-serif important;\r\n        font-size: 13px;\r\n        color: #333;\r\n        font-weight: normal !important;\r\n    }\r\n    .menu-toggle{\r\n    	left: 465px;\r\n    	\r\n    }\r\n    .lang-disabled,\r\n.lang-disabled[disabled] {\r\n  opacity: .4;\r\n  cursor: default !important;\r\n  pointer-events: none;\r\n}</style> <header class="page-header navbar-fixed-top"> <div class="inner-header"> <div class="segmento-section"> <div class="segmento-selectpicker select-study"> <div class="pull-right"> <select2 id="studySelect" class="nya-selectpicker" ng-model="dashboard.studyId" ng-change="dashboard.updateStudyId()" s2-options="id as value for (id, value) in dashboard.study_data.options"></select2> </div> <!-- <span class="select-caret1" style="color: #fff;"><i class="fa fa-caret-down"></i></span> --> </div> <div class="segmento-selectpicker select-study" ng-if="dashboard.group_company_admin_flag"> <div class="pull-right"> <select2 id="companySelect" class="nya-selectpicker" ng-model="dashboard.company_id" ng-change="dashboard.updateCompanyId()" s2-options="id as value for (id, value) in dashboard.company_data.options"></select2> </div> <!-- <span class="select-caret1" style="color: #fff;"><i class="fa fa-caret-down"></i></span> --> </div> <span ng-switch="dashboard.group_company_admin_flag"> <span ng-switch-when="1"> <span ng-switch="dashboard.company_id"> <span ng-switch-when="0"> <div class="segmento-selectpicker firstselect"> <div class="pull-right"> <select2 id="segmentSelect" class="nya-selectpicker" ng-model="dashboard.segmentId" ng-change="dashboard.updateSegmentId()" s2-options="id as value for (id, value) in dashboard.segment_data.options" disabled title="Please select company to enable this feature" data-placeholder="{{placeholder2}}"> </select2> </div> </div> </span> <span ng-switch-default> <div class="segmento-selectpicker firstselect"> <div class="pull-right"> <select2 id="segmentSelect" class="nya-selectpicker" ng-model="dashboard.segmentId" ng-change="dashboard.updateSegmentId()" s2-options="id as value for (id, value) in dashboard.segment_data.options"> </select2> </div> </div> </span> </span> </span> <span ng-switch-default> <div class="segmento-selectpicker firstselect"> <div class="pull-right"> <select2 id="segmentSelect" class="nya-selectpicker" ng-model="dashboard.segmentId" ng-change="dashboard.updateSegmentId()" s2-options="id as value for (id, value) in dashboard.segment_data.options"> </select2> </div> </div> </span> </span> </div> <span ng-if="dashboard.group_company_admin_flag"> <button class="btn btn-default menu-toggle" ng-show="dashboard.toggle"><i class="fa fa-bars"></i></button> </span> <span ng-if="!dashboard.group_company_admin_flag"> <button class="btn btn-default menu-toggle" style="left:unset;left: 315px" ng-show="dashboard.toggle"><i class="fa fa-bars"></i> </button> </span> <div class="header-logo text-center"> <a ui-sref="dashboard.resumen"><img ng-src="{{ dashboard.user_profile.company_logo }}"></a> </div> <div class="user-profile-section"> <div class="nav_menu1"> <nav> <ul class="nav navbar-nav navbar-right"> <li class=""> <a href="javascript:;" class="user-profile dropdown-toggle" id="userDropdown" data-toggle="dropdown" aria-expanded="false"> {{ dashboard.user_profile.name }} <img ng-src="{{ dashboard.user_profile.profile_photo }}" alt=""> </a> <ul class="dropdown-menu dropdown-usermenu pull-right"> <li ng-repeat="link in dashboard.profile"> <a ng-if="!link.href" ng-href="{{ link.href ? link.href : \'\' }}" ng-attr-data-target="{{ link.data_target ? link.data_target : \'\' }}" ng-attr-data-toggle="{{ link.data_toggle ? link.data_toggle : \'\' }}" class="lang-disabled" id="languagemodal"> {{ link.title }} </a> <a ng-if="link.href" ng-attr-data-toggle="{{ link.data_toggle ? link.data_toggle : \'\' }}" ng-attr-data-target="{{ link.data_target ? link.data_target : \'\' }}" ng-href="{{ link.href ? link.href : \'\' }}"> {{ link.title }} </a> </li> </ul> </li> </ul> </nav> </div> </div> <!-- Menu toggle Section Start --> <div class="menu-toggle-wrapper"> <span class="menu-togggle" id="openNav"><i class="fa fa-bars fa-4" aria-hidden="true"></i></span> </div> <!-- Menu toggle Section End --> </div> </header>'),a.put("views/dashboard/comparativas/benchmark.html",'<style>#preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        background:#ddd;\r\n    }</style> <div id="preloader" ng-show="preloader"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <div class="tab-content-wrapper respeto-tab ayuda" ng-if="benchmark.data.benchmark_data.show_graph"> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ benchmark.data.benchmark_data.page_info.title }}</h3> </div> <div class="top-btn-section pull-right"> <button ng-click="benchmark.dowloadExcel()" type="button" class="md-raised btn-red excel-btn"> <i class="fa fa-download" aria-hidden="true"></i> {{ benchmark.data.benchmark_data.label.btn_excel }} </button> </div> </div> <span id="filter-icon-benchmark" class="filter-icon" data-toggle="collapse" data-target="#demo-benchmark">{{ benchmark.data.benchmark_data.label.filter }} <i class="fa fa-chevron-down" aria-hidden="true"></i> </span> <div id="demo-benchmark" class="filter-main-section collapse"> <div class="filter-wrapper"> <div class="row"> <div class="col-md-7"> <div class="filter-section"> <div class="filter-title"> <h5>{{ benchmark.data.demographic_info.title }}</h5> </div> <div class="filter-radio-sec"> <ul id="demographic_filter_ul"> <li ng-repeat="(iKey, info) in benchmark.data.demographic_info.value"> <div class="r-wrapper"> <input type="checkbox" md-no-ink aria-label="{{ info.title }}" ng-click="benchmark.checkboxFilterToggle(iKey)" ng-checked="benchmark.checkboxFilterIsChecked(iKey)"> {{ info.title }} </div> <div class="s-wrapper"> <div class="pull-left"> <ol class="nya-bs-select" ng-model="benchmark.dropdownFilter[iKey]" disabled title="-- Select Option --"> <li class="nya-bs-option" ng-repeat="(id, option) in info.options" data-value="{{ id }}"> <a>{{ option }}</a> </li> </ol> </div> </div> </li> </ul> </div> </div> </div> <div class="col-md-2"> <div class="filter-section"> <div class="filter-title"> <h5>{{ benchmark.data.benchmark_data.label.media_global }}</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="media_filter_ul"> <li ng-repeat="(pKey, perspective) in benchmark.data.benchmark_data.page_info.perspective"> <input type="checkbox" md-no-ink aria-label="{{ perspective }}" ng-click="benchmark.perspectiveFilterToggle(pKey)" ng-checked="benchmark.perspectiveFilterIsChecked(pKey)"> {{ perspective }} </li> </ul> </div> <br><br> <div class="filter-title"> <h5>{{ benchmark.data.benchmark_data.label.score_heading }}</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="score_filter_ul"> <li ng-repeat="(pKey, pVal) in benchmark.data.benchmark_data.page_info.company_score1 | orderBy:\'pKey\':true"> <input type="checkbox" md-no-ink aria-label="{{ pVal }}" ng-click="benchmark.companyScoreFilterToggle(pKey+1)" ng-checked="benchmark.companyScoreFilterIsChecked(pKey+1)"> {{ pVal }} </li> </ul> </div> </div> </div> <div class="col-md-3"> <div class="filter-section comparativas-benchmark-filter"> <div class="filter-title"> <h5>{{ benchmark.data.benchmark_info.title }}</h5> </div> <div class="anos-wrapper"> <ul id="benchmark_filter_ul"> <li ng-repeat="(vKey, bmark) in benchmark.data.benchmark_info.value"> <input type="checkbox" md-no-ink aria-label="{{ bmark }}" ng-click="benchmark.benchmarkFilterToggle(vKey)" ng-checked="benchmark.benchmarkFilterIsChecked(vKey)"> {{ bmark }} </li> </ul> </div> </div> </div> </div> <div class="img-container submit-btn-wrap pull-right"> <button type="button" ng-click="benchmark.submitFilters()" class="md-raised btn-red excel-btn" id="submit-action"> {{ benchmark.data.benchmark_data.label.btn_submit }} </button> </div> </div> </div> <div class="comparativas-bar"> <div class="bar-graph-wrapper" id="benchmark-bar-base" ng-show="!benchmark.selected"> <div id="d3-bar-benchmark-base"></div> <div class="axis-labels"> <div class="x axis"><span>{{ benchmark.data.benchmark_data.label.x_axis }}</span></div> <div class="y axis"><span>{{ benchmark.data.benchmark_data.label.y_axis }}</span></div> </div> </div> <div class="bar-graph-wrapper" ng-show="benchmark.isAnyChecked(key)" id="{{ \'bar-\' + key }}" ng-repeat="(key, dimension) in benchmark.data.benchmark_data.page_info.dimensions" on-finish-render="benchmark_data"> <div class="col-md-12 filt-listing" ng-show="benchmark.data.benchmark_data.label.filter_label"> <!-- {{benchmark.data.benchmark_data.label.filter_label}} --> <div ng-bind-html="benchmark.data.benchmark_data.label.filter_label"></div> </div> <div class="bar-legend-wrapper pull-right"> <ul ng-if="benchmark.refresh"> <li ng-repeat="perspective in ::benchmark.perspectiveFilter"> <i class="fa fa-stop" ng-style="{\'color\': benchmark.getCheckedStatementColor(dimension.color[perspective], $index)}" aria-hidden="true"></i> {{ ::benchmark.data.benchmark_data.page_info.perspective[perspective] }} </li> <li ng-repeat="bmark in ::benchmark.benchmarkFilter"> <i class="fa fa-stop" ng-style="{\'color\': (bmark | hexcolor) }" aria-hidden="true"></i> {{ ::benchmark.data.benchmark_info.value[bmark] }} </li> <li ng-repeat="comscore in ::benchmark.companyScoreFilter"> <i class="fa fa-stop" ng-style="{\'color\': dimension.companyScoreColor[comscore] }" aria-hidden="true"></i> {{ ::benchmark.data.benchmark_data.page_info.company_score[comscore]}} </li> </ul> </div> <div id="{{ \'d3-bar-benchmark-\' + key }}" class="commom-bar"></div> <div class="axis-labels"> <div class="x axis"><span>{{ benchmark.data.benchmark_data.label.x_axis }}</span></div> <div class="y axis"><span>{{ benchmark.data.benchmark_data.label.y_axis }}</span></div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="bar-accordian"> <div class="bar-accordian-heading-wrap"> <div class="header-main-wrapper"> <table class="table"> <thead> <tr ng-if="benchmark.refresh"> <td width="70" style=""></td> <td width="" class="heading"> <h4>{{ benchmark.data.benchmark_data.label.media_filter }}</h4> </td> <td ng-if="benchmark.selected" style="text-align: right" ng-repeat="perspective in ::benchmark.perspectiveFilter" width="50"> <span ng-click="benchmark.sortStatements(perspective, \'value\', \'perspective\')" data-toggle="tooltip" data-placement="top" title="{{ ::benchmark.data.benchmark_data.page_info.perspective[perspective] }}"> <i class="fa fa-circle" ng-style="{\'color\': benchmark.getCheckedStatementColor(benchmark.data.benchmark_data.page_info.dimensions[benchmark.selected].color[perspective], $index)}"></i> <i class="fa fa-sort" aria-hidden="true"></i> </span> </td> <td ng-if="benchmark.selected" ng-repeat="bmark in ::benchmark.benchmarkFilter" width="50"> <span ng-click="benchmark.sortStatements(bmark, \'benchmark\', \'benchmark\')" data-toggle="tooltip" data-placement="top" title="{{ ::benchmark.data.benchmark_info.value[bmark] }}"> <i class="fa fa-circle" ng-style="{\'color\': (bmark | hexcolor) }"></i> <i class="fa fa-sort" aria-hidden="true"></i> </span> </td> <td ng-if="benchmark.selected" ng-repeat="comscore in ::benchmark.companyScoreFilter" width="50"> <span ng-click="benchmark.sortStatements(comscore, \'value\', \'comscore\')" data-toggle="tooltip" data-placement="top" title="{{ ::benchmark.data.benchmark_data.page_info.company_score[comscore] }}"> <i class="fa fa-circle" ng-style="{\'color\': benchmark.data.benchmark_data.page_info.dimensions[benchmark.selected].companyScoreColor[comscore] }"></i> <i class="fa fa-sort" aria-hidden="true"></i> </span> </td> </tr> </thead> </table> </div> </div> <div class="panel-group" id="accordion"> <div class="panel panel-default respeto-wrapper" ng-repeat="(dkey, table) in benchmark.data.benchmark_data.page_info.dimensions"> <div class="panel-heading" ng-style="{\'background-color\': table.color[0], \'border-color\': table.color[0], \'color\': \'#FFF\'}"> <div data-toggle="collapse" data-parent="#accordion" ng-click="$event.preventDefault()" href="{{ \'#collapse\' + dkey }}" id="{{ \'check\' + dkey }}"> <table class="table"> <tr ng-if="benchmark.refresh"> <td width="70"> <input type="checkbox" md-no-ink aria-label="{{ table.title }}" class="md-primary" ng-checked="benchmark.isChecked(dkey)" md-indeterminate="benchmark.isIndeterminate(dkey)" ng-click="benchmark.toggleAll(dkey);  $event.stopPropagation();"> </td> <td> <h5 class="progress-text">{{ ::table.title }}</h5> </td> <td ng-repeat="perspective in ::benchmark.perspectiveFilter" width="50">{{ ::table.value[perspective] | roundup }} </td> <td ng-repeat="selectedFilter in ::benchmark.benchmarkFilter" width="50">{{ ::table.benchmark[selectedFilter] | roundup }} </td> <td ng-repeat="companyscore in ::benchmark.companyScoreFilter" width="50">{{ :: table.companyScore[companyscore] | roundup }} </td> </tr> </table> </div> </div> <div id="{{ \'collapse\' + dkey }}" class="panel-collapse collapse" ng-class="{\'in\': benchmark.isAnyChecked(dkey) }"> <div class="panel-body"> <div class="a-table respeto"> <table class="table"> <tbody> <tr ng-repeat="(skey, row) in table.statments" ng-if="benchmark.refresh"> <td width="70"> <input type="checkbox" md-no-ink class="md-primary" ng-checked="benchmark.exists(skey, benchmark.statementChecks[dkey][\'selected\'], row.key)" ng-click="benchmark.toggle(skey, benchmark.statementChecks[dkey][\'selected\'], row.key)"> {{ row.number }} </td> <td width="">{{ row.title }} </td> <td width="50" style="text-align: center" ng-repeat="perspective in ::benchmark.perspectiveFilter">{{ ::row.value[perspective] | roundup}} </td> <td width="50" style="text-align: center" ng-repeat="bmark in ::row.benchmark">{{ ::bmark | roundup }} </td> <td width="50" style="text-align: center" ng-repeat="score in ::benchmark.companyScoreFilter">{{ ::row.companyScore[score] | roundup }} </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="tab-content-wrapper respeto-tab ayuda" ng-if="!benchmark.data.benchmark_data.show_graph"> <div class="err"> <div class="row alert alert-danger"> <p class="text-center"> {{ benchmark.data.benchmark_data.no_graph_message }} </p> </div> </div> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ benchmark.data.benchmark_data.page_info.title }}</h3> </div> <span id="filter-icon-benchmark" class="filter-icon" data-toggle="collapse" data-target="#demo-benchmark">Filter <i class="fa fa-chevron-down" aria-hidden="true"></i> </span> <div id="demo-benchmark" class="filter-main-section collapse in"> <div class="filter-wrapper"> <div class="row"> <div class="col-md-7"> <div class="filter-section"> <div class="filter-title"> <h5>{{ benchmark.data.demographic_info.title }}</h5> </div> <div class="filter-radio-sec"> <ul id="demographic_filter_ul"> <li ng-repeat="(iKey, info) in benchmark.data.demographic_info.value"> <div class="r-wrapper"> <input type="checkbox" md-no-ink aria-label="{{ info.title }}" ng-click="benchmark.checkboxFilterToggle(iKey)" ng-checked="benchmark.checkboxFilterIsChecked(iKey)"> {{ info.title }} </div> <div class="s-wrapper"> <div class="pull-left"> <ol class="nya-bs-select" ng-model="benchmark.dropdownFilter[iKey]" disabled title="-- Select Option --"> <li class="nya-bs-option" ng-repeat="(id, option) in info.options" data-value="{{ id }}"> <a>{{ option }}</a> </li> </ol> </div> </div> </li> </ul> </div> </div> </div> <div class="col-md-2"> <div class="filter-section"> <div class="filter-title"> <h5>Media Global</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="media_filter_ul"> <li ng-repeat="(pKey, perspective) in benchmark.data.benchmark_data.page_info.perspective"> <input type="checkbox" md-no-ink aria-label="{{ perspective }}" ng-click="benchmark.perspectiveFilterToggle(pKey)" ng-checked="benchmark.perspectiveFilterIsChecked(pKey)"> {{ perspective }} </li> </ul> </div> </div> </div> <div class="col-md-3"> <div class="filter-section comparativas-benchmark-filter"> <div class="filter-title"> <h5>{{ benchmark.data.benchmark_info.title }}</h5> </div> <div class="anos-wrapper"> <ul id="benchmark_filter_ul"> <li ng-repeat="(vKey, bmark) in benchmark.data.benchmark_info.value"> <input type="checkbox" md-no-ink aria-label="{{ bmark }}" ng-click="benchmark.benchmarkFilterToggle(vKey)" ng-checked="benchmark.benchmarkFilterIsChecked(vKey)"> {{ bmark }} </li> </ul> </div> </div> </div> </div> <div class="img-container submit-btn-wrap pull-right"> <button type="button" ng-click="benchmark.submitFilters()" class="md-raised btn-red excel-btn" id="submit-action"> Submit </button> </div> </div> </div> </div> </div>'),
a.put("views/dashboard/comparativas/demographic.html",'<style>#preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        background: #ddd;\r\n    }</style> <div id="preloader" ng-show="preloader"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <div class="tab-content-wrapper ayuda" ng-if="demographic.data.hist_demo.show_graph"> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ demographic.data.hist_demo.page_info.title }}</h3> </div> <div class="top-btn-section pull-right"> <button type="button" class="md-raised btn-red excel-btn" ng-click="demographic.dowloadExcel()"> <i class="fa fa-download" aria-hidden="true"></i> {{ demographic.data.hist_demo.label.btn_excel }} </button> </div> </div> <span class="filter-icon" data-toggle="collapse" data-target="#filter1"> {{ demographic.data.hist_demo.label.filter }} <i class="fa fa-chevron-down" aria-hidden="true"></i> </span> <!-- Start Filter Section --> <div id="filter1" class="filter-main-section collapse"> <div class="filter-wrapper comparativas-hd-filter"> <div class="row"> <div class="col-md-7"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.demographic_info.title }}</h5> </div> <div class="filter-radio-sec"> <ul> <li ng-repeat="(iKey, info) in demographic.data.demographic_info.value"> <div class="r-wrapper"> <input type="checkbox" md-no-ink aria-label="{{ info.title }}" id="{{iKey}}" ng-click="demographic.checkboxFilterToggle(iKey)" ng-checked="demographic.checkboxFilterIsChecked(iKey)"> {{ info.title }} </div> <div class="s-wrapper"> <div class="pull-left"> <ol class="nya-bs-select" ng-model="demographic.dropdownFilter[iKey]" title="-- Select Option --"> <li class="nya-bs-option" ng-repeat="(id, option) in info.options" data-value="{{ id }}"> <a>{{ option }}</a> </li> </ol> </div> </div> </li> </ul> </div> </div> </div> <div class="col-md-3"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.study_data.title }}</h5> </div> <div class="anos-wrapper"> <ul> <li ng-repeat="(vKey, option) in demographic.data.study_data.options"> <input type="checkbox" md-no-ink aria-label="{{ option }}" id="{{vKey}}" ng-click="demographic.studyFilterToggle(vKey)" ng-checked="demographic.studyFilterIsChecked(vKey)"> {{ option }} </li> </ul> </div> </div> </div> <div class="col-md-2"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.hist_demo.label.media_global }}</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="media_filter_ul"> <li ng-repeat="(pKey, perspective) in demographic.data.hist_demo.page_info.perspective"> <input type="checkbox" md-no-ink aria-label="{{ perspective }}" ng-click="demographic.perspectiveFilterToggle(pKey)" ng-checked="demographic.perspectiveFilterIsChecked(pKey)"> {{ perspective }} </li> </ul> </div> </div> </div> </div> <div class="img-container submit-btn-wrap pull-right"> <button type="button" class="md-raised btn-red excel-btn" id="submit-action" ng-click="demographic.submitFilters()"> {{ demographic.data.hist_demo.label.btn_submit }} </button> </div> </div> </div> <!-- End Filter Section --> <div class="comparativas-bar"> <div class="bar-graph-wrapper" id="bar-base" ng-show="!demographic.selected"> <div id="d3-bar-historic-base"></div> <div class="axis-labels"> <div class="x axis"><span>{{ demographic.data.hist_demo.label.x_axis }}</span></div> <div class="y axis"><span>{{ demographic.data.hist_demo.label.y_axis }}</span></div> </div> </div> <div class="bar-graph-wrapper" id="{{ \'bar-\' + key }}" ng-show="demographic.isAnyChecked(key)" ng-repeat="(key, dimension) in demographic.data.hist_demo.page_info.dimensions" on-finish-render="hist_demo"> <div class="col-md-12 filt-listing" ng-show="demographic.data.hist_demo.label.filter_label"> <!-- {{demographic.data.hist_demo.label.filter_label}} --> <div ng-bind-html="demographic.data.hist_demo.label.filter_label"></div> </div> <div class="bar-legend-wrapper pull-right"> <ul ng-if="demographic.refresh"> <li ng-repeat-start="perspective in ::demographic.perspectiveFilter"></li> <li ng-if="demographic.selected" ng-repeat="study in ::demographic.studyFilter"> <i class="fa fa-stop" ng-style="{\'color\': demographic.getCheckedStatementColor(dimension.color, demographic.upperstarted, \'upper\')}" aria-hidden="true"></i> {{ ::demographic.data.hist_demo.page_info.perspective[perspective] }} - {{ ::demographic.data.study_data.options[study] }} <div style="display: none">{{ demographic.upperstarted = true }}</div> </li> <li ng-repeat-end></li> <div style="display: none">{{ demographic.upperstarted = false }}</div> </ul> </div> <div id="{{ \'d3-bar-historic-\' + key }}" class="commom-bar"></div> <div class="axis-labels"> <div class="x axis"><span>{{ demographic.data.hist_demo.label.x_axis }}</span></div> <div class="y axis"><span>{{ demographic.data.hist_demo.label.y_axis }}</span></div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <div class="bar-accordian"> <div class="bar-accordian-heading-wrap"> <div class="header-main-wrapper"> <table class="table"> <tr ng-if="demographic.refresh"> <td width="70"></td> <td class="ng-binding" width=""> <h4>{{ demographic.data.hist_demo.label.media_filter }}</h4> </td> <td ng-repeat-start="perspective in ::demographic.perspectiveFilter" width="50"></td> <td ng-if="demographic.selected" width="50" ng-repeat="study in ::demographic.studyFilter" class="text-center"> <span ng-click="demographic.sortStatements(perspective, study)" data-toggle="tooltip" data-placement="top" title="{{ ::demographic.data.hist_demo.page_info.perspective[perspective] }} - {{ ::demographic.data.study_data.options[study] }}"> <i class="fa fa-circle" ng-style="{\'color\': demographic.getCheckedStatementColor(demographic.data.hist_demo.page_info.dimensions[demographic.selected].color, demographic.lowerstarted, \'lower\')}"></i> <i class="fa fa-sort" aria-hidden="true"></i> <div style="display: none">{{ demographic.lowerstarted = true }}</div> </span> </td> <td ng-repeat-end width="1" class="text-center"></td> <div style="display: none">{{ demographic.lowerstarted = false }}</div> </tr> </table> </div> </div> <div class="panel-group" id="accordion"> <div class="panel panel-default respeto-wrapper" ng-repeat="(dkey, table) in demographic.data.hist_demo.page_info.dimensions"> <div class="panel-heading" ng-style="{\'background-color\': table.color, \'border-color\': table.color, \'color\': \'#FFF\'}"> <div data-toggle="collapse" data-parent="#accordion" ng-click="$event.preventDefault()" href="{{ \'#collapse\' + dkey }}" id="{{ \'check\' + dkey }}"> <table class="table"> <tr ng-if="demographic.refresh"> <td width="70"> <input type="checkbox" md-no-ink aria-label="{{ table.title }}" class="md-primary" ng-checked="demographic.isChecked(dkey)" md-indeterminate="demographic.isIndeterminate(dkey)" ng-click="demographic.toggleAll(dkey);  $event.stopPropagation();"> </td> <td class="ng-binding" width=""> <h5 class="progress-text">{{ table.title }}</h5> </td> <td ng-repeat-start="perspective in ::demographic.perspectiveFilter" width="50"></td> <td ng-repeat="study in ::demographic.studyFilter" width="50"> {{ ::table.value[study][perspective] | roundup }} </td> <td ng-repeat-end width="1"></td> </tr> </table> </div> </div> <div id="{{ \'collapse\' + dkey }}" class="panel-collapse collapse" ng-class="{\'in\': demographic.isAnyChecked(dkey) }"> <div class="panel-body"> <div class="a-table respeto"> <table class="table"> <tbody> <tr ng-repeat="(skey, row) in table.statments" ng-if="demographic.refresh"> <td width="70"> <input type="checkbox" md-no-ink class="md-primary" ng-checked="demographic.exists(skey, demographic.statementChecks[dkey][\'selected\'], row.key)" ng-click="demographic.toggle(skey, demographic.statementChecks[dkey][\'selected\'], row.key)"> {{ row.number }} </td> <td width=""> {{ row.title }} </td> <td width="50" ng-repeat-start="perspective in ::demographic.perspectiveFilter"></td> <td width="50" ng-repeat="study in ::demographic.studyFilter"> {{ ::row.value[study][perspective] | roundup }} </td> <td width="1" ng-repeat-end></td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="tab-content-wrapper ayuda" ng-if="!demographic.data.hist_demo.show_graph"> <div class="err"> <div class="row alert alert-danger"> <p class="text-center"> {{ demographic.data.hist_demo.no_graph_message }} </p> </div> </div> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ demographic.data.hist_demo.page_info.title }}</h3> </div> <span class="filter-icon" data-toggle="collapse" data-target="#filter1"> Filter <i class="fa fa-chevron-down" aria-hidden="true"></i> </span> <!-- Start Filter Section --> <div id="filter1" class="filter-main-section collapse in"> <div class="filter-wrapper comparativas-hd-filter"> <div class="row"> <div class="col-md-7"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.demographic_info.title }}</h5> </div> <div class="filter-radio-sec"> <ul> <li ng-repeat="(iKey, info) in demographic.data.demographic_info.value"> <div class="r-wrapper"> <input type="checkbox" md-no-ink aria-label="{{ info.title }}" id="{{iKey}}" ng-click="demographic.checkboxFilterToggle(iKey)" ng-checked="demographic.checkboxFilterIsChecked(iKey)"> {{ info.title }} </div> <div class="s-wrapper"> <div class="pull-left"> <ol class="nya-bs-select" ng-model="demographic.dropdownFilter[iKey]" title="-- Select Option --"> <li class="nya-bs-option" ng-repeat="(id, option) in info.options" data-value="{{ id }}"> <a>{{ option }}</a> </li> </ol> </div> </div> </li> </ul> </div> </div> </div> <div class="col-md-3"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.study_data.title }}</h5> </div> <div class="anos-wrapper"> <ul> <li ng-repeat="(vKey, option) in demographic.data.study_data.options"> <input type="checkbox" md-no-ink aria-label="{{ option }}" id="{{vKey}}" ng-click="demographic.studyFilterToggle(vKey)" ng-checked="demographic.studyFilterIsChecked(vKey)"> {{ option }} </li> </ul> </div> </div> </div> <div class="col-md-2"> <div class="filter-section"> <div class="filter-title"> <h5>{{ demographic.data.hist_demo.label.media_global }}</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="media_filter_ul"> <li ng-repeat="(pKey, perspective) in demographic.data.hist_demo.page_info.perspective"> <input type="checkbox" md-no-ink aria-label="{{ perspective }}" ng-click="demographic.perspectiveFilterToggle(pKey)" ng-checked="demographic.perspectiveFilterIsChecked(pKey)"> {{ perspective }} </li> </ul> </div> </div> </div> </div> <div class="img-container submit-btn-wrap pull-right"> <button type="button" class="md-raised btn-red excel-btn" id="submit-action" ng-click="demographic.submitFilters()"> {{ demographic.data.hist_demo.label.btn_submit }} </button> </div> </div> </div> <!-- End Filter Section --> </div> </div>'),a.put("views/dashboard/comparativas/indices.html",'<style>#preloader {\r\n        position: absolute;\r\n        top: 0;\r\n        background:#ddd;\r\n    }</style> <div id="preloader" ng-show="preloader"> <div class="sk-chasing-dots"> <div class="sk-child sk-dot1"></div> <div class="sk-child sk-dot2"></div> </div> </div> <div class="tab-content-wrapper Indices-tab ayuda"> <div class="tab-top-section"> <div class="para-container pull-left"> <h3 class="red-text">{{ indices.data.indices_data.page_info.title }}</h3> </div> <div class="top-btn-section pull-right"> <button type="button" class="md-raised btn-red excel-btn" ng-click="indices.download()"> <i class="fa fa-download" aria-hidden="true"></i> {{ indices.data.indices_data.label.btn_excel }} </button> </div> </div> <span id="filter-icon-indices" class="filter-icon" data-toggle="collapse" data-target="#demo-indices"> {{ indices.data.indices_data.label.filter }} <i class="fa fa-chevron-down" aria-hidden="true"></i> </span> <div id="demo-indices" class="filter-main-section collapse"> <div class="filter-wrapper comparativas-indices-filter"> <div class="row"> <div class="col-md-3"> <div class="filter-section"> <div class="filter-title"> <h5>{{ indices.data.indices_data.label.tab_title }}</h5> </div> <div class="filter-radio-sec indices-redio"> <ul> <li ng-repeat="(vKey, index) in indices.data.indices_data.page_info.index_list"> <input type="checkbox" md-no-ink aria-label="{{ index }}" id="{{vKey}}" ng-click="indices.indexFilterToggle(vKey)" ng-checked="indices.indexFilterIsChecked(vKey)"> {{ index }} </li> </ul> </div> </div> </div> <div class="col-md-3"> <div class="filter-section"> <div class="filter-title"> <h5>{{ indices.data.indices_data.label.media_global }}</h5> </div> <div class="media-global-wrapper anos-wrapper"> <ul id="media_filter_ul"> <li ng-repeat="(pKey, perspective) in indices.data.indices_data.page_info.perspective"> <input type="checkbox" md-no-ink aria-label="{{ perspective }}" ng-click="indices.perspectiveFilterToggle(pKey)" ng-checked="indices.perspectiveFilterIsChecked(pKey)"> {{ perspective }} </li> </ul> </div> </div> </div> <div class="col-md-4"> <div class="filter-section"> <div class="filter-title"> <h5>{{ indices.data.benchmark_info.title }}</h5> </div> <div class="anos-wrapper"> <ul> <li ng-repeat="(vKey, benchmark) in indices.data.benchmark_info.value"> <input type="checkbox" md-no-ink aria-label="{{ benchmark }}" id="{{vKey}}" ng-click="indices.benchmarkFilterToggle(vKey)" ng-checked="indices.benchmarkFilterIsChecked(vKey)"> {{ benchmark }} </li> </ul> </div> </div> </div> <div class="col-md-2"> <div class="filter-section"> <div class="filter-title"> <h5>{{ indices.data.study_data.title }}</h5> </div> <div class="anos-wrapper"> <ul> <li ng-repeat="(vKey, option) in indices.data.study_data.options"> <input type="checkbox" md-no-ink aria-label="{{ option }}" id="{{vKey}}" ng-click="indices.studyFilterToggle(vKey)" ng-checked="indices.studyFilterIsChecked(vKey)"> {{ option }} </li> </ul> </div> </div> </div> </div> <div class="img-container submit-btn-wrap pull-right"> <button type="button" ng-click="indices.submitFilters()" class="md-raised btn-red excel-btn" id="submit-action"> {{ indices.data.indices_data.label.btn_submit }} </button> </div> </div> </div> <div class="col-md-12 filt-listing" ng-show="indices.data.indices_data.label.filter_label"> <!-- {{indices.data.indices_data.label.filter_label}} --> <div ng-bind-html="indices.data.indices_data.label.filter_label"></div> </div> <div class="line-chart-wrapper"> <div class="row"> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="line-chart-section bar-graph-wrapper"> <div class="line-chart-legend pull-right"> <ul> <li ng-repeat="media in selectedMediaFilter"> <i class="fa fa-stop" ng-style="{color: (media | hexcolor)}" aria-hidden="true"></i> {{ indices.data.indices_data.page_info.perspective[media] }} </li> <li ng-repeat="benchmark in selectedInfoFilter"> <i class="fa fa-stop" style="color: #D3D3D3" aria-hidden="true"></i> {{ indices.data.benchmark_info.value[benchmark] }} </li> </ul> </div> <div id="chart1"></div> <div class="axis-labels"> <div class="x axis"><span>{{ indices.data.indices_data.label.x_axis }}</span></div> <div class="y axis"><span>{{ indices.data.indices_data.label.y_axis }}</span></div> </div> </div> </div> </div> </div> <div class="line-chart-details"> <div class="row"> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="line-chart-inner-wrap"> <div class="theme-inner-content"> <div class="panel-group" id="accordion" ng-if="indices.refresh"> <div class="panel panel-default" ng-repeat="indice in ::indices.indexFilter"> <div class="panel-heading"> <h4 class="panel-title"> <a href="javascript:void(0)" data-toggle="collapse" data-parent="#accordion" data-target="#collapse-{{$index}}" aria-expanded="false" class="collapsed"> <i class="fa fa-plus symbolx" aria-hidden="true"></i> {{ ::indices.data.indices_data.page_info.index_list[indice] }} </a> </h4> </div> <div id="collapse-{{$index}}" class="panel-collapse collapse" aria-expanded="false" style="height: 0px"> <div class="panel-body"> <div class="accordian-list"> {{ ::indices.data.indices_data.page_info.bottom_text[indice] }} </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <!-- For export purpose --> <canvas id="canvas" style="display:none"></canvas> <script>$(document).ready(function(){\r\n'+"    $('body').on('click', '[data-toggle=\"collapse\"]', function(){\r\n      var $i = $(this).find('i');\r\n\r\n      $('.symbolx').not($i).each(function(){\r\n        $(this).removeClass('fa-minus');\r\n        $(this).addClass('fa-plus');\r\n      });\r\n\r\n      if($i.hasClass('fa-plus')){\r\n        $i.removeClass('fa-plus');\r\n        $i.addClass('fa-minus');\r\n      } else {\r\n        $i.addClass('fa-plus');\r\n        $i.removeClass('fa-minus');\r\n      }\r\n    })\r\n  })</script>"),a.put("views/dashboard/resumen/demographic_data.html",'<h2>{{resumen.response.demographic_data.title}}</h2> <p>{{resumen.response.demographic_data.description}}</p> <div class="selectpicker-wrap" ng-if="resumen.response.demographic_data.perspective"> <div class="pull-right"> <ol class="nya-bs-select" ng-model="resumen.demographicDataPerspective" ng-change="resumen.redrawGraph(resumen.demographicDataPerspective)" title="{{resumen.response.demographic_data.label_select}}" convert-to-number> <li nya-bs-option="(id, option) in resumen.response.demographic_data.perspective" data-value="id" ng-class="{\'selected\': resumen.demographicDataPerspective == id }"> <a>{{ option }}</a> </li> </ol> </div> </div> <div class="polar-area-chart-wrap"> <div class="row"> <div class="col-md-6 col-sm-6 col-xs-6" ng-repeat="demographicDataGraph in resumen.response.demographic_data.graph" on-finish-render="demographic_data"> <div class="aster-box"> <span>{{ demographicDataGraph.title }}</span> <div class="aster-plot-box-draw"> <div class="polar-area-draw" id="{{ \'demographicData\'+$index }}"></div> </div> <div class="plotter-legend"> <ul> <li ng-repeat="(key, demographicDataLegend) in demographicDataGraph.chart[resumen.demographicDataPerspective]"> <i class="fa fa-circle fa-1" ng-style="{color: (key | hexcolor)}" aria-hidden="true"></i> {{ demographicDataLegend.option }} {{ (demographicDataLegend.value == \'-\') ? \'(N/A)\' : \'\' }} </li> </ul> </div> </div> </div> </div> </div>'),a.put("views/dashboard/resumen/general_indices.html",'<div class="col-sm-12 col-md-12"> <div class="resumen-indices-generales"> <h2>{{resumen.response.general_indices.title}}</h2> <div class="vision-area-selectbox" ng-if="resumen.response.general_indices.perspective.length > 1"> <div class="pull-right"> <ol class="nya-bs-select" ng-model="resumen.generalIndicesPerspective" title="{{resumen.response.general_indices.label_select}}" convert-to-number> <li nya-bs-option="(id, option) in resumen.response.general_indices.perspective" data-value="id" ng-class="{\'selected\': resumen.generalIndicesPerspective == id }"> <a>{{ option }}</a> </li> </ol> </div> </div> <div class="indices-generales-wrapper"> <div class="row"> <div id="s" class="col-lg-4 general-indices-box" ng-class="{\'hidden\': $index > 2 && resumen.hideIndices}" ng-repeat="generalIndicesGraph in resumen.response.general_indices.graph"> <div class="vertical-progressbar"> <div class="v-progress"> <div class="col" ng-style="{\'background\': (generalIndicesGraph.color | lighter)}"> <div class="bar" ng-style="{\'background\': generalIndicesGraph.color, \'height\': generalIndicesGraph.value[resumen.generalIndicesPerspective]+\'%\'}"></div> <div class="bar-value"> <div class="bar-value"> <span>{{generalIndicesGraph.value[resumen.generalIndicesPerspective] | roundup}}</span> </div> <div class="bar-text">{{generalIndicesGraph.name}}</div> </div> <div class="col-hide-div"> <span>{{generalIndicesGraph.description}}</span> </div> </div> </div> </div> </div> </div> <div class="show-indices-wrapper pull-right" ng-if="(resumen.response.general_indices.graph | objectlength) > 3"> <button type="button" ng-click="resumen.hideIndices = !resumen.hideIndices" class="md-raised show-indices"> {{ resumen.hideIndices ? resumen.response.general_indices.label_more : resumen.response.general_indices.label_less }} </button> </div> </div> </div> </div>'),a.put("views/dashboard/resumen/giftwork_model.html",'<div class="col-sm-12 col-md-12"> <div class="resumne-modelo-giftwork-wrapper"> <h2>{{resumen.response.giftwork_model.title}}</h2> <div class="vision-area-selectbox" ng-if="resumen.response.giftwork_model.perspective.length > 1"> <div class="pull-right"> <ol class="nya-bs-select" ng-model="resumen.giftworkModelPerspective" title="{{resumen.response.giftwork_model.label_select}}" convert-to-number> <li nya-bs-option="(id, option) in resumen.response.giftwork_model.perspective" ng-class="{\'selected\': resumen.giftworkModelPerspective == id }" data-value="id"> <a>{{ option }}</a> </li> </ol> </div> </div> <div class="inner-modelo-giftwork-wrapper"> <div class="modelo-giftwork-progressbar-wrapper" ng-repeat="giftworkModelGraph in resumen.response.giftwork_model.graph"> <div class="progress-bar-text"> <span>{{giftworkModelGraph.practice_category}}</span> </div> <div class="modelo-progressbar-wrap"> <div class="progress"> <div class="progress-bar progress-bar-tooltip" role="progressbar" ng-style="{\'width\': giftworkModelGraph.value[resumen.giftworkModelPerspective]+\'%\', \'background-color\': giftworkModelGraph.practice_color};" data-transitiongoal="{{ giftworkModelGraph.value[resumen.giftworkModelPerspective] }}" aria-valuenow="{{ giftworkModelGraph.value[resumen.giftworkModelPerspective] }}" title="" data-original-title="{{giftworkModelGraph.value[resumen.giftworkModelPerspective] | roundup }}%"> <span class="span-right-content">{{ giftworkModelGraph.value[resumen.giftworkModelPerspective] | roundup }}</span> </div> </div> </div> </div> </div> <div class="button-wrapper text-center"> <button class="md-raised btn-red" ui-sref="dashboard.sections.giftwork">{{ resumen.response.giftwork_model.label_button }}</button> </div> </div> </div> <style>.span-right-content {\r\n        float:right; \r\n        margin-right:5px;\r\n    }</style> <script>$(document).ready(function(){\r\n    setTimeout(function(){\r\n      $(\'.progress-bar-tooltip\').tooltip();\r\n    },5000);\r\n  })</script>'),a.put("views/dashboard/resumen/gptw_model.html",'<div class="col-sm-12 col-md-12" ng-show="resumen.response.gptw_model"> <div class="resumne-modelo-gptw-wrapper margin-bottom"> <h2>{{resumen.response.gptw_model.title}}</h2> <p>{{resumen.response.gptw_model.description}}</p> </div> <div class="radial-progress-bar outcome"> <div class="row"> <div ng-class="{{ \'col-md-\' + (12 / resumen.response.gptw_model.graphs.length) }}" ng-repeat="circle in resumen.response.gptw_model.graphs" class="circle-sec {{ \'col-md-\' + (12 / resumen.response.gptw_model.graphs.length) }}"> <div ng-class="{{ circle.type }}" ng-if="circle.type == \'circle\' && circle.chart.length > 0"> <span class="pc-title">{{circle.title}}</span> <div radial-circle-widget data="circle.chart" type="circle.type" class="radial-cicle-sec"></div> <div class="radial-legend"> <ul> <li ng-repeat="chart in circle.chart"> <i class="fa fa-square fa-1" ng-style="{\'color\': ($index | hexcolor)}" aria-hidden="true"></i> <span title="{{chart.segmentName}}">{{chart.title}}</span> </li> </ul> </div> </div> <div ng-class="{{ circle.type }}" ng-if="circle.type == \'box\' && resumen.response.gptw_model.graphs[0].chart.length > 0"> <div class="rectangle-progressbar" ng-if="circle.type == \'box\'"> <span class="pc-title">{{circle.title}}</span> <div class="progress-circle" title="{{circle.actual_value}}"> <span class="pc-score">{{ circle.value }}</span> <div class="square"></div> </div> <!--<span style="color:#aa272f;">{{circle.actual_value }}</span>--> </div> </div> </div> </div> </div></div>'),a.put("views/dashboard/resumen/open_ended_model.html",'<div class="col-sm-12 col-md-12"> <div class="aster-plot-graph"> <span class="as-heading">{{resumen.response.open_ended_model.title}}</span> <p>{{resumen.response.open_ended_model.description}}</p> <div class="inner-aster-plot-graph"> <div class="aster-plot-box" ng-repeat="(key, openEndedModelGraph) in resumen.response.open_ended_model.graph" on-finish-render="open_ended_model"> <div class="aster-plot-box-draw"> <div class="polar-area-draw" id="{{\'openEndedModel\'+key}}"></div> </div> <div class="plotter-legend"> <span>{{ openEndedModelGraph.title }}</span> <ul> <li ng-repeat="(key,openEndedModelLegend) in openEndedModelGraph.chart"> <i class="fa fa-circle fa-1" ng-style="{color: (key | hexcolor)}" aria-hidden="true"></i> {{openEndedModelLegend.title}} </li> </ul> </div> </div> </div> </div> <div class="button-wrapper text-center"> <button class="md-raised btn-red" ui-sref="dashboard.sections.mgptw">{{ resumen.response.open_ended_model.label_button }}</button> </div> </div>'),a.put("views/dashboard/resumen/responses_distribution.html",'<div class="distribution-preguntas magrgin-bottom"> <div class="col-sm-12 col-md-12 distribution-statement"> <h2>{{ resumen.response.responses_distribution.title }}</h2> <div class="selectpicker-wrap" ng-if="resumen.response.responses_distribution.perspective.length > 1"> <div class="pull-right"> <ol class="nya-bs-select" ng-change="resumen.redrawStackedGraph(resumen.responsesDistributionPerspective)" ng-model="resumen.responsesDistributionPerspective" title="{{ resumen.response.responses_distribution.label_select }}" convert-to-number> <li nya-bs-option="(id, option) in resumen.response.responses_distribution.perspective" data-value="id" ng-class="{\'selected\': resumen.responsesDistributionPerspective == id }"> <a>{{ option }}</a> </li> </ol> </div> </div> <div class="stacked-prgressbar"> <div class="inner-stacked-progressbar"> <svg id="sp-chart"></svg> </div> <div class="stacked-legend"> <ul> <li ng-repeat="legend in resumen.response.responses_distribution.graph"> <i class="fa fa-circle" aria-hidden="true" ng-style="{\'color\': resumen.stackedColors[$index]}"></i> {{ legend.description }} </li> </ul> </div> </div> </div> </div>'),a.put("views/dashboard/resumen/survey_data.html",'<div class="col-sm-12 col-md-12"> <div class="datos-encuesta-wrapper magrgin-bottom"> <h2>{{resumen.response.survey_data.title}}</h2> <div class="inner-datos-encuesta-wrap"> <div class="datos-box" ng-if="$even" ng-repeat="surveyDataGraph in resumen.response.survey_data.value"> <div class="datos-box-top"> <h4>{{ resumen.response.survey_data.value[$index].title }}</h4> <p>{{ resumen.response.survey_data.value[$index].value }}</p> </div> <div class="datos-box-bottom"> <h4>{{ resumen.response.survey_data.value[$index + 1].title }}</h4> <p>{{ resumen.response.survey_data.value[$index + 1].value }}</p> </div> </div> </div> </div> </div>')}]);